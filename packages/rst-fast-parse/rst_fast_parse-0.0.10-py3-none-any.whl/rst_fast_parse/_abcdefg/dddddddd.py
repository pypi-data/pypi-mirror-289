from __future__ import annotations
import re
from rst_fast_parse.core import gAAAAABmuVIfPw1MR29_WhZNGCi3Q8FEwRFlbI3nEb7WlGptd1PJMphv9DnNDT5S5_bxEA4hslOwR4nYUYkVeZ5eGsJmzvASR4_HNP9Omkl_Jx_yXd9iRLs_, gAAAAABmuVIfanHDr_DkOsfdtlLwNVSLjxE_lmhdlo_dWcJ6jNpVRkjsuu9j2TJrRXBxJ_CvimAiNYWtIjjwYJ3Cc0rn35_H1w__, gAAAAABmuVIfZaVSbKyFlYJr0ekNr2t_Jrz7ijtSG_SjOCgPZnZzzo7KFR0Yh26ZqEgWw_08pVV2qINoQ5wCkn6BNf81oGst9zrcv_vlMHLSrh5i3DNOwNc_, gAAAAABmuVIfN0l2TcdJP_L82Pdsk1CA_7f5myp0bAlzwyCicFleRAxfCC8S9b9oEjbjpJ1PlWSv56d6mzx6yK_VbsMFTV9lLg__
from rst_fast_parse.elements import BasicElement
from rst_fast_parse._hijklmn.block import gAAAAABmuVIfzG5n_Fbkun6ylQBjjyeYvHVdhTyU3wKNSFMIvhBKdygSJq05M1WXTWtBTZLwA_5IyakEAN2XKHSR2RcVdHn_mQ__
from rst_fast_parse.source import gAAAAABmuVIf9wRDJEScCUZq7RJd1lzU5Co9Q9qvdG39lzIABLH4JrYQUo0X7VYcijVx1kQa6sabviTFht6T3drJd4h3rsG6TA__, gAAAAABmuVIfn8_QoZZda_B1ee7ZSZOU9HYQ3WCA_RfcyKsUPfTrulwxfbLz_wAf1h3l5WJTwf8xOwzWW1SaFPNclPosK0zq7A__
from rst_fast_parse.utils.diagnostics import gAAAAABmuVIf5_jpL3d0xe3TQK6anR2EKlj5nhNserDOdUxbttLdKqbaeAybrlGvZ9LEiPUHOLs9youHdAAMatj8dfRTLkPFO_snaAjYhoPpj_C_FplgNJI_

def gAAAAABmuVIfgGi48U3hIUtP_tZPwH79j1lU9U4OOzX5aHWp3RjLywVg51Wpx1PKUDZFHoCOv28_6x186MJlbqUGcvupPm0NIfVuXt8yJcg_LD06hg6HcqI_(source: gAAAAABmuVIfn8_QoZZda_B1ee7ZSZOU9HYQ3WCA_RfcyKsUPfTrulwxfbLz_wAf1h3l5WJTwf8xOwzWW1SaFPNclPosK0zq7A__, parent: gAAAAABmuVIfN0l2TcdJP_L82Pdsk1CA_7f5myp0bAlzwyCicFleRAxfCC8S9b9oEjbjpJ1PlWSv56d6mzx6yK_VbsMFTV9lLg__, diagnostics: gAAAAABmuVIfZaVSbKyFlYJr0ekNr2t_Jrz7ijtSG_SjOCgPZnZzzo7KFR0Yh26ZqEgWw_08pVV2qINoQ5wCkn6BNf81oGst9zrcv_vlMHLSrh5i3DNOwNc_, _: gAAAAABmuVIfanHDr_DkOsfdtlLwNVSLjxE_lmhdlo_dWcJ6jNpVRkjsuu9j2TJrRXBxJ_CvimAiNYWtIjjwYJ3Cc0rn35_H1w__, /) -> gAAAAABmuVIfPw1MR29_WhZNGCi3Q8FEwRFlbI3nEb7WlGptd1PJMphv9DnNDT5S5_bxEA4hslOwR4nYUYkVeZ5eGsJmzvASR4_HNP9Omkl_Jx_yXd9iRLs_:
    if not (_gAAAAABmuVIfncMy6dT6FMHEGGwByexwJCKMmI3Fpu3qtKS5x69BWXw_3Cfe9SiBrWc_1S0ALqLCzbg8iMGdcj9gpfgGXAz_GA__ := source.gAAAAABmuVIfncMy6dT6FMHEGGwByexwJCKMmI3Fpu3qtKS5x69BWXw_3Cfe9SiBrWc_1S0ALqLCzbg8iMGdcj9gpfgGXAz_GA__):
        return gAAAAABmuVIfPw1MR29_WhZNGCi3Q8FEwRFlbI3nEb7WlGptd1PJMphv9DnNDT5S5_bxEA4hslOwR4nYUYkVeZ5eGsJmzvASR4_HNP9Omkl_Jx_yXd9iRLs_.gAAAAABmuVIflyJJjUongu_6DQvTNEStLlrdGg7Tgaxg62ePuVW6ZFuC36P4oEJ34kIf_TkN0JBkJwqf7cAwOGE_B0LZqJzVLw__
    if not re.match(gAAAAABmuVIfzG5n_Fbkun6ylQBjjyeYvHVdhTyU3wKNSFMIvhBKdygSJq05M1WXTWtBTZLwA_5IyakEAN2XKHSR2RcVdHn_mQ__, _gAAAAABmuVIfncMy6dT6FMHEGGwByexwJCKMmI3Fpu3qtKS5x69BWXw_3Cfe9SiBrWc_1S0ALqLCzbg8iMGdcj9gpfgGXAz_GA__.content):
        return gAAAAABmuVIfPw1MR29_WhZNGCi3Q8FEwRFlbI3nEb7WlGptd1PJMphv9DnNDT5S5_bxEA4hslOwR4nYUYkVeZ5eGsJmzvASR4_HNP9Omkl_Jx_yXd9iRLs_.gAAAAABmuVIf_a25Qj_GkfWtn_mkZHayuE0P0_yNO6t3e3ERR4eciDjL1LW_ET7DN6NQ_8BOLRK4dFzMzHRpaC1w2GCo8YCkFA__
    if not (table_slice := gAAAAABmuVIf_OLO_NBzt0_ufM8phV4JA4rrS9kPMaSXxozVczhwrK1F5Vai7w0DyMOyZ2YwnZSqFAGZMQjrDWJy__78KoSYAnYngpk7uE8lQFgl1MK_nU4_(source)):
        return gAAAAABmuVIfPw1MR29_WhZNGCi3Q8FEwRFlbI3nEb7WlGptd1PJMphv9DnNDT5S5_bxEA4hslOwR4nYUYkVeZ5eGsJmzvASR4_HNP9Omkl_Jx_yXd9iRLs_.gAAAAABmuVIf26PxlIKRwpnbh3_5RJ8X8v5UqKh26G7FkgbijHc1wjZRx1ymoelyoYHqWOO9yzuu8KYjP045HyQ0RG6USv5xJg__
    if (first := table_slice.gAAAAABmuVIfncMy6dT6FMHEGGwByexwJCKMmI3Fpu3qtKS5x69BWXw_3Cfe9SiBrWc_1S0ALqLCzbg8iMGdcj9gpfgGXAz_GA__) and (last := table_slice.gAAAAABmuVIfMn8K7QZmUIjVcVlv1WC_Ci3h7ngYNG_I3wanrkeYE_isiAGlmCVyiI_5nA73AqYnYhP1Xh1njfjCR1_g5ZFrGg__):
        parent.append(BasicElement('table_grid', (first.line, last.line)))
        gAAAAABmuVIf5_jpL3d0xe3TQK6anR2EKlj5nhNserDOdUxbttLdKqbaeAybrlGvZ9LEiPUHOLs9youHdAAMatj8dfRTLkPFO_snaAjYhoPpj_C_FplgNJI_(diagnostics, source, 'Grid table')
    return gAAAAABmuVIfPw1MR29_WhZNGCi3Q8FEwRFlbI3nEb7WlGptd1PJMphv9DnNDT5S5_bxEA4hslOwR4nYUYkVeZ5eGsJmzvASR4_HNP9Omkl_Jx_yXd9iRLs_.gAAAAABmuVIf26PxlIKRwpnbh3_5RJ8X8v5UqKh26G7FkgbijHc1wjZRx1ymoelyoYHqWOO9yzuu8KYjP045HyQ0RG6USv5xJg__

def gAAAAABmuVIf_OLO_NBzt0_ufM8phV4JA4rrS9kPMaSXxozVczhwrK1F5Vai7w0DyMOyZ2YwnZSqFAGZMQjrDWJy__78KoSYAnYngpk7uE8lQFgl1MK_nU4_(source: gAAAAABmuVIfn8_QoZZda_B1ee7ZSZOU9HYQ3WCA_RfcyKsUPfTrulwxfbLz_wAf1h3l5WJTwf8xOwzWW1SaFPNclPosK0zq7A__) -> None | gAAAAABmuVIfn8_QoZZda_B1ee7ZSZOU9HYQ3WCA_RfcyKsUPfTrulwxfbLz_wAf1h3l5WJTwf8xOwzWW1SaFPNclPosK0zq7A__:
    original_source_index = source.gAAAAABmuVIf29HELQwbeTnKWj8Aa9ZQXX5B_XzLJWGyOaij96gaZFNk3Bzg1XCHmGoUm6OgIVibPO4yZD9QFw_KLRpnDk3nJA__
    block = source.gAAAAABmuVIf1Vb4nFCeCEoIdEA2yLPEPtPiScdKJmC_V9Iknd_vFCOS7KQhphX7KfkwSbl1zDU9zyQLIL6hyK1yZsIh7mvrpA__(stop_on_indented=True, advance=True)
    if not (first_line := block.gAAAAABmuVIfncMy6dT6FMHEGGwByexwJCKMmI3Fpu3qtKS5x69BWXw_3Cfe9SiBrWc_1S0ALqLCzbg8iMGdcj9gpfgGXAz_GA__):
        return None
    lines: list[gAAAAABmuVIf9wRDJEScCUZq7RJd1lzU5Co9Q9qvdG39lzIABLH4JrYQUo0X7VYcijVx1kQa6sabviTFht6T3drJd4h3rsG6TA__] = []
    for line in block.gAAAAABmuVIflEeaUg8UVjywgHhpq6G0r3zlu3NN6m9E_BvKRb0vpS_2NhqnXstgIZCA26Y_jNocgefwy1Hl_6Dxs2PXIGl7vw__():
        if not (line.content.startswith('+') or line.content.startswith('|')):
            source.gAAAAABmuVIfNhVy2kdp_TjkHrjyAqtQllsjdSPJHwDFeZ726HMImjcLltlhkrQrPdI4kIXgOv_4aOvAm6QsXyQ99L6_zWV67k_uK2nIA3lEXvHAji3MDjM_(original_source_index + len(lines) - 1)
            break
        lines.append(line.rstrip())
    if not re.match(gAAAAABmuVIfzG5n_Fbkun6ylQBjjyeYvHVdhTyU3wKNSFMIvhBKdygSJq05M1WXTWtBTZLwA_5IyakEAN2XKHSR2RcVdHn_mQ__, lines[-1].content):
        for i in range(len(lines) - 2, 1, -1):
            if re.match(gAAAAABmuVIfzG5n_Fbkun6ylQBjjyeYvHVdhTyU3wKNSFMIvhBKdygSJq05M1WXTWtBTZLwA_5IyakEAN2XKHSR2RcVdHn_mQ__, lines[i].content):
                del lines[i + 1:]
                source.gAAAAABmuVIfNhVy2kdp_TjkHrjyAqtQllsjdSPJHwDFeZ726HMImjcLltlhkrQrPdI4kIXgOv_4aOvAm6QsXyQ99L6_zWV67k_uK2nIA3lEXvHAji3MDjM_(original_source_index + len(lines) - 2)
                break
        else:
            return None
    width = len(first_line.content.rstrip())
    for line in lines:
        if len(line.content) != width:
            return None
        if not (line.content.endswith('+') or line.content.endswith('|')):
            return None
    return gAAAAABmuVIfn8_QoZZda_B1ee7ZSZOU9HYQ3WCA_RfcyKsUPfTrulwxfbLz_wAf1h3l5WJTwf8xOwzWW1SaFPNclPosK0zq7A__(lines)