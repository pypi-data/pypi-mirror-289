"use strict";(self.webpackChunkknx_frontend=self.webpackChunkknx_frontend||[]).push([[4538],{32872:function(t,e,r){r.d(e,{x:function(){return n}});r(53501),r(34517);var n=function(t,e){return t&&t.config.components.includes(e)}},14656:function(t,e,r){r.d(e,{v:function(){return i}});var n=r(22481),i=(r(53501),r(650),r(34517),function(t,e,r,i){var u=t.split(".",3),a=(0,n.A)(u,3),o=a[0],c=a[1],s=a[2];return Number(o)>e||Number(o)===e&&(void 0===i?Number(c)>=r:Number(c)>r)||void 0!==i&&Number(o)===e&&Number(c)===r&&Number(s)>=i})},74538:function(t,e,r){r.d(e,{_4:function(){return w},fq:function(){return k},Yd:function(){return _},f$:function(){return A}});var n=r(95803),i=r(94881),u=r(1781),a=(r(53501),r(21950),r(68113),r(55888),r(34517),r(56262),r(8339),r(19263)),o=r(59782),c=r(80085),s=r(2503),d=(r(650),{10:"mdi:battery-10",20:"mdi:battery-20",30:"mdi:battery-30",40:"mdi:battery-40",50:"mdi:battery-50",60:"mdi:battery-60",70:"mdi:battery-70",80:"mdi:battery-80",90:"mdi:battery-90",100:"mdi:battery"}),l={10:"mdi:battery-charging-10",20:"mdi:battery-charging-20",30:"mdi:battery-charging-30",40:"mdi:battery-charging-40",50:"mdi:battery-charging-50",60:"mdi:battery-charging-60",70:"mdi:battery-charging-70",80:"mdi:battery-charging-80",90:"mdi:battery-charging-90",100:"mdi:battery-charging"},f=function(t,e){var r=Number(t);if(isNaN(r))return"off"===t?"mdi:battery":"on"===t?"mdi:battery-alert":"mdi:battery-unknown";var n=10*Math.round(r/10);return e&&r>=10?l[n]:e?"mdi:battery-charging-outline":r<=5?"mdi:battery-alert-variant-outline":d[n]},p=function(t,e){var r=(0,c.t)(t),n=null!=e?e:t.state,i=t.attributes.device_class;switch(r){case"update":return function(t,e){return"on"===(null!=e?e:t.state)?(0,s.Jy)(t)?"mdi:package-down":"mdi:package-up":"mdi:package"}(t,n);case"sensor":if("battery"===i)return function(t,e){var r=null!=e?e:t.state;return f(r)}(t,n);break;case"device_tracker":return function(t,e){var r=null!=e?e:t.state;return"router"===(null==t?void 0:t.attributes.source_type)?"home"===r?"mdi:lan-connect":"mdi:lan-disconnect":["bluetooth","bluetooth_le"].includes(null==t?void 0:t.attributes.source_type)?"home"===r?"mdi:bluetooth-connect":"mdi:bluetooth":"not_home"===r?"mdi:account-arrow-right":"mdi:account"}(t,n);case"sun":return"above_horizon"===n?"mdi:white-balance-sunny":"mdi:weather-night";case"input_datetime":if(!t.attributes.has_date)return"mdi:clock";if(!t.attributes.has_time)return"mdi:calendar"}},v=r(32872),b=r(14656),m={entity:{},entity_component:{},services:{domains:{}}},y=function(){var t=(0,u.A)((0,i.A)().mark((function t(e,r,n){return(0,i.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.callWS({type:"frontend/get_icons",category:r,integration:n}));case 1:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),h=function(){var t=(0,u.A)((0,i.A)().mark((function t(e,r){var n,u=arguments;return(0,i.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u.length>2&&void 0!==u[2]&&u[2]||!(r in m.entity)){t.next=3;break}return t.abrupt("return",m.entity[r]);case 3:if((0,v.x)(e,r)&&(0,b.v)(e.connection.haVersion,2024,2)){t.next=5;break}return t.abrupt("return",void 0);case 5:return n=y(e,"entity",r).then((function(t){return null==t?void 0:t.resources[r]})),m.entity[r]=n,t.abrupt("return",m.entity[r]);case 8:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),g=function(){var t=(0,u.A)((0,i.A)().mark((function t(e,r){var u,a,o=arguments;return(0,i.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=o.length>2&&void 0!==o[2]&&o[2],t.next=3;break;case 3:if(a||!m.entity_component.resources||null===(u=m.entity_component.domains)||void 0===u||!u.includes(r)){t.next=5;break}return t.abrupt("return",m.entity_component.resources.then((function(t){return t[r]})));case 5:if((0,v.x)(e,r)){t.next=7;break}return t.abrupt("return",void 0);case 7:return m.entity_component.domains=(0,n.A)(e.config.components),m.entity_component.resources=y(e,"entity_component").then((function(t){return t.resources})),t.abrupt("return",m.entity_component.resources.then((function(t){return t[r]})));case 10:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),_=function(){var t=(0,u.A)((0,i.A)().mark((function t(e,r){var n,u,a=arguments;return(0,i.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.length>2&&void 0!==a[2]&&a[2],r){t.next=6;break}if(n||!m.services.all){t.next=4;break}return t.abrupt("return",m.services.all);case 4:return m.services.all=y(e,"services",r).then((function(t){return m.services.domains=t.resources,null==t?void 0:t.resources})),t.abrupt("return",m.services.all);case 6:if(n||!(r in m.services.domains)){t.next=8;break}return t.abrupt("return",m.services.domains[r]);case 8:if(!m.services.all||n){t.next=13;break}return t.next=11,m.services.all;case 11:if(!(r in m.services.domains)){t.next=13;break}return t.abrupt("return",m.services.domains[r]);case 13:if((0,v.x)(e,r)){t.next=15;break}return t.abrupt("return",void 0);case 15:return u=y(e,"services",r),m.services.domains[r]=u.then((function(t){return null==t?void 0:t.resources[r]})),t.abrupt("return",m.services.domains[r]);case 18:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),k=function(){var t=(0,u.A)((0,i.A)().mark((function t(e,r,n){var u,a,o;return(0,i.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==(a=null===(u=e.entities)||void 0===u?void 0:u[r.entity_id])||!a.icon){t.next=3;break}return t.abrupt("return",a.icon);case 3:return o=(0,c.t)(r),t.abrupt("return",x(e,o,r,n,a));case 5:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),x=function(){var t=(0,u.A)((0,i.A)().mark((function t(e,r,n,u,a){var o,c,s,d,l,f,v,b,m,y,_,k;return(0,i.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=null==a?void 0:a.platform,c=null==a?void 0:a.translation_key,s=null==n?void 0:n.attributes.device_class,d=null!=u?u:null==n?void 0:n.state,!c||!o){t.next=9;break}return t.next=7,h(e,o);case 7:(f=t.sent)&&(m=null===(v=f[r])||void 0===v?void 0:v[c],l=d&&(null==m||null===(b=m.state)||void 0===b?void 0:b[d])||(null==m?void 0:m.default));case 9:if(!l&&n&&(l=p(n,d)),l){t.next=15;break}return t.next=13,g(e,r);case 13:(y=t.sent)&&(k=s&&y[s]||y._,l=d&&(null==k||null===(_=k.state)||void 0===_?void 0:_[d])||(null==k?void 0:k.default));case 15:return t.abrupt("return",l);case 16:case"end":return t.stop()}}),t)})));return function(e,r,n,i,u){return t.apply(this,arguments)}}(),A=function(){var t=(0,u.A)((0,i.A)().mark((function t(e,r){var n,u,c,s;return(0,i.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=(0,a.m)(r),c=(0,o.Y)(r),t.next=4,_(e,u);case 4:if((s=t.sent)&&(n=s[c]),n){t.next=10;break}return t.next=9,w(e,u);case 9:n=t.sent;case 10:return t.abrupt("return",n);case 11:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),w=function(){var t=(0,u.A)((0,i.A)().mark((function t(e,r,n){var u,a;return(0,i.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(e,r);case 2:if(!(u=t.sent)){t.next=6;break}return a=n&&u[n]||u._,t.abrupt("return",null==a?void 0:a.default);case 6:return t.abrupt("return",void 0);case 7:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()},2503:function(t,e,r){r.d(e,{A_:function(){return a},Jy:function(){return u}});r(94881),r(1781),r(69466),r(36724),r(14460),r(68113),r(84368),r(55888),r(66274),r(85038),r(98168),r(93758),r(19263),r(80085);var n=r(60222),i=(r(66412),r(31447),function(t){return t[t.INSTALL=1]="INSTALL",t[t.SPECIFIC_VERSION=2]="SPECIFIC_VERSION",t[t.PROGRESS=4]="PROGRESS",t[t.BACKUP=8]="BACKUP",t[t.RELEASE_NOTES=16]="RELEASE_NOTES",t}({})),u=function(t){return function(t){return(0,n.$)(t,i.PROGRESS)&&"number"==typeof t.attributes.in_progress}(t)||!!t.attributes.in_progress},a=function(t,e){var r=t.state,a=t.attributes;if("off"===r)return a.latest_version&&a.skipped_version===a.latest_version?a.latest_version:e.formatEntityState(t);if("on"===r&&u(t))return(0,n.$)(t,i.PROGRESS)&&"number"==typeof a.in_progress?e.localize("ui.card.update.installing_with_progress",{progress:a.in_progress}):e.localize("ui.card.update.installing");return e.formatEntityState(t)}}}]);