"use strict";(self.webpackChunkknx_frontend=self.webpackChunkknx_frontend||[]).push([[1546],{31546:function(e,n,t){t.r(n),t.d(n,{HaSTTSelector:function(){return w}});var i,a,s,r,d,u,l=t(6238),o=t(36683),h=t(89231),v=t(29864),c=t(83647),g=t(8364),k=(t(77052),t(98597)),f=t(196),p=t(94881),y=t(1781),_=t(27526),A=(t(4187),t(53501),t(36724),t(68113),t(34517),t(66274),t(85767),t(98168),t(33167)),b=t(24517),M=t(91330),m=t(11355),Z=(t(9484),t(96334),"__NONE_OPTION__"),q={cloud:"Home Assistant Cloud"},w=((0,g.A)([(0,f.EM)("ha-stt-picker")],(function(e,n){var t,d=function(n){function t(){var n;(0,h.A)(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=(0,v.A)(this,t,[].concat(a)),e(n),n}return(0,c.A)(t,n),(0,o.A)(t)}(n);return{F:d,d:[{kind:"field",decorators:[(0,f.MZ)()],key:"value",value:void 0},{kind:"field",decorators:[(0,f.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,f.MZ)()],key:"language",value:void 0},{kind:"field",decorators:[(0,f.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,f.MZ)({type:Boolean,reflect:!0})],key:"disabled",value:function(){return!1}},{kind:"field",decorators:[(0,f.MZ)({type:Boolean})],key:"required",value:function(){return!1}},{kind:"field",decorators:[(0,f.wk)()],key:"_engines",value:void 0},{kind:"method",key:"render",value:function(){var e,n=this;if(!this._engines)return k.s6;var t=null!==(e=this.value)&&void 0!==e?e:this.required?this._engines.find((function(e){var n;return 0!==(null===(n=e.supported_languages)||void 0===n?void 0:n.length)})):Z;return(0,k.qy)(i||(i=(0,l.A)(["\n      <ha-select\n        .label=","\n        .value=","\n        .required=","\n        .disabled=","\n        @selected=","\n        @closed=","\n        fixedMenuPosition\n        naturalMenuWidth\n      >\n        ","\n        ","\n      </ha-select>\n    "])),this.label||this.hass.localize("ui.components.stt-picker.stt"),t,this.required,this.disabled,this._changed,b.d,this.required?k.s6:(0,k.qy)(a||(a=(0,l.A)(["<ha-list-item .value=",">\n              ","\n            </ha-list-item>"])),Z,this.hass.localize("ui.components.stt-picker.none")),this._engines.map((function(e){var t,i=e.engine_id;if(e.engine_id.includes(".")){var a=n.hass.states[e.engine_id];i=a?(0,M.u)(a):e.engine_id}else e.engine_id in q&&(i=q[e.engine_id]);return(0,k.qy)(s||(s=(0,l.A)(["<ha-list-item\n            .value=","\n            .disabled=","\n          >\n            ","\n          </ha-list-item>"])),e.engine_id,0===(null===(t=e.supported_languages)||void 0===t?void 0:t.length),i)})))}},{kind:"method",key:"willUpdate",value:function(e){(0,_.A)(d,"willUpdate",this,3)([e]),this.hasUpdated?e.has("language")&&this._debouncedUpdateEngines():this._updateEngines()}},{kind:"field",key:"_debouncedUpdateEngines",value:function(){var e=this;return(0,m.s)((function(){return e._updateEngines()}),500)}},{kind:"method",key:"_updateEngines",value:(t=(0,y.A)((0,p.A)().mark((function e(){var n,t,i=this;return(0,p.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a=this.hass,s=this.language,r=this.hass.config.country||void 0,a.callWS({type:"stt/engine/list",language:s,country:r});case 2:if(this._engines=e.sent.providers,this.value){e.next=5;break}return e.abrupt("return");case 5:t=this._engines.find((function(e){return e.engine_id===i.value})),(0,A.r)(this,"supported-languages-changed",{value:null==t?void 0:t.supported_languages}),t&&0!==(null===(n=t.supported_languages)||void 0===n?void 0:n.length)||(this.value=void 0,(0,A.r)(this,"value-changed",{value:this.value}));case 8:case"end":return e.stop()}var a,s,r}),e,this)}))),function(){return t.apply(this,arguments)})},{kind:"get",static:!0,key:"styles",value:function(){return(0,k.AH)(r||(r=(0,l.A)(["\n      ha-select {\n        width: 100%;\n      }\n    "])))}},{kind:"method",key:"_changed",value:function(e){var n,t=this,i=e.target;!this.hass||""===i.value||i.value===this.value||void 0===this.value&&i.value===Z||(this.value=i.value===Z?void 0:i.value,(0,A.r)(this,"value-changed",{value:this.value}),(0,A.r)(this,"supported-languages-changed",{value:null===(n=this._engines.find((function(e){return e.engine_id===t.value})))||void 0===n?void 0:n.supported_languages}))}}]}}),k.WF),(0,g.A)([(0,f.EM)("ha-selector-stt")],(function(e,n){var t=function(n){function t(){var n;(0,h.A)(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=(0,v.A)(this,t,[].concat(a)),e(n),n}return(0,c.A)(t,n),(0,o.A)(t)}(n);return{F:t,d:[{kind:"field",decorators:[(0,f.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,f.MZ)({attribute:!1})],key:"selector",value:void 0},{kind:"field",decorators:[(0,f.MZ)()],key:"value",value:void 0},{kind:"field",decorators:[(0,f.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,f.MZ)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,f.MZ)({type:Boolean})],key:"disabled",value:function(){return!1}},{kind:"field",decorators:[(0,f.MZ)({type:Boolean})],key:"required",value:function(){return!0}},{kind:"field",decorators:[(0,f.MZ)({attribute:!1})],key:"context",value:void 0},{kind:"method",key:"render",value:function(){var e,n;return(0,k.qy)(d||(d=(0,l.A)(["<ha-stt-picker\n      .hass=","\n      .value=","\n      .label=","\n      .helper=","\n      .language=","\n      .disabled=","\n      .required=","\n    ></ha-stt-picker>"])),this.hass,this.value,this.label,this.helper,(null===(e=this.selector.stt)||void 0===e?void 0:e.language)||(null===(n=this.context)||void 0===n?void 0:n.language),this.disabled,this.required)}},{kind:"field",static:!0,key:"styles",value:function(){return(0,k.AH)(u||(u=(0,l.A)(["\n    ha-stt-picker {\n      width: 100%;\n    }\n  "])))}}]}}),k.WF))}}]);