"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[485],{47176:function(e,n,t){var r=t(26068),s=t.n(r),a=t(48305),o=t.n(a),i=t(84353),c=t(6434),l=t(32382),u=t(18953),d=t(64518),f=t(66551),m=t(99013),p=t.n(m),x=t(50959),g=t(11527);n.Z=function(e){var n=e.text,t=e.disabled,r=e.type,a=void 0===r?"text":r,m=e.shape,h=void 0===m?"circle":m,v=e.fontSize,j=void 0===v?"14px":v,y=e.style,b=e.size,k=void 0===b?"middle":b,w=(0,l.useIntl)(),Z=(0,x.useState)(!1),M=o()(Z,2),C=M[0],S=M[1],P=(0,x.useRef)(null),I=(0,x.useRef)(null);return(0,x.useEffect)((function(){return P.current&&(I.current=new(p())(P.current),I.current.on("success",(function(){S(!0),setTimeout((function(){S(!1)}),3e3)})),I.current.on("error",(function(e){u.ZP.success(w.formatMessage({id:"common.copy.fail"})),e.clearSelection()}))),function(){var e;null===(e=I.current)||void 0===e||e.destroy()}}),[P]),(0,g.jsx)(d.Z,{title:w.formatMessage({id:"common.button.copy"}),children:(0,g.jsx)(f.ZP,{className:"copy-button",ref:P,type:a,shape:h,size:k,disabled:!!t,"data-clipboard-text":n,icon:C?(0,g.jsx)(i.Z,{style:{color:"var(--ant-color-success)",fontSize:j}}):(0,g.jsx)(c.Z,{style:s()({fontSize:j},y)})})})}},41755:function(e,n,t){t.d(n,{Z:function(){return y}});var r=t(90228),s=t.n(r),a=t(87999),o=t.n(a),i=t(48305),c=t.n(i),l=t(76099),u=t(32382),d=t(18953),f=t(48157),m=t(81126),p=t(66551),x=t(50959),g="delete-modal-content___bdNBR",h="content___YptSA",v=t(11527),j=(0,x.forwardRef)((function(e,n){var t=(0,u.useIntl)(),r=(0,x.useState)(!1),a=c()(r,2),i=a[0],j=a[1],y=(0,x.useState)({}),b=c()(y,2),k=b[0],w=b[1];(0,x.useImperativeHandle)(n,(function(){return{show:function(e){w(e),j(!0)},hide:function(){j(!1)}}}));var Z=function(){var e;j(!1),null===(e=k.onCancel)||void 0===e||e.call(k)},M=function(){var e=o()(s()().mark((function e(){var n;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=k.onOk)||void 0===n?void 0:n.call(k);case 2:d.ZP.success(t.formatMessage({id:"common.message.success"})),j(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,v.jsxs)(f.Z,{style:{top:"20%"},open:i,onOk:M,onCancel:Z,destroyOnClose:!0,closeIcon:!1,maskClosable:!1,keyboard:!1,width:460,styles:{},footer:(0,v.jsxs)(m.Z,{size:20,children:[(0,v.jsx)(p.ZP,{onClick:Z,size:"middle",children:t.formatMessage({id:"common.button.cancel"})}),(0,v.jsx)(p.ZP,{type:"primary",onClick:M,size:"middle",children:t.formatMessage({id:"common.button.delete"})})]}),children:[(0,v.jsx)("div",{className:g,children:(0,v.jsxs)("span",{className:"title",children:[(0,v.jsx)(l.Z,{}),(0,v.jsx)("span",{children:t.formatMessage({id:"common.title.delete.confirm"})})]})}),(0,v.jsx)("div",{className:h,dangerouslySetInnerHTML:{__html:k.content&&t.formatMessage({id:k.selection?"common.delete.confirm":"common.delete.single.confirm"},{type:t.formatMessage({id:k.content}),name:k.name})}})]})})),y=j},38441:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(50959),s=t(11527),a=function(e){var n=e.left,t=e.right,a=e.marginBottom,o=void 0===a?0:a,i=e.marginTop,c=void 0===i?30:i,l=e.style,u=(0,r.useMemo)((function(){var e={};return e.marginBottom="".concat(o,"px"),e.marginTop="".concat(c,"px"),l&&Object.assign(e,l),e}),[o,c,l]);return(0,s.jsxs)("div",{className:"page-tools",style:u,children:[(0,s.jsx)("div",{className:"left",children:n}),(0,s.jsx)("div",{className:"right",children:t})]})}},90326:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(48305),s=t.n(r),a=t(33398),o=t(56280),i=t(64518),c=t(82187),l=t.n(c),u=t(50959),d=t(11527),f=function(e){var n=e.statusValue,t=e.download,r=(e.type,n.text),c=n.status,f=(0,u.useState)({text:"",bg:""}),m=s()(f,2),p=m[0],x=m[1];(0,u.useEffect)((function(){x(a.zK[c])}),[c]);var g=function(){var e=(null==t?void 0:t.percent)||0;return t&&e>0&&e<100?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("span",{className:"progress",children:[(null==t?void 0:t.percent)||0,"%"]}),(0,d.jsx)("span",{className:"download",style:{width:"".concat(e,"%")}})]}):(0,d.jsx)("span",{children:r})};return(0,d.jsx)("span",{className:l()("status-tag",{download:null==t?void 0:t.percent}),style:{color:null==p?void 0:p.text,border:"1px solid ".concat((null==p?void 0:p.border)||(null==p?void 0:p.text))},children:n.message?(0,d.jsxs)(i.Z,{title:n.message,overlayInnerStyle:{maxHeight:200,overflow:"auto"},children:[(0,d.jsx)("span",{className:"m-r-5",children:(0,d.jsx)(o.Z,{})}),g()]}):g()})}},33398:function(e,n,t){t.d(n,{Kd:function(){return r},_W:function(){return o},iE:function(){return a},tb:function(){return i},zK:function(){return s}});var r={CREATE:"create",UPDATE:"update",VIEW:"view"},s={error:{text:"var(--ant-red-6)",bg:"var(--ant-red-1)"},warning:{text:"var(--ant-orange-6)",bg:"var(--ant-orange-1)"},transitioning:{text:"var(--ant-blue-6)",bg:"var(--ant-blue-1)"},success:{text:"var(--color-progress-green)",bg:"var(--ant-green-1)"},inactive:{text:"var(--ant-color-text-tertiary)",border:"rgba(200,200,200,1)",bg:"var(--ant-color-fill)"}},a={error:"error",warning:"warning",transitioning:"transitioning",success:"success",inactive:"inactive"},o={CREATE:1,UPDATE:2,DELETE:3},i=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_])(?=\S+$).{6,12}$/},23543:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(48305),s=t.n(r),a=t(50959);function o(){var e=(0,a.useState)([]),n=s()(e,2),t=n[0],r=n[1],o={selectedRowKeys:t,clearSelections:function(){r([])},onChange:function(e){r(e)}};return o}},79822:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(48305),s=t.n(r),a=t(50959);function o(e){var n=e.defaultSortOrder,t=void 0===n?"descend":n,r=(0,a.useState)(t),o=s()(r,2),i=o[0],c=o[1];return{sortOrder:i,setSortOrder:function(e){e?c(e):"descend"===t?c("ascend"):"ascend"===t&&c("descend")}}}},35704:function(e,n,t){t.r(n),t.d(n,{default:function(){return fe}});var r=t(48305),s=t.n(r),a=t(67399),o=t(32382),i=t(68459),c=t(50959),l=t(90228),u=t.n(l),d=t(87999),f=t.n(d),m=t(26068),p=t.n(m),x=t(38441),g=t(64518),h=t(19487),v=t(11527),j=(0,c.memo)((function(e){var n=e.percent,t=(e.steps,e.download),r=e.label,s=(0,c.useMemo)((function(){return t?"var(--ant-color-primary)":n<=50?"var(--color-progress-green)":n<=80?"var(--ant-color-warning)":"var(--ant-color-error)"}),[n]);return(0,v.jsx)(v.Fragment,{children:r?(0,v.jsx)(g.Z,{title:r,children:(0,v.jsx)(h.Z,{percentPosition:{align:"center",type:"inner"},size:[void 0,16],format:function(){return(0,v.jsxs)("span",{style:{color:"#fff"},children:[n,"%"]})},percent:n,strokeColor:s})}):(0,v.jsx)(h.Z,{type:"line",percentPosition:{align:"center",type:"inner"},size:[void 0,16],format:function(){return(0,v.jsxs)("span",{style:{color:"#fff"},children:[n,"%"]})},percent:n,strokeColor:s})})})),y=t(79822),b=t(34088),k=t(46392),w=t(776),Z=t(81126),M=t(99158),C=t(66551),S=t(32699),P=t.n(S),I="/workers",N="/gpu-devices";function z(e){return _.apply(this,arguments)}function _(){return(_=f()(u()().mark((function e(n){return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("".concat(I),{methos:"GET",params:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return E.apply(this,arguments)}function E(){return(E=f()(u()().mark((function e(n){return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("".concat(N),{methos:"GET",params:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return A.apply(this,arguments)}function A(){return(A=f()(u()().mark((function e(n){return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("".concat(I,"/").concat(n),{method:"DELETE"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=w.Z.Column,B=function(){var e=(0,o.useIntl)(),n=(0,y.Z)({defaultSortOrder:"descend"}),t=(n.sortOrder,n.setSortOrder),r=(0,c.useState)([]),a=s()(r,2),i=a[0],l=a[1],d=(0,c.useState)(10),m=s()(d,2),g=m[0],h=m[1],S=(0,c.useState)(!1),I=s()(S,2),N=I[0],z=I[1],_=(0,c.useState)({page:1,perPage:10,search:""}),E=s()(_,2),O=E[0],A=E[1],B=function(){var e=f()(u()().mark((function e(){var n,t;return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.prev=1,n=p()({},P().pickBy(O,(function(e){return!!e}))),e.next=5,T(n);case 5:t=e.sent,l(t.items),h(t.pagination.total),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),l([]);case 14:return e.prev=14,z(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,10,14,17]])})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){B()}),[O]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(x.Z,{marginBottom:10,marginTop:10,left:(0,v.jsxs)(Z.Z,{children:[(0,v.jsx)(M.Z,{placeholder:e.formatMessage({id:"common.filter.name"}),style:{width:300},allowClear:!0,onChange:function(e){A(p()(p()({},O),{},{search:e.target.value}))}}),(0,v.jsx)(C.ZP,{type:"text",style:{color:"var(--ant-color-text-tertiary)"},onClick:function(e){B()},icon:(0,v.jsx)(k.Z,{})})]})}),(0,v.jsxs)(w.Z,{dataSource:i,loading:N,rowKey:"id",onChange:function(e,n,r){t(r.order)},pagination:{showSizeChanger:!0,pageSize:O.perPage,current:O.page,total:g,hideOnSinglePage:10===O.perPage,onChange:function(e,n){A(p()(p()({},O),{},{page:e,perPage:n||10}))}},children:[(0,v.jsx)(R,{title:e.formatMessage({id:"common.table.name"}),dataIndex:"name"},"name"),(0,v.jsx)(R,{title:e.formatMessage({id:"resources.table.index"}),dataIndex:"index",render:function(e,n){return(0,v.jsx)("span",{children:n.index})}},"index"),(0,v.jsx)(R,{title:e.formatMessage({id:"resources.table.workername"}),dataIndex:"worker_name"},"worker_name"),(0,v.jsx)(R,{title:e.formatMessage({id:"resources.table.vender"}),dataIndex:"vendor"},"vendor"),(0,v.jsx)(R,{title:"".concat(e.formatMessage({id:"resources.table.temperature"})," (Â°C)"),dataIndex:"temperature",render:function(e,n){return(0,v.jsx)("span",{children:e?P().round(e,1):"-"})}},"Temperature"),(0,v.jsx)(R,{title:e.formatMessage({id:"resources.table.core"}),dataIndex:"core",render:function(e,n){var t;return(0,v.jsx)("span",{children:null===(t=n.core)||void 0===t?void 0:t.total})}},"Core"),(0,v.jsx)(R,{title:e.formatMessage({id:"resources.table.gpuutilization"}),dataIndex:"gpuUtil",render:function(e,n){var t;return(0,v.jsx)(j,{percent:P().round(null===(t=n.core)||void 0===t?void 0:t.utilization_rate,2)})}},"gpuUtil"),(0,v.jsx)(R,{title:e.formatMessage({id:"resources.table.vramutilization"}),dataIndex:"VRAM",render:function(n,t){var r,s;return(0,v.jsx)(j,{percent:P().round(t.memory.utilization_rate,0),label:(0,v.jsxs)("span",{className:"flex-column",children:[(0,v.jsxs)("span",{children:[e.formatMessage({id:"resources.table.total"}),":"," ",(0,b.hy)(null===(r=t.memory)||void 0===r?void 0:r.total,0)]}),(0,v.jsxs)("span",{children:[e.formatMessage({id:"resources.table.used"}),":"," ",(0,b.hy)(null===(s=t.memory)||void 0===s?void 0:s.used,0)]})]})})}},"VRAM")]})]})},U=(0,c.memo)(B),W=t(41755),K=t(90326),F=t(23543),G=t(10822),L=t(26657),D=t(56280),V=t(82092),q=t.n(V),H=t(33398),$="ready",J="not_ready",Y=q()(q()({},$,"Ready"),J,"Not Ready"),Q=q()(q()({},$,H.iE.success),J,H.iE.error),X={getToken:"cat /var/lib/gpustack/token",registerWorker:function(e){return"curl -sfL https://get.gpustack.ai | sh -s - --server-url ".concat(e," --token mytoken")}},ee={getToken:'Get-Content -Path (Join-Path -Path $env:APPDATA -ChildPath "gpustack\\token") -Raw',registerWorker:function(e){return'Invoke-Expression "& { $((Invoke-WebRequest -Uri "https://get.gpustack.ai" -UseBasicParsing).Content) } --server-url '.concat(e,' --token mytoken"')}},ne=t(49034),te=(t(909),t(47176));var re=function(e){var n,t,r,s,a=e||{},o=a.code,i=a.lang,c=a.autodetect,l=void 0===c||c,u=a.ignoreIllegals,d=void 0===u||u,f=(a.copyable,r=!(t=l&&!i)&&!ne.Z.getLanguage(i),s="",r||(s="hljs ".concat(i)),r?{value:(n=o,n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")),className:s}:t?{value:ne.Z.highlightAuto(o).value,className:s}:{value:ne.Z.highlight(o,{language:i,ignoreIllegals:d}).value,className:s});return(0,v.jsxs)("pre",{className:"code-pre",children:[(0,v.jsx)("code",{className:f.className,dangerouslySetInnerHTML:{__html:f.value}}),(0,v.jsx)(te.Z,{text:o,size:"small",style:{color:"#abb2bf"}})]})},se=function(e){var n=e.code,t=e.lang,r=void 0===t?"bash":t;return(0,v.jsx)("div",{className:"high-light-wrapper",children:(0,v.jsx)(re,{lang:r,code:n})})},ae=t(48157),oe=function(e){var n=e||{},t=n.open,r=n.onCancel,s=(0,o.useIntl)(),a=window.location.origin;return(0,v.jsx)(ae.Z,{title:s.formatMessage({id:"resources.button.create"}),open:t,centered:!0,onCancel:r,destroyOnClose:!0,closeIcon:!0,maskClosable:!1,keyboard:!1,width:600,footer:null,children:(0,v.jsxs)("div",{children:[(0,v.jsxs)("h3",{children:["1. ",s.formatMessage({id:"resources.worker.add.step1"})]}),(0,v.jsx)("h4",{children:s.formatMessage({id:"resources.worker.linuxormaxos"})}),(0,v.jsx)(se,{code:X.getToken}),(0,v.jsx)("h4",{children:"Windows "}),(0,v.jsx)(se,{code:ee.getToken}),(0,v.jsxs)("h3",{children:["2. ",s.formatMessage({id:"resources.worker.add.step2"})," ",(0,v.jsx)("span",{className:"font-size-12",style:{color:"var(--ant-color-text-tertiary)"},dangerouslySetInnerHTML:{__html:"(".concat(s.formatMessage({id:"resources.worker.add.step2.tips"}),")")}})]}),(0,v.jsx)("h4",{children:s.formatMessage({id:"resources.worker.linuxormaxos"})}),(0,v.jsx)(se,{code:X.registerWorker(a)}),(0,v.jsx)("h4",{children:"Windows "}),(0,v.jsx)(se,{code:ee.registerWorker(a)}),(0,v.jsxs)("h3",{children:["3. ",s.formatMessage({id:"resources.worker.add.step3"})]})]})})},ie=c.memo(oe),ce=w.Z.Column,le=function(){var e=(0,y.Z)({defaultSortOrder:"descend"}),n=(e.sortOrder,e.setSortOrder),t=(0,c.useRef)(null),r=(0,F.Z)(),a=(0,o.useIntl)(),i=(0,c.useState)(0),l=s()(i,2),d=l[0],m=l[1],h=(0,c.useState)(!1),S=s()(h,2),I=S[0],N=S[1],_=(0,c.useState)(!1),T=s()(_,2),E=T[0],A=T[1],R=(0,c.useState)([]),B=s()(R,2),U=B[0],V=B[1],q=(0,c.useState)({page:1,perPage:10,search:""}),H=s()(q,2),$=H[0],J=H[1],X=function(){var e=f()(u()().mark((function e(){var n,t;return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.prev=1,n=p()({},P().pickBy($,(function(e){return!!e}))),e.next=5,z(n);case 5:t=e.sent,V(t.items),m(t.pagination.total),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),V([]);case 14:return e.prev=14,N(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,10,14,17]])})));return function(){return e.apply(this,arguments)}}(),ee=function(e,n){return n&&e?P().round(e/n*100,0):0},ne=function(e){var n=P().find(e,(function(e){return"/"===e.mount_point}));return n?(0,v.jsxs)("span",{className:"flex-column",children:[(0,v.jsxs)("span",{children:[a.formatMessage({id:"resources.table.total"}),":"," ",(0,b.hy)(null==n?void 0:n.total,0)]}),(0,v.jsxs)("span",{children:[a.formatMessage({id:"resources.table.used"}),":"," ",(0,b.hy)(null==n?void 0:n.used,0)]})]}):0};return(0,c.useEffect)((function(){X()}),[$]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(x.Z,{marginBottom:10,marginTop:10,left:(0,v.jsxs)(Z.Z,{children:[(0,v.jsx)(M.Z,{placeholder:a.formatMessage({id:"common.filter.name"}),style:{width:300},allowClear:!0,onChange:function(e){J(p()(p()({},$),{},{search:e.target.value}))}}),(0,v.jsx)(C.ZP,{type:"text",style:{color:"var(--ant-color-text-tertiary)"},onClick:function(e){X()},icon:(0,v.jsx)(k.Z,{})})]}),right:(0,v.jsxs)(Z.Z,{size:20,children:[(0,v.jsx)(C.ZP,{icon:(0,v.jsx)(G.Z,{}),type:"primary",onClick:function(){A(!0)},children:a.formatMessage({id:"resources.button.create"})}),(0,v.jsx)(C.ZP,{icon:(0,v.jsx)(L.Z,{}),danger:!0,onClick:function(){t.current.show({content:"wokers",selection:!0,onOk:function(){return f()(u()().mark((function e(){return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.D6)(r.selectedRowKeys,O);case 2:r.clearSelections(),X();case 4:case"end":return e.stop()}}),e)})))()}})},disabled:!r.selectedRowKeys.length,children:a.formatMessage({id:"common.button.delete"})})]})}),(0,v.jsxs)(w.Z,{dataSource:U,loading:I,rowKey:"id",onChange:function(e,t,r){n(r.order)},rowSelection:r,pagination:{showSizeChanger:!0,pageSize:$.perPage,current:$.page,total:d,hideOnSinglePage:10===$.perPage,onChange:function(e,n){J(p()(p()({},$),{},{page:e,perPage:n||10}))}},children:[(0,v.jsx)(ce,{title:a.formatMessage({id:"common.table.name"}),dataIndex:"name"},"name"),(0,v.jsx)(ce,{title:a.formatMessage({id:"common.table.status"}),dataIndex:"state",render:function(e,n){return(0,v.jsx)(K.Z,{statusValue:{status:Q[n.state],text:Y[n.state],message:n.state_message}})}},"state"),(0,v.jsx)(ce,{title:"IP",dataIndex:"ip"},"address"),(0,v.jsx)(ce,{title:"CPU",dataIndex:"CPU",render:function(e,n){var t;return(0,v.jsx)(j,{percent:P().round(null==n||null===(t=n.status)||void 0===t?void 0:t.cpu.utilization_rate,0)})}},"CPU"),(0,v.jsx)(ce,{title:a.formatMessage({id:"resources.table.memory"}),dataIndex:"memory",render:function(e,n){var t,r,s,o;return(0,v.jsx)(j,{percent:ee(null==n||null===(t=n.status)||void 0===t?void 0:t.memory.used,null==n||null===(r=n.status)||void 0===r?void 0:r.memory.total),label:(0,v.jsxs)("span",{className:"flex-column",children:[(0,v.jsxs)("span",{children:[a.formatMessage({id:"resources.table.total"}),":"," ",(0,b.hy)(null==n||null===(s=n.status)||void 0===s?void 0:s.memory.total,0)]}),(0,v.jsxs)("span",{children:[a.formatMessage({id:"resources.table.used"}),":"," ",(0,b.hy)(null==n||null===(o=n.status)||void 0===o?void 0:o.memory.used,0)]})]})})}},"Memory"),(0,v.jsx)(ce,{title:"GPU",dataIndex:"GPU",render:function(e,n){var t;return(0,v.jsx)("span",{className:"flex-column flex-gap-2",children:null==n||null===(t=n.status)||void 0===t?void 0:t.gpu_devices.map((function(e,n){return(0,v.jsxs)("span",{className:"flex-center",children:[(0,v.jsxs)("span",{className:"m-r-5",style:{display:"flex",width:25},children:["[",e.index,"]"]}),(0,v.jsx)(j,{percent:P().round(e.core.utilization_rate,0)},n)]},n)}))})}},"GPU"),(0,v.jsx)(ce,{title:a.formatMessage({id:"resources.table.vram"}),dataIndex:"VRAM",render:function(e,n){var t;return(0,v.jsx)("span",{className:"flex-column",children:null==n||null===(t=n.status)||void 0===t?void 0:t.gpu_devices.map((function(e,n){var t,r;return(0,v.jsx)("span",{children:(0,v.jsxs)("span",{className:"flex-center",children:[(0,v.jsxs)("span",{className:"m-r-5",style:{display:"flex",width:25},children:["[",e.index,"]"]}),(0,v.jsx)(j,{percent:P().round(e.memory.utilization_rate,0),label:(0,v.jsxs)("span",{className:"flex-column",children:[(0,v.jsxs)("span",{children:[a.formatMessage({id:"resources.table.total"}),": ",(0,b.hy)(null===(t=e.memory)||void 0===t?void 0:t.total,0)]}),(0,v.jsxs)("span",{children:[a.formatMessage({id:"resources.table.used"}),": ",(0,b.hy)(null===(r=e.memory)||void 0===r?void 0:r.used,0)]})]})},n),e.memory.is_unified_memory&&(0,v.jsx)(g.Z,{title:a.formatMessage({id:"resources.table.unified"}),children:(0,v.jsx)(D.Z,{className:"m-l-5"})})]})},n)}))})}},"VRAM"),(0,v.jsx)(ce,{title:a.formatMessage({id:"resources.table.disk"}),dataIndex:"storage",render:function(e,n){var t,r,s;return(0,v.jsx)(j,{percent:(r=null===(t=n.status)||void 0===t?void 0:t.filesystem,s=P().find(r,(function(e){return"/"===e.mount_point})),s?ee(s.used,s.total):0),label:ne(n.status.filesystem)})}},"storage"),(0,v.jsx)(ce,{title:a.formatMessage({id:"common.table.operation"}),render:function(e,n){return(0,v.jsx)(Z.Z,{size:20,children:(0,v.jsx)(g.Z,{title:a.formatMessage({id:"common.button.delete"}),children:(0,v.jsx)(C.ZP,{onClick:function(){return e=n,void t.current.show({content:"worker",name:e.name,onOk:function(){return f()(u()().mark((function n(){return u()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,O(e.id);case 3:X();case 4:case"end":return n.stop()}}),n)})))()}});var e},size:"small",danger:!0,icon:(0,v.jsx)(L.Z,{})})})})}},"operation")]}),(0,v.jsx)(W.Z,{ref:t}),(0,v.jsx)(ie,{open:E,onCancel:function(){return A(!1)}})]})},ue=(0,c.memo)(le),de=[{key:"workers",label:"Workers",children:(0,v.jsx)(ue,{})},{key:"gpus",label:"GPUs",children:(0,v.jsx)(U,{})}],fe=function(){var e=(0,c.useState)("workers"),n=s()(e,2),t=n[0],r=n[1],l=(0,o.useIntl)();return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(a._z,{ghost:!0,header:{title:l.formatMessage({id:"resources.title"})},extra:[],children:(0,v.jsx)("div",{style:{marginTop:60},children:(0,v.jsx)(i.Z,{type:"card",defaultActiveKey:"workers",items:de,accessKey:t,onChange:function(e){r(e)}})})})})}},34088:function(e,n,t){t.d(n,{D6:function(){return c},JL:function(){return i},hy:function(){return l},oc:function(){return u}});t(15558);var r=t(90228),s=t.n(r),a=t(87999),o=t.n(a),i=(t(32699),function(e){return Array.isArray(e)?e.length>0:!!e||0===e||!1===e}),c=function(){var e=o()(s()().mark((function e(n,t){return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(n.map((function(e){return t(e)}))));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),l=function(e,n){var t=null!=n?n:1;return e?e<1024?"".concat(e.toFixed(t)," B"):e<1048576?"".concat((e/1024).toFixed(t)," KiB"):e<1073741824?"".concat((e/1048576).toFixed(t)," MiB"):e<1099511627776?"".concat((e/1073741824).toFixed(t)," GiB"):"".concat((e/1099511627776).toFixed(t)," TiB"):"0"},u=function(){var e=navigator.userAgent;return{isMac:-1!==e.indexOf("Mac"),isWin:-1!==e.indexOf("Win")}}}}]);