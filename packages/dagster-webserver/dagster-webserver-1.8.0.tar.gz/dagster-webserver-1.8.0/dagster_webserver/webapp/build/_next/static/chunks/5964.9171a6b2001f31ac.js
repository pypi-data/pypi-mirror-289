"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5964],{5964:function(e,t,r){r.r(t),r.d(t,{OverviewRoot:function(){return eZ},default:function(){return eJ}});var s=r(52322),n=r(7267),i=r(38491),o=r(14934),l=r(2784),a=r(79106),c=r(74159),d=r(16629),u=r(60129),h=r(48936),x=r(43212),j=r(39013),v=r(46100),g=r(60603),p=r(35292),f=r(88510),m=r(47933),w=r(35505),y=r(23399),b=r(16336),C=r(69737),k=r(99048),A=r(98705),R=r(44900),I=r(46318),O=r(79342),N=r(60230),S=r(75442),T=r(20171),_=r(4378),E=r(79059),L=r(92322),P=r(17008),$=r(65822),q=r(10539);let z=e=>{let{Header:t,TabButton:r}=e;(0,C.Px)(),(0,T.j)("Overview | Assets");let{assets:n,query:i,error:u,loading:h}=(0,N.Zg)(),x=(0,b.bT)({refresh:i,intervalMs:b.dT,leading:!0}),j=l.useMemo(()=>n?function(e){let t={};return e.forEach(e=>{if(!e.definition)return;let r=e.definition.groupName,s=e.definition.repository.name,n="".concat(r,"||").concat(s),i=t[n]||{groupName:r,repositoryName:s,assets:[]};i.assets.push(e),t[n]=i}),Object.values(t)}(n):[],[n]),[v,g]=(0,_.q)({queryKey:"q",decode:e=>e.searchQuery?JSON.parse(e.searchQuery):"",encode:e=>({searchQuery:e?JSON.stringify(e):void 0})}),p=l.useMemo(()=>""===v?j:j.filter(e=>(e.groupName||Q).toLowerCase().includes(v.toLowerCase())||e.repositoryName.toLowerCase().includes(v.toLowerCase())),[j,v]),w=l.useMemo(()=>{var e;return null!==(e=p.flatMap(e=>e.assets.map(e=>e.key)))&&void 0!==e?e:[]},[p]),{liveDataByNode:A}=(0,k.NY)(w,"OverviewAssetsRoot"),R=(0,L.se)("OverviewAssetsRoot"),I=Object.keys(A).length===w.length;l.useEffect(()=>{I&&R.endTrace()},[I,R]);let O=l.useRef(null),S=(0,f.MG)({count:p.length,getScrollElement:()=>O.current,estimateSize:()=>82,overscan:5}),E=S.getTotalSize(),$=S.getVirtualItems();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{style:{position:"sticky",top:0,zIndex:1},children:[(0,s.jsx)(t,{refreshState:x}),(0,s.jsxs)(o.x,{padding:{horizontal:24,vertical:16},flex:{alignItems:"center",gap:12,grow:0},children:[(0,s.jsx)(r,{selected:"assets"}),(0,s.jsx)(c.oi,{value:v,onChange:e=>{g(e.target.value)},placeholder:"Filter asset groups…"})]}),(0,s.jsx)(o.x,{padding:{horizontal:24,vertical:16},border:"top",children:(0,s.jsx)(d.b,{intent:"info",title:"This Assets tab will be removed in an upcoming release.",description:(0,s.jsxs)(s.Fragment,{children:["Use the ",(0,s.jsx)(m.rU,{to:"/asset-groups",children:"global asset lineage page"})," to view grouped asset status details."]})})})]}),h?(0,s.jsx)(o.x,{flex:{alignItems:"center",justifyContent:"center",direction:"column",grow:1},style:{width:"100%"},children:(0,s.jsx)(a.$,{purpose:"page"})}):u?(0,s.jsx)(o.x,{flex:{alignItems:"center",justifyContent:"center",direction:"column",grow:1},style:{width:"100%"},children:(0,s.jsx)(y.T9,{error:u})}):(0,s.jsx)(o.x,{flex:{direction:"column"},style:{overflow:"hidden"},children:(0,s.jsxs)(P.W2,{ref:O,children:[(0,s.jsx)(F,{}),(0,s.jsx)(P.Nh,{$totalHeight:E,children:$.map(e=>{let{index:t,key:r,size:n,start:i}=e,o=p[t];return(0,s.jsx)(U,{start:i,height:n,group:o},r)})})]})})]})},M="5fr 1fr 1fr 1fr 1fr",F=()=>(0,s.jsxs)(P.VJ,{templateColumns:M,sticky:!0,children:[(0,s.jsx)(P.qN,{children:"Group name"}),(0,s.jsx)(P.qN,{children:"Missing"}),(0,s.jsx)(P.qN,{children:"Failed/Overdue"}),(0,s.jsx)(P.qN,{children:"In progress"}),(0,s.jsx)(P.qN,{children:"Materialized"})]}),Q="Ungrouped Assets";function U(e){var t,r;let{height:n,start:i,group:c}=e,d=l.useMemo(()=>c.assets.map(e=>({path:e.key.path})),[c.assets]),{liveDataByNode:v}=(0,k.NY)(d),g=(0,L.se)("OverviewAssetsRoot:GroupBatch"),p=l.useMemo(()=>(0,I.s)(c.assets,v),[v,c.assets]),f=null===(r=c.assets.find(e=>{var t;return null===(t=e.definition)||void 0===t?void 0:t.repository}))||void 0===r?void 0:null===(t=r.definition)||void 0===t?void 0:t.repository,w=(0,$.kQ)((null==f?void 0:f.name)||"",(null==f?void 0:f.location.name)||""),{containerProps:y,viewport:b}=(0,u.S)(),C=d.length!==Object.keys(v).length,R=C?"":"0";return l.useEffect(()=>{C||g.endTrace()},[g,C]),(0,s.jsx)(P.X2,{$height:n,$start:i,children:(0,s.jsxs)(B,{border:"bottom",children:[(0,s.jsx)(V,{children:(0,s.jsxs)(o.x,{flex:{direction:"row",justifyContent:"space-between",grow:1},children:[(0,s.jsxs)(o.x,{flex:{direction:"column",gap:2,grow:1},children:[(0,s.jsxs)(o.x,{flex:{direction:"row",gap:8},children:[(0,s.jsx)(h.JO,{name:"asset_group"}),c.groupName?(0,s.jsx)(m.rU,{style:{fontWeight:700},to:(0,q.$U)(w,"/asset-groups/".concat(c.groupName)),children:c.groupName}):Q]}),(0,s.jsx)("div",{...y,children:(0,s.jsx)(G,{maxWidth:b.width,children:(0,s.jsx)(E.b,{repoAddress:w,showRefresh:!1})})})]}),(0,s.jsx)(o.x,{flex:{direction:"column",justifyContent:"center"},children:C?(0,s.jsx)(a.$,{purpose:"body-text"}):null})]})}),(0,s.jsx)(V,{children:p.missing.length?(0,s.jsx)(H,{assets:p.missing,getCount:e=>{let{status:t}=e;return t.case===A.KB.PARTITIONS_MISSING&&t.numMissing||0},adjective:"missing",children:(0,s.jsx)(x.V,{intent:"none",children:(0,s.jsxs)(o.x,{flex:{direction:"row",alignItems:"center",gap:6},children:[(0,s.jsx)("div",{style:{width:"12px",height:"12px",border:"2px solid ".concat(j.im()),borderRadius:"50%"}}),p.missing.length]})})}):R}),(0,s.jsx)(V,{children:p.failed.length?(0,s.jsx)(H,{assets:p.failed,getCount:e=>{let{status:t}=e;return t.case===A.KB.PARTITIONS_FAILED&&t.numFailed||0},adjective:"failed",children:(0,s.jsx)(x.V,{intent:"danger",children:(0,s.jsxs)(o.x,{flex:{direction:"row",alignItems:"center",gap:6},children:[(0,s.jsx)("div",{style:{width:0,height:0,borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderBottom:"10px solid red",display:"inline-block"}}),p.failed.length]})})}):R}),(0,s.jsx)(V,{children:p.inprogress.length?(0,s.jsx)(H,{assets:p.inprogress,getCount:e=>{let{status:t}=e;return t.case===A.KB.MATERIALIZING&&t.numMaterializing||0},adjective:"materializing",children:(0,s.jsx)(x.V,{intent:"primary",icon:"spinner",children:p.inprogress.length})}):R}),(0,s.jsx)(V,{children:p.successful.length?(0,s.jsx)(H,{assets:p.successful,getCount:e=>{let{status:t}=e;return t.case===A.KB.PARTITIONS_MATERIALIZED&&t.numMaterialized||0},adjective:"materialized",children:(0,s.jsx)(x.V,{intent:"success",children:(0,s.jsxs)(o.x,{flex:{direction:"row",alignItems:"center",gap:6},children:[(0,s.jsx)("div",{style:{backgroundColor:j.fA(),width:"10px",height:"10px",borderRadius:"50%"}}),p.successful.length]})})}):R})]})})}let B=(0,w.ZP)(o.x).withConfig({componentId:"sc-5a3ca5ca-0"})(["display:grid;grid-template-columns:",";height:100%;> *{vertical-align:middle;}"],M),V=e=>{let{children:t}=e;return(0,s.jsx)(P.E5,{style:{color:j.Ep()},children:(0,s.jsx)(o.x,{flex:{direction:"row",alignItems:"center",grow:1},children:t})})},G=w.ZP.div.withConfig({componentId:"sc-5a3ca5ca-1"})(["font-size:12px;pointer-events:none;a{color:",";pointer-events:none;max-width:",";}"],j.$(),e=>{let{maxWidth:t}=e;return t?"unset":"".concat(t,"px")});function H(e){let{assets:t,children:r,getCount:n,adjective:i}=e;return(0,s.jsx)(W,{children:(0,s.jsx)(v.P,{items:t,itemPredicate:(e,t)=>(0,R.ll)(t.asset.key).toLocaleLowerCase().includes(e.toLocaleLowerCase()),itemRenderer:e=>{let t=n(e);return(0,s.jsx)(Z,{to:(0,S.p)(e.asset.key),target:"_blank",children:(0,s.jsx)(g.sN,{text:(0,s.jsxs)(o.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,s.jsx)("div",{style:{paddingLeft:"4px"},children:(0,s.jsx)(h.JO,{name:"asset"})}),(0,s.jsx)("div",{style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:(0,R.ll)(e.asset.key)}),t&&t>0?(0,s.jsxs)(p.YS,{style:{color:j.$()},children:[(0,O._e)(t)," ",i]}):null]})},(0,R.ll)(e.asset.key))})},onItemSelect:()=>{},children:r})})}let W=w.ZP.div.withConfig({componentId:"sc-5a3ca5ca-2"})(["cursor:pointer;&:hover{font-weight:600;}"]),Z=(0,w.ZP)(m.rU).withConfig({componentId:"sc-5a3ca5ca-3"})(["&:hover{text-decoration:none;}"]);var J=r(74580);let K=(0,r(65297).fL)("OverviewPageAlerts");var Y=r(73407),D=r(49438),X=r(87171),ee=r(39268),et=r(71348),er=r(89918);let es=e=>{let{refreshState:t,tab:r}=e,{flagSettingsPage:n}=(0,D.gV)(),i=(0,et.dx)(),c=(0,ee.I)(),{enableAssetHealthOverviewPreview:d}=(0,l.useContext)(X.G);return(0,s.jsxs)(o.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"flex-end"},children:[(0,s.jsxs)(Y.mQ,{selectedTabId:r,children:[(0,s.jsx)(er.f,{id:"activity",title:"Timeline",to:"/overview/activity"}),d&&(0,s.jsx)(er.f,{id:"asset-health",title:"Asset health",to:"/overview/asset-health"}),n?null:(0,s.jsx)(er.f,{id:"jobs",title:"Jobs",to:"/overview/jobs"}),n?null:(0,s.jsx)(er.f,{id:"schedules",title:"Schedules",to:"/overview/schedules"}),n?null:(0,s.jsx)(er.f,{id:"sensors",title:"Sensors",to:"/overview/sensors"}),n||"has-global-amp"!==c?null:(0,s.jsx)(er.f,{id:"amp",title:(0,s.jsxs)(o.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,s.jsx)("div",{children:"Auto-materialize"}),i.loading?(0,s.jsx)(a.$,{purpose:"body-text"}):(0,s.jsx)("div",{style:{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:!1===i.paused?j.L$():j.md()}})]}),to:"/overview/automation"}),(0,s.jsx)(er.f,{id:"resources",title:"Resources",to:"/overview/resources"}),n?null:(0,s.jsx)(er.f,{id:"backfills",title:"Backfills",to:"/overview/backfills"})]}),t?(0,s.jsx)(o.x,{padding:{bottom:8},children:(0,s.jsx)(b.xi,{refreshState:t})}):null]})},en=e=>{let{tab:t,queryData:r,refreshState:n,...i}=e;return(0,s.jsx)(J.m,{title:(0,s.jsx)(p.X6,{children:"Overview"}),tabs:(0,s.jsxs)(o.x,{flex:{direction:"column",gap:8},children:[(0,s.jsx)(es,{tab:t,queryData:r,refreshState:n}),(0,s.jsx)(K,{})]}),...i})};var ei=r(9627),eo=r(17872),el=r(30001),ea=r(38267);let ec=()=>{(0,T.j)("Overview | Activity");let e=l.useCallback(e=>{let{refreshState:t}=e;return(0,s.jsx)(en,{tab:"activity",refreshState:t})},[]),[t,r]=(0,el.U)("overview-activity-tab",e=>["timeline","assets"].includes(e)?e:"timeline"),{enableAssetHealthOverviewPreview:a}=l.useContext(X.G),c=a?"timeline":t,d=l.useCallback(e=>{let{selected:t}=e;return a?null:(c!==t&&r(t),(0,s.jsxs)(i.zH,{children:[(0,s.jsx)(ea.Q1,{$active:"timeline"===t,to:"/overview/activity/timeline",children:"Timeline"}),(0,s.jsx)(ea.Q1,{$active:"assets"===t,to:"/overview/activity/assets",children:"Assets"})]}))},[c,r,a]);return(0,s.jsx)(o.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:(0,s.jsxs)(n.rs,{children:[!a&&(0,s.jsx)(eo.A,{path:"/overview/activity/assets",children:(0,s.jsx)(z,{Header:e,TabButton:d})}),(0,s.jsx)(eo.A,{path:"/overview/activity/timeline",children:(0,s.jsx)(ei.U,{Header:e,TabButton:d})}),(0,s.jsx)(eo.A,{path:"*",isNestingRoute:!0,render:l.useCallback(()=>"timeline"===c?(0,s.jsx)(n.l_,{to:"/overview/activity/timeline"}):(0,s.jsx)(n.l_,{to:"/overview/activity/assets"}),[c])})]})})};var ed=r(63065);let eu=()=>((0,C.Px)(),(0,T.j)("Overview | Jobs"),(0,s.jsxs)(o.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,s.jsx)(J.m,{title:(0,s.jsx)(p.X6,{children:"Overview"}),tabs:(0,s.jsx)(es,{tab:"jobs"})}),(0,s.jsx)(ed.e,{})]}));var eh=r(73235),ex=r(24432),ej=r(89130),ev=r(37483),eg=r(35002),ep=r(22921),ef=r(3922),em=r(98956),ew=r(50646),ey=r(83738),eb=r(22563);let eC=e=>{let{repos:t}=e,r=(0,l.useRef)(null),n=(0,l.useMemo)(()=>t.map(e=>{let{repoAddress:t}=e;return(0,eb.Uz)(t)}),[t]),{expandedKeys:i,onToggle:o,onToggleAll:a}=(0,ew.N)(ep.y,n),c=(0,l.useMemo)(()=>{let e=[];return t.forEach(t=>{let{repoAddress:r,resources:s}=t;e.push({type:"header",repoAddress:r,resourceCount:s.length});let n=(0,eb.Uz)(r);i.includes(n)&&s.forEach(t=>{e.push({type:"resource",repoAddress:r,...t})})}),e},[t,i]),d=(0,em.w)(t.map(e=>{let{repoAddress:t}=e;return t.name})),u=(0,f.MG)({count:c.length,getScrollElement:()=>r.current,estimateSize:e=>{let t=c[e];return(null==t?void 0:t.type)==="header"?32:64},overscan:10}),h=u.getTotalSize(),j=u.getVirtualItems();return(0,s.jsx)("div",{style:{overflow:"hidden"},children:(0,s.jsxs)(P.W2,{ref:r,children:[(0,s.jsx)(ef.f,{}),(0,s.jsx)(P.Nh,{$totalHeight:h,children:j.map(e=>{let{index:t,key:r,size:n,start:l}=e,u=c[t];return"header"===u.type?(0,s.jsx)(ey.vG,{repoAddress:u.repoAddress,height:n,start:l,onToggle:o,onToggleAll:a,expanded:i.includes((0,eb.Uz)(u.repoAddress)),showLocation:d.has(u.repoAddress.name),rightElement:(0,s.jsx)(eg.u,{content:1===u.resourceCount?"1 resource":"".concat(u.resourceCount," resources"),placement:"top",children:(0,s.jsx)(x.V,{children:u.resourceCount})})},r):(0,s.jsx)(ef.K,{height:n,start:l,...u},r)})})]})})};var ek=r(907),eA=r(49455),eR=r(78491),eI=r(43250),eO=r(34219),eN=r(71662),eS=r(73658),eT=r(100);function e_(){let e=(0,eh._)(["\n  query OverviewResourcesQuery {\n    workspaceOrError {\n      ... on Workspace {\n        id\n        locationEntries {\n          id\n          locationOrLoadError {\n            ... on RepositoryLocation {\n              id\n              name\n              repositories {\n                id\n                name\n                allTopLevelResourceDetails {\n                  id\n                  ...ResourceEntryFragment\n                }\n              }\n            }\n            ...PythonErrorFragment\n          }\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"]);return e_=function(){return e},e}let eE=()=>{(0,C.Px)(),(0,T.j)("Overview | Resources");let{allRepos:e,visibleRepos:t,loading:r,data:n}=(0,l.useContext)(eT.C5),[i,d]=(0,_.q)({queryKey:"search",defaults:{search:""}}),u=e.length,h=(0,ex.a)(eP,{fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0}),{data:x,loading:v}=h;(0,eO.Hu)(h,"OverviewResourcesQuery");let g=(0,b.C4)(h,b.dT),p=(0,l.useMemo)(()=>{let e=(0,eA.S)(t),r=Object.values(n).filter(e=>"WorkspaceLocationEntry"===e.__typename),s=null==x?void 0:x.workspaceOrError;return eL((null==s?void 0:s.__typename)==="Workspace"?s.locationEntries:r).filter(t=>{let{repoAddress:r}=t;return e.has((0,eb.Uz)(r))})},[n,x,t]),f=!x&&v&&r,m=i.trim().toLocaleLowerCase(),w=m.length>0,y=(0,l.useMemo)(()=>{let e=m.toLocaleLowerCase();return p.map(t=>{let{repoAddress:r,resources:s}=t;return{repoAddress:r,resources:s.filter(t=>{let{name:r}=t;return r.toLocaleLowerCase().includes(e)})}}).filter(e=>{let{resources:t}=e;return t.length>0})},[p,m]),k=v&&!x;return(0,s.jsxs)(o.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,s.jsx)(en,{tab:"resources",refreshState:g}),(0,s.jsxs)(o.x,{padding:{horizontal:24,vertical:16},flex:{direction:"row",alignItems:"center",gap:12,grow:0},children:[u>1?(0,s.jsx)(eI.C,{}):null,(0,s.jsx)(c.oi,{icon:"search",value:i,rightElement:k?(0,s.jsx)(eS.W,{tooltipContent:"Loading resources…"}):void 0,onChange:e=>d(e.target.value),placeholder:"Filter by resource name…",style:{width:"340px"}})]}),f&&!u?(0,s.jsx)(o.x,{padding:64,children:(0,s.jsx)(a.$,{purpose:"page"})}):(()=>{if(f)return(0,s.jsx)(o.x,{flex:{direction:"row",justifyContent:"center"},style:{paddingTop:"100px"},children:(0,s.jsxs)(o.x,{flex:{direction:"row",alignItems:"center",gap:16},children:[(0,s.jsx)(a.$,{purpose:"body-text"}),(0,s.jsx)("div",{style:{color:j.$()},children:"Loading resources…"})]})});let r=e.length>t.length;return y.length?(0,s.jsx)(eC,{repos:y}):w?(0,s.jsx)(o.x,{padding:{top:20},children:(0,s.jsx)(ev.t,{icon:"search",title:"No matching resources",description:r?(0,s.jsxs)("div",{children:["No resources matching ",(0,s.jsx)("strong",{children:i})," were found in the selected code locations"]}):(0,s.jsxs)("div",{children:["No resources matching ",(0,s.jsx)("strong",{children:i})," were found in your definitions"]})})}):(0,s.jsx)(o.x,{padding:{top:20},children:(0,s.jsx)(ev.t,{icon:"search",title:"No resources",description:r?"No resources were found in the selected code locations":"No resources were found in your definitions"})})})()]})},eL=e=>{let t=e.map(e=>e.locationOrLoadError),r=[];for(let e of t)if((null==e?void 0:e.__typename)==="RepositoryLocation")for(let t of e.repositories){let{name:s,allTopLevelResourceDetails:n}=t,i=(0,$.kQ)(s,e.name);n.length>0&&r.push({repoAddress:i,resources:n})}return(0,ek.S)(r)},eP=(0,ej.Ps)(e_(),eR.B,eN.L);var e$=r(6685);let eq=()=>((0,C.Px)(),(0,T.j)("Overview | Schedules"),(0,s.jsxs)(o.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,s.jsx)(en,{tab:"schedules"}),(0,s.jsx)(e$.z,{})]}));var ez=r(80089);let eM=()=>((0,C.Px)(),(0,T.j)("Overview | Sensors"),(0,s.jsxs)(o.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,s.jsx)(en,{tab:"sensors"}),(0,s.jsx)(ez.n,{})]}));var eF=r(49308),eQ=r(26954),eU=r(71406);let eB=()=>{let e=(0,ee.I)();switch(e){case"unknown":return(0,s.jsx)("div",{});case"has-global-amp":return(0,s.jsx)(eV,{});case"has-sensor-amp":return(0,s.jsx)(n.l_,{to:"/overview/sensors"});default:(0,eU.UT)(e)}},eV=()=>((0,C.Px)(),(0,T.j)("Overview | Auto-materialize"),(0,s.jsxs)(eF.T,{children:[(0,s.jsx)(en,{tab:"amp"}),(0,s.jsx)(eQ.$,{})]}));var eG=r(7870);let eH=()=>((0,C.Px)(),(0,T.j)("Overview | Backfills"),(0,s.jsxs)(eF.T,{children:[(0,s.jsx)(en,{tab:"backfills"}),(0,s.jsx)(eG.A,{})]}));var eW=r(33707);let eZ=()=>{let{flagSettingsPage:e}=(0,D.gV)();return(0,s.jsxs)(n.rs,{children:[(0,s.jsx)(eo.A,{path:"/overview/activity",isNestingRoute:!0,children:(0,s.jsx)(ec,{})}),(0,s.jsx)(eo.A,{path:"/overview/jobs",render:()=>e?(0,s.jsx)(n.l_,{to:"/jobs"}):(0,s.jsx)(eu,{})}),(0,s.jsx)(eo.A,{path:"/overview/schedules",render:()=>e?(0,s.jsx)(n.l_,{to:"/automation/schedules"}):(0,s.jsx)(eq,{})}),(0,s.jsx)(eo.A,{path:"/overview/sensors",render:()=>e?(0,s.jsx)(n.l_,{to:"/automation/sensors"}):(0,s.jsx)(eM,{})}),(0,s.jsx)(eo.A,{path:"/overview/automation",render:()=>e?(0,s.jsx)(n.l_,{to:"/automation"}):(0,s.jsx)(eB,{})}),(0,s.jsx)(eo.A,{path:"/overview/backfills/:backfillId",render:t=>{let{match:r}=t;return e?(0,s.jsx)(n.l_,{to:"/automation/backfills/".concat(r.params.backfillId)}):(0,s.jsx)(eW.t4,{})}}),(0,s.jsx)(eo.A,{path:"/overview/backfills",exact:!0,render:()=>e?(0,s.jsx)(n.l_,{to:"/automation/backfills"}):(0,s.jsx)(eH,{})}),(0,s.jsx)(eo.A,{path:"/overview/resources",children:(0,s.jsx)(eE,{})}),(0,s.jsx)(eo.A,{path:"*",isNestingRoute:!0,render:()=>(0,s.jsx)(n.l_,{to:"/overview/activity"})})]})};var eJ=eZ},38267:function(e,t,r){r.d(t,{Q1:function(){return b},Qf:function(){return C},zc:function(){return y}});var s=r(73235),n=r(52322),i=r(24432),o=r(89130),l=r(38491),a=r(39013),c=r(18149),d=r.n(c),u=r(2784),h=r(7267),x=r(35505),j=r(59351),v=r(52338),g=r(20171),p=r(34219),f=r(88610);function m(){let e=(0,s._)(["\n  query RunTabsCountQuery($queuedFilter: RunsFilter!, $inProgressFilter: RunsFilter!) {\n    queuedCount: pipelineRunsOrError(filter: $queuedFilter) {\n      ... on Runs {\n        count\n      }\n    }\n    inProgressCount: pipelineRunsOrError(filter: $inProgressFilter) {\n      ... on Runs {\n        count\n      }\n    }\n  }\n"]);return m=function(){return e},e}let w=e=>{switch(e){case"all":return"Runs | All runs";case"failed":return"Runs | Failed";case"in-progress":return"Runs | In progress";case"queued":return"Runs | Queued";case"scheduled":return"Runs | Scheduled";default:return"Runs"}},y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,i.a)(k,{variables:{queuedFilter:{...e,statuses:Array.from(j.sy)},inProgressFilter:{...e,statuses:Array.from(j.Ys)}}});(0,p.Hu)(t,"RunTabsCountQuery");let{data:r}=t,{queuedCount:s,inProgressCount:o}=(0,u.useMemo)(()=>{var e,t;return{queuedCount:(null==r?void 0:null===(e=r.queuedCount)||void 0===e?void 0:e.__typename)==="Runs"?r.queuedCount.count:null,inProgressCount:(null==r?void 0:null===(t=r.inProgressCount)||void 0===t?void 0:t.__typename)==="Runs"?r.inProgressCount.count:null}},[r]),[a]=(0,v.oD)(),c=C(a);(0,g.j)(w(c));let d=e=>{let t=a.filter(e=>"status"!==e.token),r=e.map(e=>({token:"status",value:e}));return(0,v.it)([...r,...t])};return{tabs:(0,n.jsxs)(l.zH,{children:[(0,n.jsx)(b,{to:d([]),id:"all",$active:"all"===c,children:"All runs"}),(0,n.jsxs)(b,{to:d(Array.from(j.sy)),id:"queued",$active:"queued"===c,children:["Queued (",null!=s?s:"indeterminate",")"]}),(0,n.jsxs)(b,{to:d(Array.from(j.Ys)),id:"in-progress",$active:"in-progress"===c,children:["In progress (",null!=o?o:"indeterminate",")"]}),(0,n.jsx)(b,{to:d(Array.from(j.hd)),id:"failed",$active:"failed"===c,children:"Failed"}),(0,n.jsx)(b,{title:"Scheduled",to:"/runs/scheduled",id:"scheduled",$active:"scheduled"===c,children:"Scheduled"})]}),queryResult:t}},b=(0,x.ZP)(f.A).withConfig({componentId:"sc-1e7c25a7-0"})(["color:",";&&:hover{color:",";}",""],a.$(),a.$(),e=>{let{$active:t}=e;return t?(0,x.iv)(["background-color:",";color:",";&&:hover{background-color:",";color:",";}"],a.AU(),a.Ep(),a.AU(),a.Ep()):(0,x.iv)(["background-color:",";"],a.v8())}),C=e=>{let{pathname:t}=(0,h.TH)();if("/runs/timeline"===t)return"timeline";if("/runs/scheduled"===t)return"scheduled";if("/overview/backfills"===t)return"backfills";let r=new Set(e.filter(e=>"status"===e.token).map(e=>e.value));return d()(j.sy,r)?"queued":d()(j.Ys,r)?"in-progress":d()(j.hd,r)?"failed":"all"},k=(0,o.Ps)(m())}}]);
//# sourceMappingURL=5964.9171a6b2001f31ac.js.map