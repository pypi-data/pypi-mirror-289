<!DOCTYPE html>
<html lang="en">
<head><script>/*
 * Monkeypatch URLSearchParams
 *
 * Sphinx documents that use `searchtool.js` rely on passing information via
 * GET parameters (aka search parameters). Unfortunately, this doesn't work
 * in our approach due to the same origin policy, so we have to get ...
 * creative.
 *
 * Here, we patch the `URLSearchParams` class so it returns the information
 * stored in `window.global_context.get_parameters`.
 *
 */

const originalGet = URLSearchParams.prototype.get;

var myGet = function (arg) {
    const originalResult = originalGet.apply(this, [arg]);
    // If searchtools.js of sphinx is used
    if (
        window.global_context.get_parameters &&
        (window.location.search === "") &&
        (Array.from(this.entries()).length == 0)
    ) {
        const params = new URLSearchParams('?' + window.global_context.get_parameters);
        const result = params.get(arg);
        // console.log("Return virtual get parameter:", arg, result);
        return result;
    } else {
        return originalResult;
    }
};

URLSearchParams.prototype.get = myGet;

/*
 * Monkeypatch fetch
 */

const { fetch: originalFetch } = window;

window.fetch = async (...args) => {
    let [resource, config ] = args;
    var path = normalize_path(resource);
    var response;
    if (is_virtual(path)) {
        var data = retrieve_file(path);
        response = new Response(data);

    } else {
        response = await originalFetch(resource, config);
    }
    return response;
};
//# sourceURL=inject_pre.js</script>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><meta content="Docutils 0.17.1: http://docutils.sourceforge.net/" name="generator"/>
<title>sphinx-build — Sphinx documentation</title>
<link href="../_static/pygments.css" rel="stylesheet" type="text/css"/>
<link href="../_static/basic.css" rel="stylesheet" type="text/css"/>
<link href="../_static/graphviz.css" rel="stylesheet" type="text/css"/>
<link href="../_static/sphinx13.css" rel="stylesheet" type="text/css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.13.1/underscore-min.js"></script>
<script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
<script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
<script src="../_static/jquery.js"></script>
<script src="../_static/underscore.js"></script>
<script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
<script src="../_static/doctools.js"></script>
<script src="../_static/sphinx_highlight.js"></script>
<link href="https://www.sphinx-doc.org/en/master/man/sphinx-build.html" rel="canonical"/>
<link href="../_static/opensearch.xml" rel="search" title="Search within Sphinx documentation" type="application/opensearchdescription+xml"/>
<link href="../_static/favicon.svg" rel="shortcut icon"/>
<link href="../genindex.html" rel="index" title="Index"/>
<link href="../search.html" rel="search" title="Search"/>
<link href="sphinx-apidoc.html" rel="next" title="sphinx-apidoc"/>
<link href="sphinx-quickstart.html" rel="prev" title="sphinx-quickstart"/>
</head><body>
<div class="pageheader">
<a href="../index.html">
<img alt="SPHINX" src="../_static/sphinxheader.png"/>
</a>
</div>
<div aria-label="related navigation" class="related" role="navigation">
<h3>Navigation</h3>
<ul>
<li><a href="../index.html">Documentation</a> »</li>
<li class="nav-item nav-item-1"><a accesskey="U" href="index.html">Command-Line Tools</a> »</li>
<li class="nav-item nav-item-this"><a href="">sphinx-build</a></li>
</ul>
</div>
<div class="document">
<div aria-label="main navigation" class="sphinxsidebar" role="navigation">
<div id="searchbox" role="search" style="display: none">
<h3 id="searchlabel">Quick search</h3>
<div class="searchformwrapper">
<form action="../search.html" class="search" method="get">
<input aria-labelledby="searchlabel" autocapitalize="off" autocomplete="off" autocorrect="off" name="q" spellcheck="false" type="text"/>
<input type="submit" value="Go"/>
</form>
</div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
<div class="sphinxsidebar-navigation__contents">
<h3>On this page</h3>
<ul>
<li><a class="reference internal" href="#">sphinx-build</a><ul>
<li><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#options">Options</a></li>
<li><a class="reference internal" href="#environment-variables">Environment Variables</a></li>
<li><a class="reference internal" href="#deprecation-warnings">Deprecation Warnings</a></li>
<li><a class="reference internal" href="#see-also">See also</a></li>
</ul>
</li>
</ul>
</div>
<div class="sphinxsidebar-navigation__pages">
<h3>Site navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Get started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../usage/quickstart.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/installation.html">Installing Sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorial: Build your first project</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../usage/index.html">Using Sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/index.html">Extending Sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../templating.html">Templating</a></li>
<li class="toctree-l1"><a class="reference internal" href="../latex.html">LaTeX customization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extdev/index.html">Developing extensions for Sphinx</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Community</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../support.html">Get support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../internals/index.html">Contribute to Sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Sphinx FAQ</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Command-Line Tools</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="sphinx-quickstart.html">sphinx-quickstart</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">sphinx-build</a></li>
<li class="toctree-l2"><a class="reference internal" href="sphinx-apidoc.html">sphinx-apidoc</a></li>
<li class="toctree-l2"><a class="reference internal" href="sphinx-autogen.html">sphinx-autogen</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changes.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Projects using Sphinx</a></li>
</ul>
</div>
</div>
<div class="body" role="main">
<section id="sphinx-build">
<h1>sphinx-build<a class="headerlink" href="#sphinx-build" title="Permalink to this heading">¶</a></h1>
<section id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this heading">¶</a></h2>
<p><strong>sphinx-build</strong> [<em>options</em>] &lt;<em>sourcedir</em>&gt; &lt;<em>outputdir</em>&gt; [<em>filenames</em> …]</p>
</section>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p><strong class="program">sphinx-build</strong> generates documentation from the files in
<code class="docutils literal notranslate"><span class="pre">&lt;sourcedir&gt;</span></code> and places it in the <code class="docutils literal notranslate"><span class="pre">&lt;outputdir&gt;</span></code>.</p>
<p><strong class="program">sphinx-build</strong> looks for <code class="docutils literal notranslate"><span class="pre">&lt;sourcedir&gt;/conf.py</span></code> for the configuration
settings.  <em class="manpage">sphinx-quickstart(1)</em> may be used to generate template
files, including <code class="docutils literal notranslate"><span class="pre">conf.py</span></code>.</p>
<p><strong class="program">sphinx-build</strong> can create documentation in different formats.  A
format is selected by specifying the builder name on the command line; it
defaults to HTML.  Builders can also perform other tasks related to
documentation processing.  For a list of available builders, refer to
<a class="reference internal" href="#cmdoption-sphinx-build-b"><code class="xref std std-option docutils literal notranslate"><span class="pre">sphinx-build</span> <span class="pre">-b</span></code></a>.</p>
<p>By default, everything that is outdated is built.  Output only for selected
files can be built by specifying individual filenames.</p>
</section>
<section id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this heading">¶</a></h2>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-sphinx-build-b">
<span class="sig-name descname"><span class="pre">-b</span></span><span class="sig-prename descclassname"> <span class="pre">buildername</span></span><a class="headerlink" href="#cmdoption-sphinx-build-b" title="Permalink to this definition">¶</a></dt>
<dd><p>The most important option: it selects a builder.  The most common builders
are:</p>
<dl class="simple">
<dt><strong>html</strong></dt><dd><p>Build HTML pages.  This is the default builder.</p>
</dd>
<dt><strong>dirhtml</strong></dt><dd><p>Build HTML pages, but with a single directory per document.  Makes for
prettier URLs (no <code class="docutils literal notranslate"><span class="pre">.html</span></code>) if served from a webserver.</p>
</dd>
<dt><strong>singlehtml</strong></dt><dd><p>Build a single HTML with the whole content.</p>
</dd>
<dt><strong>htmlhelp</strong>, <strong>qthelp</strong>, <strong>devhelp</strong>, <strong>epub</strong></dt><dd><p>Build HTML files with additional information for building a documentation
collection in one of these formats.</p>
</dd>
<dt><strong>applehelp</strong></dt><dd><p>Build an Apple Help Book.  Requires <strong class="program">hiutil</strong> and
<strong class="program">codesign</strong>, which are not Open Source and presently only
available on Mac OS X 10.6 and higher.</p>
</dd>
<dt><strong>latex</strong></dt><dd><p>Build LaTeX sources that can be compiled to a PDF document using
<strong class="program">pdflatex</strong>.</p>
</dd>
<dt><strong>man</strong></dt><dd><p>Build manual pages in groff format for UNIX systems.</p>
</dd>
<dt><strong>texinfo</strong></dt><dd><p>Build Texinfo files that can be processed into Info files using
<strong class="program">makeinfo</strong>.</p>
</dd>
<dt><strong>text</strong></dt><dd><p>Build plain text files.</p>
</dd>
<dt><strong>gettext</strong></dt><dd><p>Build gettext-style message catalogs (<code class="docutils literal notranslate"><span class="pre">.pot</span></code> files).</p>
</dd>
<dt><strong>doctest</strong></dt><dd><p>Run all doctests in the documentation, if the <a class="reference internal" href="../usage/extensions/doctest.html#module-sphinx.ext.doctest" title="sphinx.ext.doctest: Test snippets in the documentation."><code class="xref py py-mod docutils literal notranslate"><span class="pre">doctest</span></code></a>
extension is enabled.</p>
</dd>
<dt><strong>linkcheck</strong></dt><dd><p>Check the integrity of all external links.</p>
</dd>
<dt><strong>xml</strong></dt><dd><p>Build Docutils-native XML files.</p>
</dd>
<dt><strong>pseudoxml</strong></dt><dd><p>Build compact pretty-printed “pseudo-XML” files displaying the
internal structure of the intermediate document trees.</p>
</dd>
</dl>
<p>See <a class="reference internal" href="../usage/builders/index.html"><span class="doc">Builders</span></a> for a list of all builders shipped with
Sphinx.  Extensions can add their own builders.</p>
</dd></dl>
<span class="target" id="make-mode"></span><dl class="std option">
<dt class="sig sig-object std" id="cmdoption-sphinx-build-M">
<span id="cmdoption-sphinx-build-m"></span><span class="sig-name descname"><span class="pre">-M</span></span><span class="sig-prename descclassname"> <span class="pre">buildername</span></span><a class="headerlink" href="#cmdoption-sphinx-build-M" title="Permalink to this definition">¶</a></dt>
<dd><p>Alternative to <a class="reference internal" href="#cmdoption-sphinx-build-b"><code class="xref std std-option docutils literal notranslate"><span class="pre">-b</span></code></a>. Uses the Sphinx <strong class="program">make_mode</strong> module,
which provides the same build functionality as a default <a class="reference internal" href="#makefile-options"><span class="std std-ref">Makefile or
Make.bat</span></a>. In addition to all Sphinx
<a class="reference internal" href="../usage/builders/index.html"><span class="doc">Builders</span></a>, the following build pipelines are available:</p>
<dl class="simple">
<dt><strong>latexpdf</strong></dt><dd><p>Build LaTeX files and run them through <strong class="program">pdflatex</strong>, or as per
<a class="reference internal" href="../usage/configuration.html#confval-latex_engine"><code class="xref std std-confval docutils literal notranslate"><span class="pre">latex_engine</span></code></a> setting.
If <a class="reference internal" href="../usage/configuration.html#confval-language"><code class="xref std std-confval docutils literal notranslate"><span class="pre">language</span></code></a> is set to <code class="docutils literal notranslate"><span class="pre">'ja'</span></code>, will use automatically
the <strong class="program">platex/dvipdfmx</strong> latex to PDF pipeline.</p>
</dd>
<dt><strong>info</strong></dt><dd><p>Build Texinfo files and run them through <strong class="program">makeinfo</strong>.</p>
</dd>
</dl>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Sphinx only recognizes the <code class="docutils literal notranslate"><span class="pre">-M</span></code> option if it is placed first.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.2.1.</span></p>
</div>
</dd></dl>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-sphinx-build-a">
<span class="sig-name descname"><span class="pre">-a</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-sphinx-build-a" title="Permalink to this definition">¶</a></dt>
<dd><p>If given, always write all output files. The default is to only write output
files for new and changed source files. (This may not apply to all
builders.)</p>
</dd></dl>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-sphinx-build-E">
<span id="cmdoption-sphinx-build-e"></span><span class="sig-name descname"><span class="pre">-E</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-sphinx-build-E" title="Permalink to this definition">¶</a></dt>
<dd><p>Don’t use a saved <a class="reference internal" href="../glossary.html#term-environment"><span class="xref std std-term">environment</span></a> (the structure caching all
cross-references), but rebuild it completely.  The default is to only read
and parse source files that are new or have changed since the last run.</p>
</dd></dl>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-sphinx-build-t">
<span class="sig-name descname"><span class="pre">-t</span></span><span class="sig-prename descclassname"> <span class="pre">tag</span></span><a class="headerlink" href="#cmdoption-sphinx-build-t" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the tag <em>tag</em>.  This is relevant for <a class="reference internal" href="../usage/restructuredtext/directives.html#directive-only" title="only directive"><code class="xref rst rst-dir docutils literal notranslate"><span class="pre">only</span></code></a> directives that
only include their content if this tag is set.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.6.</span></p>
</div>
</dd></dl>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-sphinx-build-d">
<span class="sig-name descname"><span class="pre">-d</span></span><span class="sig-prename descclassname"> <span class="pre">path</span></span><a class="headerlink" href="#cmdoption-sphinx-build-d" title="Permalink to this definition">¶</a></dt>
<dd><p>Since Sphinx has to read and parse all source files before it can write an
output file, the parsed source files are cached as “doctree pickles”.
Normally, these files are put in a directory called <code class="file docutils literal notranslate"><span class="pre">.doctrees</span></code> under
the build directory; with this option you can select a different cache
directory (the doctrees can be shared between all builders).</p>
</dd></dl>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-sphinx-build-j">
<span class="sig-name descname"><span class="pre">-j</span></span><span class="sig-prename descclassname"> <span class="pre">N</span></span><a class="headerlink" href="#cmdoption-sphinx-build-j" title="Permalink to this definition">¶</a></dt>
<dd><p>Distribute the build over <em>N</em> processes in parallel, to make building on
multiprocessor machines more effective.  Note that not all parts and not all
builders of Sphinx can be parallelized.  If <code class="docutils literal notranslate"><span class="pre">auto</span></code> argument is given,
Sphinx uses the number of CPUs as <em>N</em>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.2: </span>This option should be considered <em>experimental</em>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.7: </span>Support <code class="docutils literal notranslate"><span class="pre">auto</span></code> argument.</p>
</div>
</dd></dl>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-sphinx-build-c">
<span class="sig-name descname"><span class="pre">-c</span></span><span class="sig-prename descclassname"> <span class="pre">path</span></span><a class="headerlink" href="#cmdoption-sphinx-build-c" title="Permalink to this definition">¶</a></dt>
<dd><p>Don’t look for the <code class="file docutils literal notranslate"><span class="pre">conf.py</span></code> in the source directory, but use the given
configuration directory instead.  Note that various other files and paths
given by configuration values are expected to be relative to the
configuration directory, so they will have to be present at this location
too.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.3.</span></p>
</div>
</dd></dl>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-sphinx-build-C">
<span class="sig-name descname"><span class="pre">-C</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-sphinx-build-C" title="Permalink to this definition">¶</a></dt>
<dd><p>Don’t look for a configuration file; only take options via the <code class="docutils literal notranslate"><span class="pre">-D</span></code> option.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.5.</span></p>
</div>
</dd></dl>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-sphinx-build-D">
<span class="sig-name descname"><span class="pre">-D</span></span><span class="sig-prename descclassname"> <span class="pre">setting=value</span></span><a class="headerlink" href="#cmdoption-sphinx-build-D" title="Permalink to this definition">¶</a></dt>
<dd><p>Override a configuration value set in the <code class="file docutils literal notranslate"><span class="pre">conf.py</span></code> file.  The value
must be a number, string, list or dictionary value.</p>
<p>For lists, you can separate elements with a comma like this: <code class="docutils literal notranslate"><span class="pre">-D</span>
<span class="pre">html_theme_path=path1,path2</span></code>.</p>
<p>For dictionary values, supply the setting name and key like this:
<code class="docutils literal notranslate"><span class="pre">-D</span> <span class="pre">latex_elements.docclass=scrartcl</span></code>.</p>
<p>For boolean values, use <code class="docutils literal notranslate"><span class="pre">0</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span></code> as the value.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.6: </span>The value can now be a dictionary value.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.3: </span>The value can now also be a list value.</p>
</div>
</dd></dl>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-sphinx-build-A">
<span class="sig-name descname"><span class="pre">-A</span></span><span class="sig-prename descclassname"> <span class="pre">name=value</span></span><a class="headerlink" href="#cmdoption-sphinx-build-A" title="Permalink to this definition">¶</a></dt>
<dd><p>Make the <em>name</em> assigned to <em>value</em> in the HTML templates.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.5.</span></p>
</div>
</dd></dl>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-sphinx-build-n">
<span class="sig-name descname"><span class="pre">-n</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-sphinx-build-n" title="Permalink to this definition">¶</a></dt>
<dd><p>Run in nit-picky mode.  Currently, this generates warnings for all missing
references.  See the config value <a class="reference internal" href="../usage/configuration.html#confval-nitpick_ignore"><code class="xref std std-confval docutils literal notranslate"><span class="pre">nitpick_ignore</span></code></a> for a way to
exclude some references as “known missing”.</p>
</dd></dl>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-sphinx-build-N">
<span class="sig-name descname"><span class="pre">-N</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-sphinx-build-N" title="Permalink to this definition">¶</a></dt>
<dd><p>Do not emit colored output.</p>
</dd></dl>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-sphinx-build-v">
<span class="sig-name descname"><span class="pre">-v</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-sphinx-build-v" title="Permalink to this definition">¶</a></dt>
<dd><p>Increase verbosity (loglevel).  This option can be given up to three times
to get more debug logging output.  It implies <a class="reference internal" href="#cmdoption-sphinx-build-T"><code class="xref std std-option docutils literal notranslate"><span class="pre">-T</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.2.</span></p>
</div>
</dd></dl>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-sphinx-build-q">
<span class="sig-name descname"><span class="pre">-q</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-sphinx-build-q" title="Permalink to this definition">¶</a></dt>
<dd><p>Do not output anything on standard output, only write warnings and errors to
standard error.</p>
</dd></dl>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-sphinx-build-Q">
<span class="sig-name descname"><span class="pre">-Q</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-sphinx-build-Q" title="Permalink to this definition">¶</a></dt>
<dd><p>Do not output anything on standard output, also suppress warnings.  Only
errors are written to standard error.</p>
</dd></dl>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-sphinx-build-w">
<span class="sig-name descname"><span class="pre">-w</span></span><span class="sig-prename descclassname"> <span class="pre">file</span></span><a class="headerlink" href="#cmdoption-sphinx-build-w" title="Permalink to this definition">¶</a></dt>
<dd><p>Write warnings (and errors) to the given file, in addition to standard error.</p>
</dd></dl>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-sphinx-build-W">
<span class="sig-name descname"><span class="pre">-W</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-sphinx-build-W" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn warnings into errors.  This means that the build stops at the first
warning and <code class="docutils literal notranslate"><span class="pre">sphinx-build</span></code> exits with exit status 1.</p>
</dd></dl>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-sphinx-build-keep-going">
<span class="sig-name descname"><span class="pre">--keep-going</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-sphinx-build-keep-going" title="Permalink to this definition">¶</a></dt>
<dd><p>With -W option, keep going processing when getting warnings to the end
of build, and <code class="docutils literal notranslate"><span class="pre">sphinx-build</span></code> exits with exit status 1.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.8.</span></p>
</div>
</dd></dl>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-sphinx-build-T">
<span class="sig-name descname"><span class="pre">-T</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-sphinx-build-T" title="Permalink to this definition">¶</a></dt>
<dd><p>Display the full traceback when an unhandled exception occurs.  Otherwise,
only a summary is displayed and the traceback information is saved to a file
for further analysis.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.2.</span></p>
</div>
</dd></dl>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-sphinx-build-P">
<span id="cmdoption-sphinx-build-p"></span><span class="sig-name descname"><span class="pre">-P</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-sphinx-build-P" title="Permalink to this definition">¶</a></dt>
<dd><p>(Useful for debugging only.)  Run the Python debugger, <a class="reference external" href="https://docs.python.org/3/library/pdb.html#module-pdb" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pdb</span></code></a>, if an
unhandled exception occurs while building.</p>
</dd></dl>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-sphinx-build-h">
<span id="cmdoption-sphinx-build-help"></span><span id="cmdoption-sphinx-build-version"></span><span class="sig-name descname"><span class="pre">-h</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--help</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--version</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-sphinx-build-h" title="Permalink to this definition">¶</a></dt>
<dd><p>Display usage summary or Sphinx version.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.2.</span></p>
</div>
</dd></dl>
<p>You can also give one or more filenames on the command line after the source
and build directories. Sphinx will then try to build only these output files
(and their dependencies).</p>
</section>
<section id="environment-variables">
<h2>Environment Variables<a class="headerlink" href="#environment-variables" title="Permalink to this heading">¶</a></h2>
<p>The <strong class="program">sphinx-build</strong> refers following environment variables:</p>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">MAKE</span></span></dt>
<dd><p>A path to make command.  A command name is also allowed.
<strong class="program">sphinx-build</strong> uses it to invoke sub-build process on make-mode.</p>
</dd></dl>
<p class="rubric" id="makefile-options">Makefile Options</p>
<p>The <code class="file docutils literal notranslate"><span class="pre">Makefile</span></code> and <code class="file docutils literal notranslate"><span class="pre">make.bat</span></code> files created by
<strong class="program">sphinx-quickstart</strong> usually run <strong class="program">sphinx-build</strong> only with the
<a class="reference internal" href="#cmdoption-sphinx-build-b"><code class="xref std std-option docutils literal notranslate"><span class="pre">-b</span></code></a> and <a class="reference internal" href="#cmdoption-sphinx-build-d"><code class="xref std std-option docutils literal notranslate"><span class="pre">-d</span></code></a> options.  However, they support the following
variables to customize behavior:</p>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">PAPER</span></span></dt>
<dd><p>This sets the <code class="docutils literal notranslate"><span class="pre">'papersize'</span></code> key of <a class="reference internal" href="../usage/configuration.html#confval-latex_elements"><code class="xref std std-confval docutils literal notranslate"><span class="pre">latex_elements</span></code></a>:
i.e. <code class="docutils literal notranslate"><span class="pre">PAPER=a4</span></code> sets it to <code class="docutils literal notranslate"><span class="pre">'a4paper'</span></code> and <code class="docutils literal notranslate"><span class="pre">PAPER=letter</span></code> to
<code class="docutils literal notranslate"><span class="pre">'letterpaper'</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Usage of this environment variable got broken at Sphinx 1.5 as
<code class="docutils literal notranslate"><span class="pre">a4</span></code> or <code class="docutils literal notranslate"><span class="pre">letter</span></code> ended up as option to LaTeX document in
place of the needed <code class="docutils literal notranslate"><span class="pre">a4paper</span></code>, resp. <code class="docutils literal notranslate"><span class="pre">letterpaper</span></code>.  Fixed at
1.7.7.</p>
</div>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">SPHINXBUILD</span></span></dt>
<dd><p>The command to use instead of <code class="docutils literal notranslate"><span class="pre">sphinx-build</span></code>.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">BUILDDIR</span></span></dt>
<dd><p>The build directory to use instead of the one chosen in
<strong class="program">sphinx-quickstart</strong>.</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">SPHINXOPTS</span></span></dt>
<dd><p>Additional options for <strong class="program">sphinx-build</strong>. These options can
also be set via the shortcut variable <strong>O</strong> (capital ‘o’).</p>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">NO_COLOR</span></span></dt>
<dd><p>When set (regardless of value), <strong class="program">sphinx-build</strong>  will not use color
in terminal output. <code class="docutils literal notranslate"><span class="pre">NO_COLOR</span></code> takes precedence over <code class="docutils literal notranslate"><span class="pre">FORCE_COLOR</span></code>. See
<a class="reference external" href="https://no-color.org/">no-color.org</a> for other libraries supporting this
community standard.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 4.5.0.</span></p>
</div>
</dd></dl>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">FORCE_COLOR</span></span></dt>
<dd><p>When set (regardless of value), <strong class="program">sphinx-build</strong> will use color in
terminal output. <code class="docutils literal notranslate"><span class="pre">NO_COLOR</span></code> takes precedence over <code class="docutils literal notranslate"><span class="pre">FORCE_COLOR</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 4.5.0.</span></p>
</div>
</dd></dl>
</section>
<section id="deprecation-warnings">
<span id="when-deprecation-warnings-are-displayed"></span><h2>Deprecation Warnings<a class="headerlink" href="#deprecation-warnings" title="Permalink to this heading">¶</a></h2>
<p>If any deprecation warning like <code class="docutils literal notranslate"><span class="pre">RemovedInSphinxXXXWarning</span></code> are displayed
when building a user’s document, some Sphinx extension is using deprecated
features. In that case, please report it to author of the extension.</p>
<p>To disable the deprecation warnings, please set <code class="docutils literal notranslate"><span class="pre">PYTHONWARNINGS=</span></code> environment
variable to your environment. For example:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">PYTHONWARNINGS=</span> <span class="pre">make</span> <span class="pre">html</span></code> (Linux/Mac)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">export</span> <span class="pre">PYTHONWARNINGS=</span></code> and do <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">html</span></code> (Linux/Mac)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">set</span> <span class="pre">PYTHONWARNINGS=</span></code> and do <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">html</span></code> (Windows)</p></li>
<li><p>modify your Makefile/make.bat and set the environment variable</p></li>
</ul>
</section>
<section id="see-also">
<h2>See also<a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h2>
<p><em class="manpage">sphinx-quickstart(1)</em></p>
</section>
</section>
</div>
</div>
<div class="footer" role="contentinfo">
  © <a href="../copyright.html">Copyright</a> 2007-2022, the Sphinx developers.
  Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
</div>
<script>var embed_css = function() {
    Array.from(document.querySelectorAll("link")).forEach( link => {
        if (link.getAttribute('rel') == 'stylesheet') {
            const style = document.createElement("style");
            var href = link.getAttribute('href');
            let [path, get_parameters, anchor] = split_url(href);
            path = normalize_path(path);
            style.innerText = retrieve_file(path);
            link.replaceWith(style);
        };
    });
};


var embed_js = function() {
    Array.from(document.querySelectorAll("script")).forEach( oldScript => {
        const newScript = document.createElement("script");
        Array.from(oldScript.attributes).forEach( attr => {
            newScript.setAttribute(attr.name, attr.value);
        });
        try {
            if (newScript.hasAttribute('src') && is_virtual(newScript.getAttribute('src'))) {
                var src = newScript.getAttribute('src');
                let [path, get_parameters, anchor] = split_url(src);
                path = normalize_path(path);
                var src = retrieve_file(path) + ' //# sourceMap=' + path;
                newScript.appendChild(document.createTextNode(src));
                newScript.removeAttribute('src');
                oldScript.parentNode.replaceChild(newScript, oldScript);
            }
        } catch (e) {
            // Make sure all scripts are loaded
            console.error("Caught error in " + oldScript.getAttribute("src"), e);
        }
    });
};


var split_url = function(url) {
    // Return a list of three elements: path, GET parameters, anchor
    var anchor = url.split('#')[1] || "";
    var get_parameters = url.split('#')[0].split('?')[1] || "";
    var path = url.split('#')[0];
    path = path.split('?')[0];
    let result = [path, get_parameters, anchor];
    // console.log("Split URL", url, result);
    return result;
}


var virtual_click = function(evnt) {
    // Handle GET parameters and anchors
    // console.log("Virtual click", evnt);

    var el = evnt.currentTarget;
    var name = el.tagName.toLowerCase();

    if (name == 'a') {
        var [path, get_parameters, anchor] = split_url(el.getAttribute('href'));
    } else if (name == 'form') {
        var [path, get_parameters, anchor] = split_url(el.getAttribute('action'));
        const formData = new FormData(el);
        get_parameters = new URLSearchParams(formData).toString();
    } else {
        console.error("Invalid element", el);
    }

    path = normalize_path(path);

    window.parent.postMessage({
        action: "virtual_click",
        argument: {
            path: path,
            get_parameters: get_parameters,
            anchor: anchor,
        }
    }, '*');
    evnt.preventDefault();
    evnt.stopPropagation();
    return false;
};

var fix_links = function() {
    Array.from(document.querySelectorAll("a")).forEach( a => {
        fix_link(a);
    });
};

var fix_link = function(a) {
    if (is_virtual(a.getAttribute('href'))) {
        a.addEventListener('click', virtual_click);
    } else if (a.getAttribute('href').startsWith('#')) {
        a.setAttribute('href', "about:srcdoc" + a.getAttribute('href'))
    } else {
        // External links should open in a new tab. Browsers block links to
        // sites of different origin within an iframe for security reasons.
        a.setAttribute('target', "_blank");
    }
};

var fix_form = function(form) {
    var href = form.getAttribute('action');
    if (is_virtual(href) && form.getAttribute('method').toLowerCase() == 'get') {
        form.addEventListener('submit', virtual_click);
    }
};


var fix_forms = function() {
    Array.from(document.querySelectorAll("form")).forEach( form => {
        fix_form(form);
    });
};


var embed_img = function(img) {
    if (img.hasAttribute('src')) {
        const src = img.getAttribute('src');
        if (is_virtual(src)) {
            var path = normalize_path(src);
            const file = retrieve_file(path);
            const mime_type = window.global_context.file_tree[path].mime_type;
            if (mime_type == 'image/svg+xml') {
                img.setAttribute('src', "data:image/svg+xml;charset=utf-8;base64, " + btoa(file));
            } else {
                img.setAttribute('src', `data:${mime_type};base64, ${file}`);
            }
        };
    };
};

var embed_imgs = function() {
    Array.from(document.querySelectorAll("img")).forEach( img => {
        embed_img(img);
    });
};

var is_virtual = function(url) {
    // Return true if the url should be retrieved from the virtual file tree
    var _url = url.toString().toLowerCase();
    return (! (
        _url == "" ||
        _url[0] == "#" ||
        _url.startsWith('https://') ||
        _url.startsWith('http://') ||
        _url.startsWith('data:') ||
        _url.startsWith('blob:')
    ));
};

var retrieve_file = function(path) {
    // console.log("Retrieving file: " + path);
    var file_tree = window.global_context.file_tree;
    var file = file_tree[path];
    if (!file) {
        console.warn("File not found: " + path);
        return "";
    } else {
        return file.data;
    }
};

var normalize_path = function(path) {
    // make relative paths absolute in context of our virtual file tree

    while (path && path[0] == '/') {
        path = path.substr(1);
    }

    var result = window.global_context.current_path;
    result = result.split('/');
    result.pop();
    result = result.concat(path.split('/'));

    // resolve relative directories
    var array = [];
    Array.from(result).forEach( component => {
        if (component == '..') {
            if (array) {
                array.pop();
            }
        } else if (component == '.') {
        } else {
            if (component) { array.push(component); }
        }
    });

    result = array.join('/');
    // console.log(`Normalized path: ${path} -> ${result} (@${window.global_context.current_path})`);
    return result;
};


var fix_document = function() {
    embed_js(); // This might change the DOM, so do this first
    monkey_patch();
    embed_css();
    embed_imgs();
    fix_links();
    fix_forms();
};


var on_set_data = function(argument) {
    window.global_context = argument;
    console.log("Received data from parent", window.global_context);
    // dynamically fix elements on this page
    try {
        fix_document();
        // Trigger DOMContentLoaded again, some scripts that have just
        // been executed expect it.
        window.document.dispatchEvent(new Event("DOMContentLoaded", {
            bubbles: true,
            cancelable: true
        }));
    } finally {
        observer.observe(window.document.body, {subtree: true, childList: true});
        window.parent.postMessage({
            action: "show_iframe",
            argument: "",
        }, '*');
    }
}


var on_scroll_to_anchor = function(argument) {
    if (window.global_context.anchor) {
        document.location.replace("about:srcdoc#" + window.global_context.anchor);
    }
}


const observer = new MutationObserver((mutationList) => {
    // console.log("Fix mutated elements...", mutationList);
    mutationList.forEach((mutation) => {
        if (mutation.type == 'childList') {
            Array.from(mutation.target.querySelectorAll("a")).forEach( a => {
                fix_link(a);
            });
            Array.from(mutation.target.querySelectorAll("img")).forEach( img => {
                embed_img(img);
            });
            Array.from(mutation.target.querySelectorAll("form")).forEach( form => {
                fix_form(form);
            });
        }
    });
});


var monkey_patch = function() {
    if (typeof jQuery === 'undefined') {return;} // Only for jQuery at the moment
    /**
     * Monkey patch getQueryParameters
     * This function is defined in Sphinx' (v4) doctools.js and incompatible with our
     * approach.
     * This is a copy with effectively only the third line changed.
     * See: https://github.com/sphinx-doc/sphinx/blob/2329fdef8c20c6c75194f5d842b8f62ebad5c79d/sphinx/themes/basic/static/doctools.js#L54
     */
    jQuery._getQueryParameters = jQuery.getQueryParameters;
    jQuery.getQueryParameters = function(s) {
      if (typeof s === 'undefined')
        s = '?' + window.global_context.get_parameters;
      return jQuery._getQueryParameters(s);
    };

    /**
     * Monkey patch jQuery.ajax
     * Only settings.url and settings.complete are supported for virtual
     * URLs.
     */
    jQuery._ajax = jQuery.ajax;
    jQuery.ajax = function(settings) {
        url = normalize_path(settings.url);
        if (is_virtual(url)) {
            var result;
            var data;
            data = retrieve_file(url);
            result = settings.complete({responseText: data}, "");
            return; // Return value not actually needed in searchtools.js
        } else {
            return jQuery.ajax(settings);
        };
    };
}


var on_load = function() {
    // Set up message listener
    window.addEventListener("message", (evnt) => {
        console.log("Received message in iframe", evnt);
        if (evnt.data.action == 'set_data') {
            on_set_data(evnt.data.argument);
        } else if (evnt.data.action == 'scroll_to_anchor') {
            on_scroll_to_anchor(evnt.data.argument);
        }
    }, false);

    // Set parent window title and trigger data transmission
    var favicon = window.document.querySelector("link[rel*='icon']");
    if (favicon) { favicon = favicon.getAttribute('href'); }
    var title = window.document.querySelector('head>title');
    if (title) { title = title.innerText; }

    window.parent.postMessage({
        action: "set_title",
        argument: {
            title: title,
            favicon: favicon
        }
    }, '*');

};


window.addEventListener('load', on_load);
//# sourceURL=inject_post.js</script></body>
</html>