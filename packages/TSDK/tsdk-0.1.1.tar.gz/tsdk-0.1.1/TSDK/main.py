from api.taobao.h5 import TaobaoH5
from api.taobao.open import TaobaoOpen
from api.douyin.h5 import DouyinH5
import json



if __name__ == '__main__':
    # h5 = TaobaoH5()
    # h5.urlCreateFunc('https://h5api.m.taobao.com/h5/mtop.taobao.shop.impression.logo.get/1.0/?jsv=2.6.1&appKey=12574478&t=1702987766953&sign=206ee688cc2fea46ff035bccb349579b&api=mtop.taobao.shop.impression.logo.get&v=1.0&type=jsonp&secType=1&preventFallback=true&dataType=jsonp&callback=mtopjsonp5&data=%7B%22sellerId%22%3A%22499878111%22%2C%22shopId%22%3A%2262643782%22%7D')
    h5 = DouyinH5()
    # h5.setSessionid('8ce8edd349ea9e523a1ab56826a156f2')
    # h5.loadCookieStr('ttwid=1%7CP_yaaU2EJwDb6axCx1ejJEO8Udl76Qtud0WYR0yFNpA%7C1712149098%7C72cb56a9931184024ec6f3a5e2b4efdc52c53e901bae32f6a65ac6ac48060bd8; dy_swidth=1920; dy_sheight=1080; passport_csrf_token=eea59a7c4564724e9b4dc25572a9f83a; passport_csrf_token_default=eea59a7c4564724e9b4dc25572a9f83a; bd_ticket_guard_client_web_domain=2; download_guide=%223%2F20240403%2F0%22; pwa2=%220%7C0%7C3%7C0%22; volume_info=%7B%22isUserMute%22%3Afalse%2C%22isMute%22%3Afalse%2C%22volume%22%3A0.5%7D; douyin.com; device_web_cpu_core=16; device_web_memory_size=8; architecture=amd64; csrf_session_id=3bef5b4a9ff04d33c1c3eb6e23298a57; xgplayer_user_id=902129266265; xg_device_score=7.90435294117647; __live_version__=%221.1.1.9068%22; live_can_add_dy_2_desktop=%220%22; live_use_vvc=%22false%22; FORCE_LOGIN=%7B%22videoConsumedRemainSeconds%22%3A180%2C%22isForcePopClose%22%3A1%7D; stream_player_status_params=%22%7B%5C%22is_auto_play%5C%22%3A0%2C%5C%22is_full_screen%5C%22%3A0%2C%5C%22is_full_webscreen%5C%22%3A0%2C%5C%22is_mute%5C%22%3A0%2C%5C%22is_speed%5C%22%3A1%2C%5C%22is_visible%5C%22%3A0%7D%22; __ac_signature=_02B4Z6wo00f01.bzkjAAAIDAy1qIr.46DCv205aAAJu8c4; strategyABtestKey=%221712208759.823%22; GlobalGuideTimes=%221712208983%7C0%22; xgplayer_device_id=26858847177; s_v_web_id=verify_lul0plcd_f8463012_e580_5a22_ac47_0ac6c2a4c063; n_mh=6qq-cGgTT9fkYiwsN45Jh1uyewEXJiS4wSqKokLJKfI; _bd_ticket_crypt_doamin=2; LOGIN_STATUS=1; __security_server_data_status=1; stream_recommend_feed_params=%22%7B%5C%22cookie_enabled%5C%22%3Atrue%2C%5C%22screen_width%5C%22%3A1920%2C%5C%22screen_height%5C%22%3A1080%2C%5C%22browser_online%5C%22%3Atrue%2C%5C%22cpu_core_num%5C%22%3A16%2C%5C%22device_memory%5C%22%3A8%2C%5C%22downlink%5C%22%3A10%2C%5C%22effective_type%5C%22%3A%5C%224g%5C%22%2C%5C%22round_trip_time%5C%22%3A50%7D%22; d_ticket=031e11614692a594af527a4f35527105d6a25; passport_assist_user=CjxmqckqHS9cNNXQKiDoomR2Ip6CPjc06gE08Ogw7u31i2XbZRcjgVsD6suNoVvsO9hruMrYsOlsGB9vtfQaSgo8Z__4BxWBkFivXNBezpLEHrFJAf_8qdROk95rQIK9t5OWWKH2RZHGzFvNL76qaE-lbqXflvrrjGjcr93XEP3izQ0Yia_WVCABIgED-2MemQ%3D%3D; sso_uid_tt=29db5759c7a863686fbc6282bf936250; sso_uid_tt_ss=29db5759c7a863686fbc6282bf936250; toutiao_sso_user=df5d7c87c54beb0d0b6b17c5402a64e5; toutiao_sso_user_ss=df5d7c87c54beb0d0b6b17c5402a64e5; sid_ucp_sso_v1=1.0.0-KDY3Y2ZhYTY5NWMyMjhkNjhlMzQxNDU0MGY5ODE5MmMxZjI0OTg3NGMKHQiSvPzv9AEQ5Lu6sAYY7zEgDDCiv6_MBTgGQPQHGgJscSIgZGY1ZDdjODdjNTRiZWIwZDBiNmIxN2M1NDAyYTY0ZTU; ssid_ucp_sso_v1=1.0.0-KDY3Y2ZhYTY5NWMyMjhkNjhlMzQxNDU0MGY5ODE5MmMxZjI0OTg3NGMKHQiSvPzv9AEQ5Lu6sAYY7zEgDDCiv6_MBTgGQPQHGgJscSIgZGY1ZDdjODdjNTRiZWIwZDBiNmIxN2M1NDAyYTY0ZTU; passport_auth_status=6e6355a233edc2a2f441c60ba6b178d6%2C29b855bbc880652916e91bc5eec68336; passport_auth_status_ss=6e6355a233edc2a2f441c60ba6b178d6%2C29b855bbc880652916e91bc5eec68336; uid_tt=4c425b9b724457ce67f40c66d2f25491; uid_tt_ss=4c425b9b724457ce67f40c66d2f25491; sid_tt=8ce8edd349ea9e523a1ab56826a156f2; sessionid=8ce8edd349ea9e523a1ab56826a156f2; sessionid_ss=8ce8edd349ea9e523a1ab56826a156f2; __ac_nonce=0660e9de5008e750b19a4; IsDouyinActive=true; store-region=cn-hb; store-region-src=uid; _bd_ticket_crypt_cookie=d44b93ba1fa2a1eaa729954eb164e71d; bd_ticket_guard_client_data=eyJiZC10aWNrZXQtZ3VhcmQtdmVyc2lvbiI6MiwiYmQtdGlja2V0LWd1YXJkLWl0ZXJhdGlvbi12ZXJzaW9uIjoxLCJiZC10aWNrZXQtZ3VhcmQtcmVlLXB1YmxpYy1rZXkiOiJCQTlaQ1dLTFh6NnFtT1pua1BiYTFaa3daQjY5N2pMdE1MZzVkZVVxUWl1SzJ1OVZ2eVM5SkhWUEUyWWVWUVVhNmExMHB3SGxPWHppNXYwMEtsbUZpalU9IiwiYmQtdGlja2V0LWd1YXJkLXdlYi12ZXJzaW9uIjoxfQ%3D%3D; passport_fe_beating_status=true; sid_guard=8ce8edd349ea9e523a1ab56826a156f2%7C1712233961%7C5183998%7CMon%2C+03-Jun-2024+12%3A32%3A39+GMT; sid_ucp_v1=1.0.0-KDYzNmY2MWIwZDY4NzFjYTAzNDZmNjQ2ZjUyNzUxYTY0OWE0MGRhZDAKGQiSvPzv9AEQ6bu6sAYY7zEgDDgGQPQHSAQaAmxxIiA4Y2U4ZWRkMzQ5ZWE5ZTUyM2ExYWI1NjgyNmExNTZmMg; ssid_ucp_v1=1.0.0-KDYzNmY2MWIwZDY4NzFjYTAzNDZmNjQ2ZjUyNzUxYTY0OWE0MGRhZDAKGQiSvPzv9AEQ6bu6sAYY7zEgDDgGQPQHSAQaAmxxIiA4Y2U4ZWRkMzQ5ZWE5ZTUyM2ExYWI1NjgyNmExNTZmMg; home_can_add_dy_2_desktop=%221%22; publish_badge_show_info=%220%2C0%2C0%2C1712233965432%22; odin_tt=cc48278aebcee3cb75cf143e567c55b253d0cd29ad06bf6c1dcef68adeb5debd04b40d22a0b822f3373fb115a467adf1; msToken=zM3NrHfk6LdT7HN91sltuqP88jdwm2gGofy70tJgdcp2W22weB4wMC4rstRPRJ8sbk99pHMV3bj1IG4kIjV9k9Y0BqCV6FPntIhVc4GtFfVxRvLNoYDAoYDYwMkUtg==', 'www.douyin.com')
    # data = h5.qrLogin()
    h5.loadCookieStr('ttwid=1%7Cr9nMxQR4fB0sqAvCslQUKf7cfBdeFIgWuilHH0HTAt4%7C1722147632%7Cbaef9c3f0485ef517aa009376689a2632ada93d818ade33600a425e6f694a37d; UIFID_TEMP=3c3e9d4a635845249e00419877a3730e2149197a63ddb1d8525033ea2b3354c2d6f4b48057dfd646b994ce162242e2e3aad450b82fee07740f84c7520519f462b5be133699bb3211f6eec7a95a645f26; dy_swidth=1920; dy_sheight=1080; s_v_web_id=verify_lz568jam_UB7gZxGd_rnQr_45GP_8pAb_115YXd9PcW3l; fpk1=U2FsdGVkX19lzCSKkZaAPvm7pGnu5KmeBDWibO7cXb2fQR73NZhYgL6CpItIuJPhSJgL7P8aC+H6H+RWxFjGIA==; fpk2=f1f6b29a6cc1f79a0fea05b885aa33d0; xgplayer_user_id=597050996629; passport_csrf_token=81444574ca1faa350acc53645b11a43f; passport_csrf_token_default=81444574ca1faa350acc53645b11a43f; bd_ticket_guard_client_web_domain=2; FORCE_LOGIN=%7B%22videoConsumedRemainSeconds%22%3A180%2C%22isForcePopClose%22%3A1%7D; UIFID=3c3e9d4a635845249e00419877a3730e2149197a63ddb1d8525033ea2b3354c2d6f4b48057dfd646b994ce162242e2e36a40fed127a91316bc6ddc3182c7bb3180a3a14e05562850ddef17288e48ef59b9d424da1fac8c1e20a96ce63c8c3bea5d367bdefe30c5016aa84a1019a046067f8563f41392426f48909cffc42cdeedf74f3a1d2d939b0b6c2a00ef5c4cd8208d133c17e1d444d2ff2c13edf1781dd1; d_ticket=acdd4217ffedc65c5909ed9c4fe1ebfd295a6; n_mh=6qq-cGgTT9fkYiwsN45Jh1uyewEXJiS4wSqKokLJKfI; passport_auth_status=0c1210f60d53177e64d56a6295601525%2C; passport_auth_status_ss=0c1210f60d53177e64d56a6295601525%2C; publish_badge_show_info=%220%2C0%2C0%2C1722148333917%22; _bd_ticket_crypt_doamin=2; __security_server_data_status=1; store-region=cn-hb; store-region-src=uid; WallpaperGuide=%7B%22showTime%22%3A1722147691202%2C%22closeTime%22%3A0%2C%22showCount%22%3A1%2C%22cursor1%22%3A21%2C%22cursor2%22%3A0%7D; download_guide=%223%2F20240728%2F0%22; passport_assist_user=CjzC3lteaVhSOj34xaimmSB6JWr43oEvOwr_MkhbWzOhBYnuYuU9vbN2hlXSapJrbHBDMjhkEMKX1mwbtrIaSgo8-vY_Drjij7AeMl6BDhdPdT18Q76la8QQXb3yQLjPjkj1KtyqNw3oWxjSYpeAEUxEwiATs9Tbow7rfqfnEPjr1w0Yia_WVCABIgED18VzBA%3D%3D; sso_uid_tt=dabb7175d1b3312c35a50568441aff5d; sso_uid_tt_ss=dabb7175d1b3312c35a50568441aff5d; toutiao_sso_user=6d0194ccaf8df91971ce714a0686bfd8; toutiao_sso_user_ss=6d0194ccaf8df91971ce714a0686bfd8; sid_ucp_sso_v1=1.0.0-KGJjOGVmOTZiZTgzNGNkYTdhMGQwNGEyZDIyMTlhMGVhYjVjOTQ4NjUKHwiSvPzv9AEQtdGXtQYY7zEgDDCiv6_MBTgFQPsHSAYaAmhsIiA2ZDAxOTRjY2FmOGRmOTE5NzFjZTcxNGEwNjg2YmZkOA; ssid_ucp_sso_v1=1.0.0-KGJjOGVmOTZiZTgzNGNkYTdhMGQwNGEyZDIyMTlhMGVhYjVjOTQ4NjUKHwiSvPzv9AEQtdGXtQYY7zEgDDCiv6_MBTgFQPsHSAYaAmhsIiA2ZDAxOTRjY2FmOGRmOTE5NzFjZTcxNGEwNjg2YmZkOA; uid_tt=79e265892af863e0adb82aeafd57ba6e; uid_tt_ss=79e265892af863e0adb82aeafd57ba6e; sid_tt=3c1c8469afe7fcdf45e89f38552e328b; sessionid=3c1c8469afe7fcdf45e89f38552e328b; sessionid_ss=3c1c8469afe7fcdf45e89f38552e328b; _bd_ticket_crypt_cookie=809167414d49de70b905dd776bb6cb37; sid_guard=3c1c8469afe7fcdf45e89f38552e328b%7C1722149051%7C5183997%7CThu%2C+26-Sep-2024+06%3A44%3A08+GMT; sid_ucp_v1=1.0.0-KGZkNWVkNDhiMmIyYmNlNGMzZTU4Yzc4MmZkMjRmNzZhMGUzOTIxYTUKGQiSvPzv9AEQu9GXtQYY7zEgDDgFQPsHSAQaAmxxIiAzYzFjODQ2OWFmZTdmY2RmNDVlODlmMzg1NTJlMzI4Yg; ssid_ucp_v1=1.0.0-KGZkNWVkNDhiMmIyYmNlNGMzZTU4Yzc4MmZkMjRmNzZhMGUzOTIxYTUKGQiSvPzv9AEQu9GXtQYY7zEgDDgFQPsHSAQaAmxxIiAzYzFjODQ2OWFmZTdmY2RmNDVlODlmMzg1NTJlMzI4Yg; pwa2=%220%7C0%7C3%7C0%22; FOLLOW_NUMBER_YELLOW_POINT_INFO=%22MS4wLjABAAAAzfSO36ySbBVETFozPXlAbKggARtd7yTJ3JQp4G72wew%2F1722182400000%2F0%2F1722163178804%2F0%22; volume_info=%7B%22isMute%22%3Atrue%2C%22isUserMute%22%3Afalse%2C%22volume%22%3A0.6%7D; douyin.com; device_web_cpu_core=16; device_web_memory_size=8; architecture=amd64; stream_recommend_feed_params=%22%7B%5C%22cookie_enabled%5C%22%3Atrue%2C%5C%22screen_width%5C%22%3A1920%2C%5C%22screen_height%5C%22%3A1080%2C%5C%22browser_online%5C%22%3Atrue%2C%5C%22cpu_core_num%5C%22%3A16%2C%5C%22device_memory%5C%22%3A8%2C%5C%22downlink%5C%22%3A10%2C%5C%22effective_type%5C%22%3A%5C%224g%5C%22%2C%5C%22round_trip_time%5C%22%3A100%7D%22; csrf_session_id=8311633d93357933bdf90cc9b3da88c9; __ac_nonce=066a7a146009eeba1ab88; __ac_signature=_02B4Z6wo00f019j8n1wAAIDC9ntSdfWp2tPY3JvAAJCh25; FOLLOW_LIVE_POINT_INFO=%22MS4wLjABAAAAzfSO36ySbBVETFozPXlAbKggARtd7yTJ3JQp4G72wew%2F1722268800000%2F0%2F1722261831591%2F0%22; strategyABtestKey=%221722261832.273%22; bd_ticket_guard_client_data=eyJiZC10aWNrZXQtZ3VhcmQtdmVyc2lvbiI6MiwiYmQtdGlja2V0LWd1YXJkLWl0ZXJhdGlvbi12ZXJzaW9uIjoxLCJiZC10aWNrZXQtZ3VhcmQtcmVlLXB1YmxpYy1rZXkiOiJCUElvTjRMV0tZdU5JaEFSQThoYi9WSGw2cU40c2NCNllrV2NLb1AranVmSHE3dm9mWmlKVThFYU9JQVpGS2IxZ3MvT2c0UzdTTERoR0pQcU5INS9WMjA9IiwiYmQtdGlja2V0LWd1YXJkLXdlYi12ZXJzaW9uIjoxfQ%3D%3D; passport_fe_beating_status=true; biz_trace_id=22a2e13c; home_can_add_dy_2_desktop=%221%22; xg_device_score=7.63586757002114; odin_tt=59bb1b8b399d32f15150634df1ec1e8394e4657b01f17e4d7ddee351d0400a7185f2acc00e1204cbffa26895a7effaa5; stream_player_status_params=%22%7B%5C%22is_auto_play%5C%22%3A0%2C%5C%22is_full_screen%5C%22%3A0%2C%5C%22is_full_webscreen%5C%22%3A0%2C%5C%22is_mute%5C%22%3A1%2C%5C%22is_speed%5C%22%3A1%2C%5C%22is_visible%5C%22%3A1%7D%22; IsDouyinActive=true;msToken=UfcJTtpkRT7sAx_LFe8sYVmHqeTrz4ps5ITHme38KVgO6yD0WME9AAs1XQt11YbHij_YPtVux6bhd81ksQnUqafwOOqeA7pY5hqZUh97aJY4TykMPkvh2ZGX2HQczA==')
    # h5.otherProfile('MS4wLjABAAAA0joAdG_sxN6RJAXJBsXdzh1NzoVNYVgmhGYjooGY9t4')
    # data = h5.shortVideo('MS4wLjABAAAA0joAdG_sxN6RJAXJBsXdzh1NzoVNYVgmhGYjooGY9t4')
    # data = h5.videoList('MS4wLjABAAAAFsiGPG2r862WP_UnRG9QD8e5s-BN4U1igQyWrmb8MJs')
    # data = h5.awemeCommentList('7389199126463909131')
    # data = h5.toString(123452221127362961)
    # data = h5.videlLocateList()
    # res = h5.otherProfile('MS4wLjABAAAA3gtm49ci0V27KONPkyiCp7f8Gv1yr4Ew9so80ogOMi5U5Kr1RqikEFE15QucD7Jd')
    data = h5.videoList('MS4wLjABAAAAdCFXhpnCQ2XgHwlIK1ltBFh_15pmUyQ6kYTmTyA7SB0')
    print(data)
    # data = json.loads('''{"uri":"v0d00fg10000cppvepfog65qoeco8gdg","url_list":["http://v3-web.douyinvod.com/011b3b2aaab0fcc0ba01d5b536e33b0f/66a64d32/video/tos/cn/tos-cn-ve-15c001-alinc2/oUZHgbBDAGIeRANDseMEeLCr7C0PLRmD2ezYVX/?a=6383&ch=10010&cr=3&dr=0&lr=all&cd=0%7C0%7C0%7C3&cv=1&br=3972&bt=3972&cs=0&ds=4&ft=LjhJEL998xI7uEPmD0P5NdvaUFiX-e44xVJEM07In0PD-Ipz&mime_type=video_mp4&qs=0&rc=ZGlpZjU0NmRnOWk6OmQ2Z0BpampyaHQ5cnN5czMzNGkzM0AvMDVjNWA2XjYxXjNfMl4xYSNhNWBsMmRjYm1gLS1kLWFzcw%3D%3D&btag=c0000e00038000&cquery=101r_100B_100x_100z_100o&dy_q=1722163210&feature_id=59cb2766d89ae6284516c6a254e9fb61&l=202407281840106A3C6A696130FC5C4135","http://v26-web.douyinvod.com/87d384590c1f4d0c0009d3d5d4df1671/66a64d32/video/tos/cn/tos-cn-ve-15c001-alinc2/oUZHgbBDAGIeRANDseMEeLCr7C0PLRmD2ezYVX/?a=6383&ch=10010&cr=3&dr=0&lr=all&cd=0%7C0%7C0%7C3&cv=1&br=3972&bt=3972&cs=0&ds=4&ft=LjhJEL998xI7uEPmD0P5NdvaUFiX-e44xVJEM07In0PD-Ipz&mime_type=video_mp4&qs=0&rc=ZGlpZjU0NmRnOWk6OmQ2Z0BpampyaHQ5cnN5czMzNGkzM0AvMDVjNWA2XjYxXjNfMl4xYSNhNWBsMmRjYm1gLS1kLWFzcw%3D%3D&btag=c0000e00038000&cquery=100z_100o_101r_100B_100x&dy_q=1722163210&feature_id=59cb2766d89ae6284516c6a254e9fb61&l=202407281840106A3C6A696130FC5C4135","https://www.douyin.com/aweme/v1/play/?video_id=v0d00fg10000cppvepfog65qoeco8gdg&line=0&file_id=4da35ab767af469daa93c182fc8f3f2a&sign=df5e23449b696a0c266dc91c6c8a39c5&is_play_url=1&source=PackSourceEnum_PUBLISH"],"width":1920,"height":1080,"url_key":"v0d00fg10000cppvepfog65qoeco8gdg_h264_1080p_4068291","data_size":386716571,"file_hash":"df5e23449b696a0c266dc91c6c8a39c5","file_cs":"c:0-1234936-e61b|a:v0d00fg10000cppvepfog65qoeco8gdg"}''')
    # h5.renderType('AwemeVideoPlayAddr', data)
    # h5.queryUserInfo('MS4wLjABAAAAS9XM5-eCPLjlKNC9mOyZA3KAiELXbLA0bFoRHu352Hc')
    # h5.search('测试')