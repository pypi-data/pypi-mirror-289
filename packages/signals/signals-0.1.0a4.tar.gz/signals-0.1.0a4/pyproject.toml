[project]
name = "signals"
version = "0.1.0a4"
description = "A reactive programming library for Python, implementing a signals system similar to @preact/signals"
authors = [{ name = "Trevor Manz", email = "trevor.j.manz@gmail.com" }]
dependencies = []
readme = "README.md"
requires-python = ">= 3.8"

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[tool.rye]
managed = true
dev-dependencies = ["pytest>=8.1.2", "jupyterlab>=4.2.0", "ipywidgets>=8.1.2"]

[tool.hatch.metadata]
allow-direct-references = true

[tool.ruff.lint]
preview = true
pydocstyle = { convention = "numpy" }
select = [
    "E",    # style errors
    "W",    # style warnings
    "F",    # flakes
    "D",    # pydocstyle
    "D417", # Missing argument descriptions in Docstrings
    "I",    # isort
    "UP",   # pyupgrade
    "C4",   # flake8-comprehensions
    "B",    # flake8-bugbear
    "A001", # flake8-builtins
    "RUF",  # ruff-specific rules
    "TCH",  # flake8-type-checking
    "TID",  # flake8-tidy-imports
    "FURB", # refurb
    "PYI",  # flake8-pyi
    "T20",  # flake8-print
    "RET",  # flake8-return
    "SIM",  # flake8-simplify
    "YTT",  # flake8-2020
    "G",    # flake8-logging-format
    "PGH",  # pygrep-hooks
    "PIE",  # flake8-pie
    "PL",   # pylint
    "PT",   # flake8-pytest-style
    "PTH",  # flake8-use-pathlib
]
isort.required-imports = ["from __future__ import annotations"]

[tool.ruff.lint.per-file-ignores]
"tests/*.py" = [
    "D",       # no docstrings
    "S",       # asserts in test functions
    "PLR2004", # Magic value used in comparison
]
"src/signals/__init__.py" = ["F401"]
