(window.webpackJsonpfeffery_utils_components=window.webpackJsonpfeffery_utils_components||[]).push([[27],{547:function(t,e,i){i.r(e);var o,r,C=i(1),s=i(567),H=i.n(s),O=i(662),n=function(t,e){return(n=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])}))(t,e)},W=function(){return(W=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},A={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},k=(o=C.PureComponent,n(r=a,s=o),r.prototype=null===s?Object.create(s):(p.prototype=s.prototype,new p),a.prototype.componentDidMount=function(){this.updateOffsetFromParent();var t=this.offsetFromParent,e=t.left,t=t.top,i=this.getDraggablePosition(),o=i.x,i=i.y;this.draggable.setState({x:o-e,y:i-t}),this.forceUpdate()},a.prototype.getDraggablePosition=function(){var t=this.draggable.state;return{x:t.x,y:t.y}},a.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},a.prototype.getParentSize=function(){return this.resizable.getParentSize()},a.prototype.getMaxSizesFromProps=function(){return{maxWidth:void 0===this.props.maxWidth?Number.MAX_SAFE_INTEGER:this.props.maxWidth,maxHeight:void 0===this.props.maxHeight?Number.MAX_SAFE_INTEGER:this.props.maxHeight}},a.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},a.prototype.getOffsetHeight=function(t){var e=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/e;case"body":return document.body.offsetHeight/e;default:return t.offsetHeight}},a.prototype.getOffsetWidth=function(t){var e=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/e;case"body":return document.body.offsetWidth/e;default:return t.offsetWidth}},a.prototype.onDragStart=function(t,e){this.props.onDragStart&&this.props.onDragStart(t,e);t=this.getDraggablePosition();if(this.originalPosition=t,this.props.bounds){var i,o,r,s,n,e=this.getParent(),t=this.props.scale;if("parent"===this.props.bounds)i=e;else{if("body"===this.props.bounds)return r=(s=e.getBoundingClientRect()).left,s=s.top,n=document.body.getBoundingClientRect(),r=-(r-e.offsetLeft*t-n.left)/t,s=-(s-e.offsetTop*t-n.top)/t,n=(document.body.offsetWidth-this.resizable.size.width*t)/t+r,o=(document.body.offsetHeight-this.resizable.size.height*t)/t+s,this.setState({bounds:{top:s,right:n,bottom:o,left:r}});if("window"===this.props.bounds)return this.resizable?(r=(s=e.getBoundingClientRect()).left,s=s.top,r=-(r-e.offsetLeft*t)/t,s=-(s-e.offsetTop*t)/t,n=(window.innerWidth-this.resizable.size.width*t)/t+r,o=(window.innerHeight-this.resizable.size.height*t)/t+s,this.setState({bounds:{top:s,right:n,bottom:o,left:r}})):void 0;"string"==typeof this.props.bounds?i=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(i=this.props.bounds)}i instanceof HTMLElement&&e instanceof HTMLElement&&(n=(s=i.getBoundingClientRect()).left,o=s.top,s=(n-(r=e.getBoundingClientRect()).left)/t,n=o-r.top,this.resizable)&&(this.updateOffsetFromParent(),e=this.offsetFromParent,this.setState({bounds:{top:n-e.top,right:s+(i.offsetWidth-this.resizable.size.width)-e.left/t,bottom:n+(i.offsetHeight-this.resizable.size.height)-e.top,left:s-e.left/t}}))}},a.prototype.onDrag=function(t,e){var i,o;if(this.props.onDrag)return i=(o=this.offsetFromParent).left,o=o.top,this.props.dragAxis&&"both"!==this.props.dragAxis?"x"===this.props.dragAxis?this.props.onDrag(t,W(W({},e),{x:e.x+i,y:this.originalPosition.y+o,deltaY:0})):"y"===this.props.dragAxis?this.props.onDrag(t,W(W({},e),{x:this.originalPosition.x+i,y:e.y+o,deltaX:0})):void 0:this.props.onDrag(t,W(W({},e),{x:e.x+i,y:e.y+o}))},a.prototype.onDragStop=function(t,e){var i,o;if(this.props.onDragStop)return i=(o=this.offsetFromParent).left,o=o.top,this.props.dragAxis&&"both"!==this.props.dragAxis?"x"===this.props.dragAxis?this.props.onDragStop(t,W(W({},e),{x:e.x+i,y:this.originalPosition.y+o,deltaY:0})):"y"===this.props.dragAxis?this.props.onDragStop(t,W(W({},e),{x:this.originalPosition.x+i,y:e.y+o,deltaX:0})):void 0:this.props.onDragStop(t,W(W({},e),{x:e.x+i,y:e.y+o}))},a.prototype.onResizeStart=function(t,e,i){t.stopPropagation(),this.setState({resizing:!0});var o,r,s,n,a,p,l,h,d,f,c,g=this.props.scale,u=this.offsetFromParent,b=this.getDraggablePosition();this.resizingPosition={x:b.x+u.left,y:b.y+u.top},this.originalPosition=b,this.props.bounds?(u=this.getParent(),b=void 0,"parent"===this.props.bounds?b=u:"body"===this.props.bounds?b=document.body:"window"===this.props.bounds?b=window:"string"==typeof this.props.bounds?b=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(b=this.props.bounds),(s=this.getSelfElement())instanceof Element&&(b instanceof HTMLElement||b===window)&&u instanceof HTMLElement&&(o=(u=this.getMaxSizesFromProps()).maxWidth,u=u.maxHeight,a=this.getParentSize(),o&&"string"==typeof o&&(o.endsWith("%")?(r=Number(o.replace("%",""))/100,o=a.width*r):o.endsWith("px")&&(o=Number(o.replace("px","")))),u&&"string"==typeof u&&(u.endsWith("%")?(r=Number(u.replace("%",""))/100,u=a.height*r):u.endsWith("px")&&(u=Number(u.replace("px","")))),r=(a=s.getBoundingClientRect()).left,s=a.top,n=(a="window"===this.props.bounds?{left:0,top:0}:b.getBoundingClientRect()).left,a=a.top,p=this.getOffsetWidth(b),b=this.getOffsetHeight(b),l=e.toLowerCase().endsWith("left"),h=e.toLowerCase().endsWith("right"),d=e.startsWith("top"),f=e.startsWith("bottom"),(l||d)&&this.resizable&&(c=(r-n)/g+this.resizable.size.width,this.setState({maxWidth:c>Number(o)?o:c})),(h||this.props.lockAspectRatio&&!l&&!d)&&this.setState({maxWidth:(c=p+(n-r)/g)>Number(o)?o:c}),(d||l)&&this.resizable&&(c=(s-a)/g+this.resizable.size.height,this.setState({maxHeight:c>Number(u)?u:c})),f||this.props.lockAspectRatio&&!d&&!l)&&this.setState({maxHeight:(c=b+(a-s)/g)>Number(u)?u:c})):this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight}),this.props.onResizeStart&&this.props.onResizeStart(t,e,i)},a.prototype.onResize=function(t,e,i,o){var r={x:this.originalPosition.x,y:this.originalPosition.y},s=-o.width,n=-o.height,s=(["top","left","topLeft","bottomLeft","topRight"].includes(e)&&("bottomLeft"===e?r.x+=s:("topRight"!==e&&(r.x+=s),r.y+=n)),this.draggable.state),n=(r.x===s.x&&r.y===s.y||this.draggable.setState(r),this.updateOffsetFromParent(),this.offsetFromParent),s=this.getDraggablePosition().x+n.left,r=this.getDraggablePosition().y+n.top;this.resizingPosition={x:s,y:r},this.props.onResize&&this.props.onResize(t,e,i,o,{x:s,y:r})},a.prototype.onResizeStop=function(t,e,i,o){this.setState({resizing:!1});var r=this.getMaxSizesFromProps(),s=r.maxWidth,r=r.maxHeight;this.setState({maxWidth:s,maxHeight:r}),this.props.onResizeStop&&this.props.onResizeStop(t,e,i,o,this.resizingPosition)},a.prototype.updateSize=function(t){this.resizable&&this.resizable.updateSize({width:t.width,height:t.height})},a.prototype.updatePosition=function(t){this.draggable.setState(t)},a.prototype.updateOffsetFromParent=function(){var t=this.props.scale,e=this.getParent(),i=this.getSelfElement();if(!e||null===i)return{top:0,left:0};var o=e.getBoundingClientRect(),r=o.left,o=o.top,i=i.getBoundingClientRect(),s=this.getDraggablePosition(),n=e.scrollLeft,e=e.scrollTop;this.offsetFromParent={left:i.left-r+n-s.x*t,top:i.top-o+e-s.y*t}},a.prototype.render=function(){var e=this,t=this.props,i=t.disableDragging,o=t.style,r=t.dragHandleClassName,s=t.position,n=t.onMouseDown,a=t.onMouseUp,p=t.dragAxis,l=t.dragGrid,h=t.bounds,d=t.enableUserSelectHack,f=t.cancel,c=t.children,g=(t.onResizeStart,t.onResize,t.onResizeStop,t.onDragStart,t.onDrag,t.onDragStop,t.resizeHandleStyles),u=t.resizeHandleClasses,b=t.resizeHandleComponent,y=t.enableResizing,m=t.resizeGrid,x=t.resizeHandleWrapperClass,z=t.resizeHandleWrapperStyle,S=t.scale,w=t.allowAnyClick,t=function(t,e){var i={};for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(i[r[o]]=t[r[o]]);return i}(t,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick"]),P=this.props.default?W({},this.props.default):void 0;delete t.default;var R,v=i||r?{cursor:"auto"}:{cursor:"move"},v=W(W(W({},A),v),o),o=this.offsetFromParent,D=o.left,o=o.top;s&&(R={x:s.x-D,y:s.y-o});D=this.state.resizing?void 0:R,s=this.state.resizing?"both":p;return Object(C.createElement)(H.a,{ref:function(t){t&&(e.draggable=t)},handle:r?".".concat(r):void 0,defaultPosition:P,onMouseDown:n,onMouseUp:a,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:s,disabled:i,grid:l,bounds:h?this.state.bounds:void 0,position:D,enableUserSelectHack:d,cancel:f,scale:S,allowAnyClick:w,nodeRef:this.resizableElement},Object(C.createElement)(O.a,W({},t,{ref:function(t){t&&(e.resizable=t,e.resizableElement.current=t.resizable)},defaultSize:P,size:this.props.size,enable:"boolean"==typeof y?{bottom:y,bottomLeft:y,bottomRight:y,left:y,right:y,top:y,topLeft:y,topRight:y}:y,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:v,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:(this.state.resizing?this.state:this.props).maxWidth,maxHeight:(this.state.resizing?this.state:this.props).maxHeight,grid:m,handleWrapperClass:x,handleWrapperStyle:z,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:g,handleClasses:u,handleComponent:b,scale:this.props.scale}),c))},a.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},a),s=i(230),M=i(25);function a(t){var e=o.call(this,t)||this;return e.resizingPosition={x:0,y:0},e.offsetFromParent={left:0,top:0},e.resizableElement={current:null},e.originalPosition={x:0,y:0},e.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:t.maxWidth,maxHeight:t.maxHeight},e.onResizeStart=e.onResizeStart.bind(e),e.onResize=e.onResize.bind(e),e.onResizeStop=e.onResizeStop.bind(e),e.onDragStart=e.onDragStart.bind(e),e.onDrag=e.onDrag.bind(e),e.onDragStop=e.onDragStop.bind(e),e.getMaxSizesFromProps=e.getMaxSizesFromProps.bind(e),e}function p(){this.constructor=r}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(e,t){var i,o=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,i)),o}function F(o){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){var e,i;e=o,t=r[i=t],(i=function(){var t=function(t){if("object"!=l(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0===e)return String(t);e=e.call(t,"string");if("object"!=l(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}(i);return"symbol"==l(t)?t:t+""}())in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(r,t))})}return o}function N(t,e){var i;if(t)return"string"==typeof t?d(t,e):"Map"===(i="Object"===(i={}.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?d(t,e):void 0}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=Array(e);i<e;i++)o[i]=t[i];return o}function f(t){var e,i=t.id,o=t.style,r=t.className,s=t.children,n=t.defaultState,a=t.size,p=t.position,l=t.minWidth,h=t.minHeight,d=t.maxWidth,f=t.maxHeight,c=t.resizeGrid,g=t.dragGrid,u=t.lockAspectRatio,b=t.lockAspectRatioExtraWidth,y=t.lockAspectRatioExtraHeight,m=t.direction,x=t.disableDragging,z=t.dragAxis,S=t.bounds,w=t.selected,P=t.selectedStyle,R=t.selectedClassName,v=t.setProps,D=t.loading_state,H=(H=Object(C.useState)(0),e=2,function(t){if(Array.isArray(t))return t}(H)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var o,r,s,n,a=[],p=!0,l=!1;try{if(s=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;p=!1}else for(;!(p=(o=s.call(i)).done)&&(a.push(o.value),a.length!==e);p=!0);}catch(t){l=!0,r=t}finally{try{if(!p&&null!=i.return&&(n=i.return(),Object(n)!==n))return}finally{if(l)throw r}}return a}}(H,e)||N(H,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),O=H[0],W=H[1];Object(C.useEffect)(function(){!a&&n.width&&n.height&&v({size:{width:n.width,height:n.height}}),p||!n.x&&0!==n.x||!n.y&&0!==n.y||v({position:{x:n.x,y:n.y}})},[]);var A,E=Object(M.clone)({top:!1,right:!1,bottom:!1,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1}),j=function(t){var e,i,o,r,s,n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return o=!(i=!0),{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){o=!0,e=t},f:function(){try{i||null==n.return||n.return()}finally{if(o)throw e}}};if(Array.isArray(t)||(n=N(t)))return n&&(t=n),r=0,{s:s=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:s};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(m);try{for(j.s();!(A=j.n()).done;)E[A.value]=!0}catch(t){j.e(t)}finally{j.f()}return React.createElement(k,{id:i,style:F(F({},o),w?P:{}),className:w&&R?r+" "+R:r,default:n,size:a,position:p,minWidth:l,minHeight:h,maxWidth:d,maxHeight:f,resizeGrid:c,dragGrid:g,lockAspectRatio:u,lockAspectRatioExtraWidth:b,lockAspectRatioExtraHeight:y,enableResizing:E,disableDragging:x,dragAxis:z,bounds:S,onDragStop:function(t,e){!p||p.x===e.x&&p.y===e.y||W((new Date).getTime()),v({position:{x:e.x,y:e.y}})},onResizeStop:function(t,e,i,o,r){W((new Date).getTime()),v({size:{width:i.style.width,height:i.style.height},position:{x:r.x,y:r.y}})},onClick:function(){200<=(new Date).getTime()-O&&v({selected:!w})},"data-dash-is-loading":D&&D.is_loading||void 0},s)}(e.default=f).defaultProps=s.b,f.propTypes=s.c}}]);