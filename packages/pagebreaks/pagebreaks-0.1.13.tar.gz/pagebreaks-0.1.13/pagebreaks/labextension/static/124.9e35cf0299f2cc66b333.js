"use strict";(self.webpackChunkpagebreaks=self.webpackChunkpagebreaks||[]).push([[124],{124:(e,t,o)=>{o.r(t),o.d(t,{default:()=>se});var n=o(607),a=o(631),s=o(31),i=o(765),r=o(79),l=o.n(r),d=o(72),c=o.n(d),g=o(825),u=o.n(g),p=o(659),m=o.n(p),h=o(56),b=o.n(h),v=o(540),f=o.n(v),k=o(113),C=o.n(k),x=o(646),w={};w.styleTagTransform=C(),w.setAttributes=b(),w.insert=m().bind(null,"head"),w.domAPI=u(),w.insertStyleElement=f(),c()(x.A,w),x.A&&x.A.locals&&x.A.locals;var S=o(465),y=o(355),_=o(345),N=o.n(_);class M extends y.ReactWidget{constructor(){super(),this.addClass("jp-pb-pluginstatus-header"),this.id="pagebreaks-plugin-status-header"}render(){return N().createElement(N().Fragment,null,N().createElement("span",{className:"jp-pb-pluginstatus-maintext"},"Pagebreaks IPython Plugin Inactive!"),N().createElement("br",null),N().createElement("span",{className:"jp-pb-pluginstatus-bottomtext"},"Run '%load_ext pagebreaksip' to load"))}}class L{languageMode;activeSetting;loggingSetting;languagePromiseWaiting;statusFuture;status;headerWidget;updatePluginThrottle;constructor(){this.languageMode="",this.activeSetting=!1,this.loggingSetting=!1,this.languagePromiseWaiting=!1,this.statusFuture=null,this.status="unset",this.headerWidget=null,this.updatePluginThrottle=l().throttle(this.checkIPPlugin,1e3)}setLanguageMode(e){this.languageMode=e}setActiveSetting(e){this.activeSetting=e}setLoggingSetting(e){this.loggingSetting=e}findLanguageSetting(e){if("connected"===e?.currentWidget?.sessionContext.session?.kernel?.connectionStatus&&!this.languagePromiseWaiting){const t=e?.currentWidget?.sessionContext?.session?.kernel?.requestKernelInfo();t.then((e=>{const t=e?.content;console.log("setting language mode",t.language_info.name),this.setLanguageMode(t.language_info.name)})).finally((()=>{this.languagePromiseWaiting=!1})),this.languagePromiseWaiting=!0}}checkisActive(e){return""===this.languageMode&&this.findLanguageSetting(e),!(!this.activeSetting||"python"!==this.languageMode)}isActive(){return!(!this.activeSetting||"python"!==this.languageMode)}checkIsLogging(){return this.loggingSetting}checkIPPlugin(e){if("python"!==this.languageMode)return void this.setPluginStatus("unset",e);const t={code:'print("extensions: ", get_ipython().extension_manager.loaded)\nprint(get_ipython().ast_transformers)',silent:!0,store_history:!1},o=e?.sessionContext?.session?.kernel;if(o){if(null===this.statusFuture||this.statusFuture.isDisposed){const n=o.requestExecute(t);n.onIOPub=t=>{if("status"!==t.header.msg_type&&"stream"!==t.header.msg_type&&console.log("checkIPPlugin",t.header.msg_type,t.content),S.KernelMessage.isStreamMsg(t)){const o=t;o.content.text.search("'pagebreaksip'")>0&&o.content.text.search("PagebreaksASTTransformer")>0?this.setPluginStatus("active",e):o.content.text.search("extensions")>=0?this.setPluginStatus("inactive",e):console.log("found weird message!",t)}},this.statusFuture=n}}else console.log("Session has no kernel.")}setPluginStatus(e,t){this.status!==e&&console.log("changing status to : ",e),this.status=e,this.updatePluginStatusHeader(t)}getPluginStatus(){return this.status}updatePluginStatusHeader(e){e instanceof s.NotebookPanel&&(null===this.headerWidget&&(this.headerWidget=new M),"active"===this.status?this.headerWidget.setHidden(!0):this.headerWidget.setHidden(!1),e.contentHeader.contains(this.headerWidget)||e.contentHeader.addWidget(this.headerWidget))}updatePlugin(e){this.updatePluginThrottle(e)}}const j=l().throttle((function(e,t,o){const n=e.currentWidget;if(null===n)return;if(void 0===n.model||null===n.model)return;const a={metadata:n.model.sharedModel.metadata,nbformat_minor:n.model.sharedModel.nbformat_minor,nbformat:n.model.sharedModel.nbformat,notebookName:n.title.label,cells:n.model.sharedModel.cells.map((e=>{const t=e.toJSON();if("code"===e.cell_type){const o=e.getOutputs().flatMap((e=>e.data?Object.keys(e.data):[]));t.output_types=o}return t}))};if(a.cells.forEach(((e,t)=>{!e.attachments||(e.attachments={}),!e.outputs||(e.outputs={}),e.index=t,!e.execution_count||(e.execution_count=null)})),o.checkisActive(e)){const e=E(n);a.cells.forEach(((t,o)=>{const n=!0===t.metadata.pagebreakheader,a=!0===t.metadata.pagebreak;!t.metadata||(t.metadata={}),!n||(t.metadata.pagebreakheader=!0),!a||(t.metadata.pagebreak=!0);const s=t.id?.toString();if(s&&e.cellsToScopes){const o=e.cellsToScopes[s];void 0!==o&&(t.pagebreak=o)}}))}console.log("Sending JSON Log"),P(e,"RELOAD_NOTEBOOK:"+JSON.stringify(a),o)}),200);function E(e){const t=e.content.widgets;e.content.model?.sharedModel.cells.at(0);const o=[];t.forEach(((e,t)=>{if("raw"===e.model.type&&!0===e.model.getMetadata("pagebreak")){let n=function(e){const t=new RegExp(/export {(.*)}/).exec(e),o=new RegExp(/\s*(\S*)/,"g");if(t){const e=[...(t.at(1)??"").matchAll(o)].map((e=>e.at(1)??"")).filter((e=>""!==e));return e.some((e=>e.search(",")>=0))?null:e}return null}(e.model.sharedModel.getSource());null===n?(n=[],e.node.title='Export Statement Poorly Formed, should look like:\n "export { var1 var2 var3 }"',e.editorWidget?.addClass("jp-pb-poorly-formed-export")):(e.node.title="",e.editorWidget?.removeClass("jp-pb-poorly-formed-export"));const a={index:t,id:e.model.id,type:"pagebreak",variables:n??[]};o.push(a)}else if("markdown"===e.model.type&&!0===e.model.getMetadata("pagebreakheader")){const n={index:t,id:e.model.id,type:"header",variables:[]};o.push(n)}else{const n={index:t,id:e.model.id,type:e.model.type,variables:[]};o.push(n)}})),o.sort(((e,t)=>e.index-t.index));const n=o.filter((e=>"pagebreak"===e.type)).map(((e,t)=>({index:e.index,pbNum:t,exportedVariables:e.variables,id:e.id})));return 0===n.length&&n.push({index:o.length,pbNum:0,exportedVariables:["pagebreaks_simulated"],id:""}),{cellsToScopes:o.filter((e=>"pagebreak"!==e.type)).map((e=>{const t=n.filter((t=>t.index>e.index))?.sort(((e,t)=>e.index-t.index))?.at(0);if(t)return{[e.id]:t.pbNum};{const t=n.sort(((e,t)=>e.index-t.index)).at(-1);if(t)return{[e.id]:t.pbNum+1};if(0===n.length)return{[e.id]:0};console.error("Can't find matching scope for cell",e)}})).reduce(((e,t)=>({...e,...t})),{}),scopeList:n.map((e=>({[e.pbNum]:e.exportedVariables}))).reduce(((e,t)=>({...e,...t}))),scopes:n,cellList:o}}function P(e,t,o){if(!o.checkIsLogging())return void console.log("Not sending log because its diabled");const n=e instanceof s.NotebookTracker?e.currentWidget:e,a=n?.title.label,i={code:"%%pb_log \nNAME["+a+"]"+t,silent:!0,store_history:!1},r=n?.sessionContext?.session?.kernel;r?r.requestExecute(i).onIOPub=e=>{"status"!==e.header.msg_type&&console.log("sendLog",e.content)}:console.error("Session has no kernel.")}function A(e,t,o){j(e,t,o)}const D="jp-pb-pagebreakCell",I="jp-pb-header",W="jp-mod-dropTarget-bottom",T="jp-pb-badFormatting";function O(e,t,o){o?e.addClass(t):e.removeClass(t)}function R(e,t){switch(e?.model.type){case"markdown":case"code":return t?.cellsToScopes?.[e.model.id]??-1;case"raw":return t?.scopes.find((t=>t.id===e.model.id))?.pbNum??-1}return-1}function H(e,t,o){const n=t?.widgets.findIndex((t=>R(t,o)===e&&t.model.getMetadata("pagebreakheader")))??-1,a=t?.widgets.findIndex((t=>R(t,o)===e&&t.model.getMetadata("pagebreak")))??-1;return[t?.widgets.at(n),t?.widgets.at(a),n,a]}var V=o(530),F=o(53),B=o(262),J=o(736),Z=o(873);const q="jp-mod-dropTarget",K="jp-mod-dropSource",U="application/vnd.jupyter.cells",X="jp-dragImage",Y="jp-dragImage-singlePrompt",z="jp-dragImage-content",$="jp-dragImage-prompt",G="jp-dragImage-multipleBack";class Q{_drag=null;_dragData=null;_mouseMode=null;_notebook;_notebookPanel;_manager;_activeManager;constructor(e,t,o){this._manager=t,this._activeManager=o,this._notebook=e.content,this._notebookPanel=e,this._activeManager.isActive()&&this.addListeners(),this.addStudyListeners()}get currentNotebook(){return this._notebook}update(e){this._notebook=e.content,this._notebookPanel=e,this._activeManager.isActive()&&this.addListeners(),this.addStudyListeners()}addStudyListeners(){this._notebookPanel.node.querySelector('[data-lm-dragscroll="true"]')?.addEventListener("scrollend",this,{passive:!0})}removeStudyListeners(){void 0===this._notebook.outerNode?console.log("Pagebreaks: Can't Attach ScrollEnd"):this._notebook.outerNode?.removeEventListener("scrollend",this)}addListeners(){this.removeNotebookListeners();const e=this._notebook.node;e.addEventListener("mousedown",this),e.addEventListener("mousedown",this,!0),e.addEventListener("lm-dragover",this,!0),e.addEventListener("lm-drop",this,!0),e.addEventListener("lm-dragleave",this,!0)}removeNotebookListeners(){const e=this._notebook;e.node.removeEventListener("lm-dragover",this._notebook,!0),e.node.removeEventListener("lm-dragover",this._notebook),e.node.removeEventListener("lm-drop",this._notebook,!0),e.node.removeEventListener("lm-drop",this._notebook),e.node.removeEventListener("mousemove",this._notebook,!0),e.node.removeEventListener("mousedown",this._notebook,!0),e.node.removeEventListener("mousedown",this._notebook)}removeListeners(){const e=this._notebook.node;window.removeEventListener("scrollend",this),e.removeEventListener("mousedown",this),e.removeEventListener("mousedown",this,!0),e.removeEventListener("lm-dragover",this,!0),e.removeEventListener("lm-drop",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0)}switchNotebooks(e){this.removeListeners(),this.removeStudyListeners(),this._notebook=e.content,this._notebookPanel=e,this._activeManager.isActive()&&this.addListeners(),this.addStudyListeners()}handleEvent(e){if(this._notebook.model)switch(e.type){case"scroll":console.log("SCROLLTOP");break;case"scrollend":this.handleScrollEnd(e);break;case"mousedown":e.eventPhase===Event.CAPTURING_PHASE?this.handleMouseDownCapture(e):e.defaultPrevented||this.handleMouseDown(e);break;case"mouseup":e.currentTarget===document&&this._evtDocumentMouseup(e);break;case"mousemove":e.currentTarget===document&&this._evtDocumentMousemove(e);break;case"lm-dragover":this.handleDragOver(e);break;case"lm-drop":this.handleDrop(e);break;case"lm-dragleave":this.handleDragLeave(e)}else console.log("no model")}handleScrollEnd(e){console.log("SCROLLEND",e);const t=this._notebook.widgets.map(((e,t)=>{const o=e.node.getBoundingClientRect();return[t,o.top>=0&&o.left>=0&&o.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&o.right<=(window.innerWidth||document.documentElement.clientWidth)]})).filter((e=>e[1])).sort(((e,t)=>e[0]-t[0])),o=t.at(0)?.at(0),n=t.at(-1)?.at(0);console.log(o,n),P(this._notebookPanel,"SCROLLEND ["+o+","+n+"]",this._activeManager)}handleDragLeave(e){if(!e.mimeData.hasData(U))return;const t=this._notebook.node.getElementsByClassName(q);t.length&&t[0].classList.remove(q);const o=this._notebook.node.getElementsByClassName(W);o.length&&o[0].classList.remove(W)}handleMouseDownCapture(e){const{button:t,shiftKey:o}=e,[n,a]=this.findEventTargetAndCell(e,this._notebook),s=this._notebook.widgets[a];2===t&&!o&&s&&s.editorWidget?.node.contains(n)&&(this._notebook.mode="command",e.preventDefault())}handleMouseDown(e){const t=this._notebook,{button:o,shiftKey:n}=e;if(0!==o&&2!==o)return;if(n&&2===o)return;const[a,s]=this.findEventTargetAndCell(e,t),i=t.widgets[s];let r;if(r=i?i.editorWidget?.node.contains(a)?"input":i.promptNode?.contains(a)?"prompt":"cell":"notebook","input"!==r&&(t.mode="command"),"notebook"===r);else if("prompt"===r||"cell"===r){const l=""!==(window.getSelection()??"").toString();if(0!==o||!n||l||["INPUT","OPTION"].includes(a.tagName))0!==o||n?2===o&&(t.isSelectedOrActive(i)||(t.deselectAll(),t.activeCellIndex=s),e.preventDefault()):("prompt"===r&&(this._dragData={pressX:e.clientX,pressY:e.clientY,index:s},this._mouseMode="couldDrag",document.addEventListener("mouseup",this,!0),document.addEventListener("mousemove",this,!0),e.preventDefault()),t.isSelectedOrActive(i)||(t.deselectAll(),t.activeCellIndex=s));else{e.preventDefault();try{t.extendContiguousSelectionTo(s)}catch(e){return console.error(e),void t.deselectAll()}this._mouseMode="select",document.addEventListener("mouseup",this,!0),document.addEventListener("mousemove",this,!0)}}else"input"===r&&(2!==o||t.isSelectedOrActive(i)||(t.deselectAll(),t.activeCellIndex=s));t.activate()}_evtDocumentMouseup(e){document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),this._mouseMode=null}_evtDocumentMousemove(e){switch(e.preventDefault(),e.stopPropagation(),this._mouseMode){case"select":{const t=e.target,o=this.findCell(t,this._notebook);-1!==o&&this._notebook.extendContiguousSelectionTo(o);break}case"couldDrag":{const t=this._dragData,o=Math.abs(e.clientX-t.pressX),n=Math.abs(e.clientY-t.pressY);if(o>=5||n>=5){this._mouseMode=null;const o=e.target,n=this.findCell(o,this._notebook);if(-1===n)return void console.error("Couldn't find Cell");const a=this._notebook.widgets.at(n),s=!0===a?.model?.getMetadata("pagebreakheader"),i=!0===a?.model?.getMetadata("pagebreak");if(s||i){let e=-1,t=-1;const o=this._manager?.previousSchema;if(s){e=n;const s=o?.cellsToScopes?.[a.model.id],i=o?.scopes.find((e=>e.pbNum===s))?.index;if(i){if(t=i,"markdown"!==a.model.type)return;{const e=a;if(e.headingCollapsed){const o=e.numberChildNodes+n;if(t!==o)return void console.error("collapsed heading malformed",n,t,o)}}}}else if(i){t=n;const a=this._notebook.widgets[n],s=o?.scopes.find((e=>e.id===a.model.id))?.pbNum??void 0,i=this._notebook?.widgets?.find((e=>e.model.getMetadata("pagebreakheader")&&this._manager?.previousSchema?.cellsToScopes?.[e.model.id]===s))??void 0,r=this._notebook?.widgets?.findIndex((e=>e.model.id===i?.model.id))??void 0;r&&(e=r)}if(-1!==e&&-1!==t){if(this._notebook.widgets.filter(((o,n)=>o.model.getMetadata("pagebreakheader")&&n<t&&n>e)).length>0)return void console.error("Bad Selection");const o=this._notebook.widgets[e];o instanceof V.MarkdownCell&&o.headingCollapsed?console.log("collapsed"):(this._notebook.deselectAll(),this._notebook.activeCellIndex=t,this._notebook.extendContiguousSelectionTo(e))}}this.startDrag(t.index,e.clientX,e.clientY)}break}}}handleDragOver(e){const t=this._notebook;if(console.log("dragover"),!e.mimeData.hasData(U))return;e.preventDefault(),e.stopPropagation(),e.dropAction=e.proposedAction;const o=t.node.getElementsByClassName(q);if(o.length){const e=o[0];e.classList.remove(q),e.classList.remove(W)}const n=t.node.getElementsByClassName(W);n.length&&n[0].classList.remove(W);const a=e.target;let i=this.findCell(a,t),r=!1;-1===i?(i=t.widgets.length-1,r=!0):t.widgets[t.widgets.length-1].node.classList.remove(W);const l=t.widgets[i],d=e.mimeData.getData("internal:cells"),c=d[d.length-1];if(c instanceof V.MarkdownCell&&c.headingCollapsed){const e=s.NotebookActions.findNextParentHeading(c,this._notebook);if(e>0){const t=(0,F.findIndex)(this._notebook.widgets,(e=>c.model.id===e.model.id));d.push(...this._notebook.widgets.slice(t+1,e))}}console.log("toMove:",d),this.isValidDrop(l,d,r,t)&&(r?l.node.classList.add(W):l.node.classList.add(q))}isValidDrop(e,t,o,n){const a=t.findIndex((e=>e.hasClass(I))),s=t.findIndex((e=>e.hasClass(D))),i=t.length;console.log("header, footer","selectionlength",a,s,i);const r=-1!==a,l=-1!==s;return console.log(r,l),!((r||l)&&r!==l||(0===a&&s===i-1?!(e.hasClass(I)||o&&e.hasClass(D))||(console.log("valid drop",a,s),0):(r||l)&&(console.log("Found INVALID Drag State!","header = ",a,"footer = ",s,i),1)))}handleDrop(e){const t=this._notebook;if(console.log("handle Drop"),!e.mimeData.hasData(U))return;if(e.preventDefault(),e.stopPropagation(),"none"===e.proposedAction)return void(e.dropAction="none");let o=e.target;for(;o&&o.parentElement;){if(o.classList.contains(q)){o.classList.remove(q);break}o=o.parentElement}t.widgets.forEach((e=>e.node.classList.remove(W)));const n=t.model,a=e.source;if(a===t){e.dropAction="move";const n=e.mimeData.getData("internal:cells"),i=n[n.length-1];if(i instanceof V.MarkdownCell&&i.headingCollapsed){const e=s.NotebookActions.findNextParentHeading(i,a);if(e>0){const t=(0,F.findIndex)(a.widgets,(e=>i.model.id===e.model.id));n.push(...a.widgets.slice(t+1,e))}}const r=F.ArrayExt.firstIndexOf(t.widgets,n[0]);let l=this.findCell(o,t);if(-1!==l&&l>r?l-=1:-1===l&&(l=t.widgets.length-1),l>=r&&l<r+n.length)return;if(console.log("dropping :",n.map((e=>e.model.sharedModel.getSource())).toString(),"to: ",l,"from:",r),!this.isValidDrop(t.widgets[l],n,!1,t))return void console.log("drop invalid");t.moveCell(r,l,n.length)}else{e.dropAction="copy";let a=this.findCell(o,t);-1===a&&(a=t.widgets.length);const s=a,i=e.mimeData.getData(U);n.sharedModel.insertCells(a,i),t.deselectAll(),t.activeCellIndex=s,t.extendContiguousSelectionTo(a-1)}s.NotebookActions.focusActiveCell(t)}findEventTargetAndCell(e,t){let o=e.target,n=this.findCell(o,t);return-1===n&&(o=document.elementFromPoint(e.clientX,e.clientY),n=this.findCell(o,t)),[o,n]}findCell(e,t){let o=e;for(;o&&o!==t.node;){if(o.classList.contains("jp-Notebook-cell")){const e=F.ArrayExt.findFirstIndex(t.widgets,(e=>e.node===o));if(-1!==e)return e;break}o=o.parentElement}return-1}startDrag(e,t,o){const n=this._notebook.model.cells,a=[],s=[];let i=-1;for(const e of this._notebook.widgets){const t=n.get(++i);this._notebook.isSelectedOrActive(e)&&(e.addClass(K),a.push(t.toJSON()),s.push(e))}const r=this._notebook.activeCell;let l,d=null;if("code"===r?.model.type){const e=r.model.executionCount;l=" ",e&&(l=e.toString())}else l="";d=this.createDragImage(a.length,l,r?.model.sharedModel.getSource().split("\n")[0].slice(0,26)??""),this._drag=new J.Drag({mimeData:new B.MimeData,dragImage:d,supportedActions:"copy-move",proposedAction:"copy",source:this._notebook}),this._drag.mimeData.setData(U,a),this._drag.mimeData.setData("internal:cells",s);const c=s.map((e=>e.model.sharedModel.getSource())).join("\n");this._drag.mimeData.setData("text/plain",c),document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),this._mouseMode=null,this._drag.start(t,o).then((e=>{if(!this._notebook.isDisposed){this._drag=null;for(const e of s)e.removeClass(K)}}))}createDragImage(e,t,o){return e>1?""!==t?Z.VirtualDOM.realize(Z.h.div(Z.h.div({className:X},Z.h.span({className:$},"["+t+"]:"),Z.h.span({className:z},o)),Z.h.div({className:G},""))):Z.VirtualDOM.realize(Z.h.div(Z.h.div({className:X},Z.h.span({className:$}),Z.h.span({className:z},o)),Z.h.div({className:G},""))):""!==t?Z.VirtualDOM.realize(Z.h.div(Z.h.div({className:`${X} ${Y}`},Z.h.span({className:$},"["+t+"]:"),Z.h.span({className:z},o)))):Z.VirtualDOM.realize(Z.h.div(Z.h.div({className:`${X} ${Y}`},Z.h.span({className:$}),Z.h.span({className:z},o))))}}var ee=o(602);class te{previousSchema;lastSend;future;previousJSON;eventHandlers;constructor(){this.previousSchema=null,this.future=null,this.lastSend=new Date(0),this.eventHandlers=null}switchNotebooks(e,t,o){ee.Signal.disconnectAll(this),this.addCommandHooks(t,e,o),this.addCellChangeHooks(e,o)}addCommandHooks(e,t,o){const{commands:n}=e;n.commandExecuted.connect(((e,n)=>{switch(n.id){case"docmanager:rename":P(t,"rename document!",o);break;case"docmanager:save":A(t,this,o);break;case"toolbar-button:add-pagebreak":P(t,"add_pagebreak",o);break;case"toolbar-button:run-pagebreak":P(t,"run_pagebreak",o);break;case"toolbar-button:merge-pagebreak":P(t,"merge_pagebreak",o);break;case"notebook:restart-kernel":P(t,"restart_kernel",o)}}),this)}addCellChangeHooks(e,t){const o=e.currentWidget?.content;void 0!==o&&o.stateChanged.connect(((o,n)=>{"mode"===n.name?(console.log("finished editing, sending diff"),A(e,this,t)):"activeCellIndex"===n.name&&(console.log("active cell index changed, sending diff"),A(e,this,t))}),this)}}const oe={id:"pagebreaks:plugin",description:"A JupyterLab extension.",autoStart:!0,requires:[s.INotebookTracker,i.ISettingRegistry,n.ISessionContextDialogs,n.ICommandPalette,a.IDocumentManager],optional:[],activate:(e,t,o,n,a,i,r)=>{const{commands:l}=e;console.log("JupyterLab extension pagebreaks is activated!"),l.commandExecuted.connect(((o,n)=>{const a=t.currentWidget;a?.content.isVisible&&a.isRevealed,ne(e,t,d,c)}),void 0);const d=new te,c=new L;o&&(o.load(oe.id).then((e=>{console.log("pagebreaks settings loaded:",e.composite),c.setLoggingSetting("true"===e.get("enableLogging").composite?.toString().toLowerCase()??!1),c.setActiveSetting("true"===e.get("enablePlugin").composite?.toString().toLowerCase()??!1)})).catch((e=>{console.error("Failed to load settings for pagebreaks.",e)})),o.pluginChanged.connect((e=>{o.load(oe.id).then((e=>{c.setLoggingSetting("true"===e.get("enableLogging").composite?.toString().toLowerCase()??!1),c.setActiveSetting("true"===e.get("enablePlugin").composite?.toString().toLowerCase()??!1)})).catch((e=>{console.error("Failed to load settings for pagebreaks.",e)}))}),void 0)),t.currentChanged.connect((()=>{t.currentWidget?.sessionContext.kernelChanged.connect((()=>{c&&c.findLanguageSetting(t)})),c&&c.findLanguageSetting(t)})),function(e,t,o,n,a,i,r){const{commands:l}=e,d=new y.LabIcon({name:"ui-components:run-pagebreak",svgstr:'<?xml version="1.0" encoding="UTF-8"?>\n<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22">\n<g class="jp-icon3" fill="#616161">\n  <path d="m3.01,2.17v14l11-7L3.01,2.17Z"/>\n  <path d="m14.57,14.57l-1.38-1.46,1.38-1.46-.42-.44-1.8,1.9,1.8,1.9.42-.44Zm1.56,0l1.38-1.46-1.38-1.46.42-.44,1.8,1.9-1.8,1.9-.42-.44h0Z"/>\n  <rect x="11" y="15.28" width="8.69" height=".85"/>\n  <path d="m14.57,19.64l-1.38-1.46,1.38-1.46-.42-.44-1.8,1.9,1.8,1.9.42-.44Zm1.56,0l1.38-1.46-1.38-1.46.42-.44,1.8,1.9-1.8,1.9-.42-.44h0Z"/>\n</g>\n</svg>'}),c=new y.LabIcon({name:"ui-components:add-pagebreak",svgstr:'<svg width="22" height="22" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">\n\t<g class="jp-icon3" fill="#616161">\n     <path d="m9.28,7l-3.04-3.04,3.04-3.04-.92-.92-3.96,3.96,3.96,3.96.92-.92Zm3.43,0l3.04-3.04-3.04-3.04.92-.92,3.96,3.96-3.96,3.96-.92-.92h0Z"/>\n    <path d="m9.28,19.58l-3.04-3.04,3.04-3.04-.92-.92-3.96,3.96,3.96,3.96.92-.92Zm3.43,0l3.04-3.04-3.04-3.04.92-.92,3.96,3.96-3.96,3.96-.92-.92h0Z"/>\n    <rect y="9.63" width="22" height="2"/>\n\t</g>\n</svg>\n'}),g=new y.LabIcon({name:"ui-components:merge-pagebreak",svgstr:'<?xml version="1.0" encoding="UTF-8"?>\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.06 19.53">\n    <g class="jp-icon3" fill="#616161">\n    <path d="m7.06,18.25l-4.39-4.17,4.38-4.18-1.34-1.27L0,14.09l5.72,5.44,1.33-1.27Zm4.96,0l4.38-4.18-4.39-4.17,1.33-1.27,5.72,5.44-5.71,5.45-1.34-1.27h0Z"/>\n    <path d="m4.06,4.82c-.29.29-.29.77,0,1.06h0c.29.29.77.29,1.06,0l3.66-3.42v9.25c0,.41.32.75.73.75h.02c.41,0,.75-.34.75-.75V2.46l3.65,3.43c.29.29.77.29,1.07,0h0c.29-.29.29-.77,0-1.06L10.24.29c-.39-.39-1.02-.39-1.41,0l-4.76,4.53Z"/>\n  </g>\n</svg>'});l.addCommand("docmanager:convert-pagebreak",{label:()=>"Convert Pagebreak To Regular Notebook",caption:"Convert Pagebreak To Regular Notebook",execute:()=>{if(null===t.currentWidget)return;const e=t.currentWidget;if(null===e)return;const o=E(e),n=e.content,a=o.cellList.filter((e=>"pagebreak"===e.type||"code"===e.type)).map((e=>"pagebreak"===e.type?{index:e.index,id:e.id,type:e.type,variables:[e.variables],pbNum:o.scopes.find((t=>e.id===t.id))?.pbNum}:"code"===e.type?{index:e.index,id:e.id,type:e.type,variables:[],source:n._findCellById(e.id)?.cell.model.sharedModel.getSource()}:void 0));console.log("transform list",a);const i=function(e,t){const o=e instanceof s.NotebookTracker?e.currentWidget:e,n={code:t,silent:!0,store_history:!1},a=o?.sessionContext?.session?.kernel;return a?a.requestExecute(n):void console.error("Session has no kernel.")}(t,"%%pb_transform \n"+JSON.stringify(a));void 0!==i&&(i.onIOPub=async e=>{if("stream"===e.header.msg_type){console.log("Send Transform",e);const o=e;if("stdout"===o.content.name){const e=JSON.parse(o.content.text);if(console.log(e),null===t.currentWidget)return;const a=(await l.execute("docmanager:duplicate",{path:t.currentWidget.context.path})).path;console.log(a);const i=await l.execute("docmanager:open",{path:a});if(!(i?.content instanceof s.Notebook))return;const d=i.content.parent;d instanceof s.NotebookPanel&&(console.log("saving"),d.context.save()),console.log(t.currentWidget?.title);const c=i.content;if(void 0===c)return;const g=n.widgets.map((e=>e.model.toJSON()));if(void 0===g)return;const u=g.map((t=>{const o=e.find((e=>e.id===t?.id));return void 0!==o&&"code"===t?.cell_type&&void 0!==o.newText?(console.log(t.source.toString().split("\n")),t.source=t.source.toString().split("\n").map((e=>"# ".concat(e).concat("\n"))).reduce(((e,t)=>e.concat(t))).concat("\n",o.newText),console.log("setting source",t.source),t):void 0!==o&&"raw"===t?.cell_type&&void 0!==o.newText?(t.metadata.deleteable=!0,t.metadata.pagebreak=!1,t.cell_type="code",t.source=o.newText,t):t.metadata.pagebreakheader?(t.metadata.pagebreakheader=!1,t.metadata.deleteable=!0,t):t}));console.log("NEW CELLS",u),await l.execute("docmanager:reload",{path:a});const p=r.contextForWidget(c);await(p?.save()),c.model?.sharedModel.insertCells(0,u),c.model?.sharedModel.deleteCellRange(u.length,c.model?.sharedModel.cells.length),c.update(),s.NotebookActions.focusActiveCell(c)}}})}}),l.addCommand("toolbar-button:merge-pagebreak",{icon:g,caption:"Merge with Pagebreak Above",execute:()=>{const e=t.currentWidget,o=e?.content;if(!o?.model)return;const a=R(t.activeCell,n.previousSchema);if(a<=0)return;const[s,i,r,l]=H(a,t?.currentWidget?.content,n?.previousSchema),[,,,d]=H(a-1,t?.currentWidget?.content,n?.previousSchema),c=l-r-1;o.model.sharedModel.transact((()=>{o.moveCell(r+1,d,c);for(const e of[s,i]){!e||o.model?.deletedCells.push(e.model.id);const t=d+c+1;o.model?.sharedModel.deleteCell(t)}o.deselectAll()}))},isVisible:()=>!!(i.checkisActive(t)&&(t.activeCell?.model.getMetadata("pagebreak")||t.activeCell?.model.getMetadata("pagebreakheader"))&&R(t.activeCell,n.previousSchema)>0)}),l.addCommand("toolbar-button:run-pagebreak",{icon:d,caption:"Run Entire Pagebreak",execute:()=>{console.log("run pagebreak");const e=t.currentWidget,o=e?.content;if(!o?.model)return;const i=R(o.activeCell,n.previousSchema),r=o.widgets.filter((e=>R(e,n.previousSchema)===i));console.log(r),s.NotebookActions.runCells(o,r,e?.sessionContext,a)},isVisible:()=>{const e=R(t.activeCell,n.previousSchema),[,,o,a]=H(e,t?.currentWidget?.content,n?.previousSchema),s=t.currentWidget?.content.activeCellIndex??-1;return!!(i.checkisActive(t)&&o<=s&&a>=s)}}),l.addCommand("toolbar-button:add-pagebreak",{icon:c,caption:"Make a new Pagebreak",execute:()=>{const n=e.shell.currentWidget.content;if(!n.model)return;const a=n.model,s=!0===t.activeCell?.model.getMetadata("pagebreak")?n.activeCellIndex+1:0;a.sharedModel.insertCell(s,{cell_type:"markdown",metadata:{trusted:!0,pagebreakheader:!0}}),n.activeCellIndex=s,n.activeCell?.model.sharedModel.setSource("# New Pagebreak "),l.execute("notebook:run-cell",{origin:"init"}).catch((e=>{console.error(`An error occurred during the execution of Running pagebreaks Command.\n${e}`)}));const i=n.activeCellIndex+1;a.sharedModel.insertCell(i,{cell_type:"code",metadata:{trusted:!0}}),n.activeCellIndex=i;const r=n.activeCellIndex+1;a.sharedModel.insertCell(r,{cell_type:"raw",metadata:{trusted:!0,pagebreak:!0}}),n.activeCellIndex=r,n.activeCell?.model.sharedModel.setSource("export {  }"),!n.activeCell||n.select(n.activeCell),n.update(),n.activeCell?.update(),o()},isVisible:()=>{const o=i.checkisActive(t),n=t.activeCell?.model.getMetadata("pagebreak")??!1,a=void 0===e.shell.currentWidget?.content?.widgets?.find((e=>e?.model?.getMetadata("pagebreak")));return!(!o||!n&&!a)}})}(e,t,(()=>{ne(e,t,d,c)}),d,n,c,i),setInterval((async()=>{const o=t.currentWidget;if(o?.content.isVisible&&o.isRevealed){ne(e,t,d,c);const{commands:o}=e;o.notifyCommandChanged("toolbar-button:add-pagebreak")}}),1e3);const g=setInterval((async()=>{console.log("Waiting To Reveal...");for(const o of e.shell.widgets())o.isVisible&&o instanceof s.NotebookPanel&&(ne(e,t,d,c,!0),o.activate(),o.content.activate(),o.node.click(),o.content.node.click(),o.content.widgets.at(0)?.node.click());console.log("Waiting To Reveal...");const o=t.currentWidget;if(o?.content.isVisible&&o.isRevealed){console.log("Visible and Revealed"),ne(e,t,d,c,!0),o?.sessionContext.connectionStatusChanged.connect(((o,n)=>{console.log("Notebook Connection status:",n),"connected"===n&&ne(e,t,d,c,!0)}));const n=o?.sessionContext?.session?.kernel;n?.connectionStatusChanged.connect((n=>{c.setPluginStatus("unset",o),ne(e,t,d,c,!0)})),o?.sessionContext?.connectionStatusChanged.connect((()=>{c.setPluginStatus("unset",o),ne(e,t,d,c)})),d.addCommandHooks(e,t,c),d.addCellChangeHooks(t,c),clearInterval(g)}}),100);t.currentChanged.connect((()=>{if(t.currentWidget?.isAttached&&t.currentWidget instanceof s.NotebookPanel&&t.currentWidget.content.isVisible&&t.currentWidget.isRevealed){ne(e,t,d,c);const o=t.currentWidget;d.eventHandlers?.switchNotebooks(o),d.switchNotebooks(t,e,c)}})),t.widgetUpdated.connect((()=>{if(t.currentWidget?.revealed.then((()=>{ne(e,t,d,c),console.log("SWITCH NOTEBOOKS");const o=t.currentWidget;null!==o&&(d.eventHandlers?.switchNotebooks(o),d.switchNotebooks(t,e,c))})),t.currentWidget?.isAttached&&t.currentWidget instanceof s.NotebookPanel){ne(e,t,d,c),console.log("SWITCH NOTEBOOKS");const o=t.currentWidget;d.eventHandlers?.switchNotebooks(o),d.switchNotebooks(t,e,c)}})),e.shell.activeChanged.connect((()=>{if(e.shell.currentWidget instanceof s.NotebookPanel){const o=e.shell.currentWidget;o&&o.isRevealed&&ne(e,t,d,c)}})),s.NotebookActions.executionScheduled.connect((()=>{ae(0,t,d,c,!0)}))}},ne=l().throttle(ae,200);function ae(e,t,o,n,a=!1){const s=t.currentWidget;if(null==s)return void console.log("ERROR: notebook was undefined or null!!!");o.eventHandlers||s.content.isAttached&&(o.eventHandlers=new Q(s,o,n)),n.updatePlugin(s),n.updatePluginStatusHeader(s),o.eventHandlers?.update(s);const i=n.checkisActive(t)&&t.currentWidget?.content.isVisible&&t.currentWidget?.isRevealed,r=i?E(s):null;if(i){!function(e){e?.widgets?.forEach(((e,t)=>{(e?.model.getMetadata("pagebreak")||e?.model.getMetadata("pagebreakheader"))&&e?.model.setMetadata("deletable",!1)}))}(s?.content),function(e){e?.widgets?.forEach(((e,t)=>{"raw"===e?.model.sharedModel.cell_type&&"export { }"===e?.model.sharedModel.getSource()?e.model.setMetadata("pagebreak",!0):"markdown"===e?.model.sharedModel.cell_type&&"# New Pagebreak"===e?.model.sharedModel.getSource()&&e?.model.setMetadata("pagebreakheader",!0)}))}(s.content);const e=E(s);!function(e,t){const o=function(e,t){let o=e.length;for(;o--;)if(n=e[o],!0===n?.model.getMetadata("pagebreak"))return o;var n;return-1}(e.widgets);e?.widgets?.forEach(((n,a)=>{const s=!0===n?.model.getMetadata("pagebreakheader")&&"markdown"!==n?.model.sharedModel.cell_type,i=!0===n?.model.getMetadata("pagebreak")&&"raw"!==n?.model.sharedModel.cell_type;if(s||i?n.addClass(T):n.removeClass(T),!s&&!i&&"code"===n?.model.sharedModel.cell_type){const s=R(n,t),[,,i,r]=H(s,e,t);O(n,T,!(a>=i&&a<=r)&&a<o)}}))}(s.content,e),function(e,t){if(t.scopeList[0].find((e=>"pagebreaks_simulated"===e)))return;const o=e?.content?.activeCell?R(e?.content?.activeCell,t):-1;e?.content?.widgets.forEach(((n,a)=>{const s=R(n,t),[,,i,r]=H(s,e.content,t);a>=i&&a<=r?function(e,t,o,n){n?(e.addClass(t),e.removeClass(o)):(e.addClass(o),e.removeClass(t))}(n,"jp-pb-pagebreakEven","jp-pb-pagebreakOdd",s%2==0):(n.removeClass("jp-pb-pagebreakEven"),n.removeClass("jp-pb-pagebreakOdd")),O(n,"jp-pb-pagebreakCodeCell","code"===n.model.type),O(n,"jp-pb-pagebreakCell","raw"===n.model.type&&n.model.getMetadata("pagebreak")),O(n,"jp-pb-header","markdown"===n.model.type&&n.model.getMetadata("pagebreakheader")),O(n,"jp-pb-selectedPagebreak",s===o)}))}(s,e)}else console.log("Pagebreaks is Inactive!");const d=new Date;if(!l().isEqual(o.previousSchema,r)||d.getTime()-o.lastSend.getTime()>100||a){if(!s?.sessionContext||!s?.sessionContext?.session?.kernel)return void console.log("PB: Not sending schema because kernel isn't connected");o.lastSend=d,o.previousSchema=r,function(e,t,o){const n={code:"%%pb_update \n"+t,silent:!0,store_history:!1},a=e?.sessionContext?.session?.kernel;if(!a)throw new Error("Session has no kernel.");if(null===o.future||o.future.isDisposed){console.log("sending Schema");const e=a.requestExecute(n);e.onIOPub=e=>{"status"!==e.header.msg_type&&console.log("sendSchema",e)},o.future=e}}(s,null===r?JSON.stringify({inactive:!0}):JSON.stringify(r),o)}}const se=oe},475:(e,t,o)=>{o.d(t,{A:()=>r});var n=o(601),a=o.n(n),s=o(314),i=o.n(s)()(a());i.push([e.id,"/*\n    See the JupyterLab Developer Guide for useful CSS Patterns:\n\n    https://jupyterlab.readthedocs.io/en/stable/developer/css.html\n*/\n/* stylelint-disable-next-line selector-class-pattern */\n.jp-ToolbarButtonComponent.lm-mod-hidden {\n  display: none;\n}\n\n.jp-Cell.jp-Notebook-cell:not(.jp-pb-selectedPagebreak) {\n  opacity: 0.8;\n}\n\n.jp-Notebook .jp-Cell.jp-CodeCell.jp-Notebook-cell.jp-pb-pagebreakCodeCell {\n  /* position: relative;\n    left: 50px; */\n  margin-left: 50px;\n}\n\n.jp-Notebook.jp-mod-commandMode\n  .jp-Cell.jp-Notebook-cell.jp-mod-active.jp-mod-selected:not(\n    .jp-mod-multiSelected\n  ) {\n  &.jp-pb-pagebreakEven {\n    background: rgb(42 194 255);\n  }\n\n  &.jp-pb-pagebreakOdd {\n    background: rgb(70 194 93);\n  }\n}\n\n.lm-Widget .jp-Notebook .jp-Cell.jp-Notebook-cell {\n  margin-left: 50px;\n\n  &.jp-pb-pagebreakEven {\n    background: rgb(42 194 255 / 70%);\n  }\n\n  &.jp-pb-pagebreakOdd {\n    background: rgb(70 194 93 / 70%);\n  }\n}\n\n/* stylelint-disable-next-line no-descending-specificity */\n.jp-Notebook .jp-Cell.jp-RawCell.jp-Notebook-cell.jp-pb-pagebreakCell {\n  margin-left: 0;\n  position: relative;\n  margin-bottom: 15px;\n\n  &.jp-pb-pagebreakEven {\n    background: rgb(42 194 255);\n  }\n\n  &.jp-pb-pagebreakOdd {\n    background: rgb(70 194 93);\n  }\n}\n\n.jp-Notebook .jp-Cell.jp-MarkdownCell.jp-Notebook-cell.jp-pb-header {\n  margin-top: 0;\n  margin-left: 0;\n\n  &.jp-pb-pagebreakEven {\n    background: rgb(42 194 255);\n  }\n\n  &.jp-pb-pagebreakOdd {\n    background: rgb(70 194 93);\n  }\n}\n\n.lm-Widget.jp-Notebook-footer {\n  margin-top: 0;\n}\n\n.jp-Notebook-cell.jp-mod-dropTarget-bottom,\n.jp-Notebook.jp-mod-commandMode\n  .jp-Notebook-cell.jp-mod-active.jp-mod-selected.jp-mod-dropTarget-bottom {\n  border-bottom-color: var(--jp-private-notebook-selected-color);\n  border-bottom-style: solid;\n  /* stylelint-disable-next-line declaration-block-no-redundant-longhand-properties */\n  border-bottom-width: 2px;\n  margin-bottom: 0;\n}\n\n/* .jp-pb-variableList {\n  :hover {\n    background: var(--jp-layout-color1);\n  }\n} */\n.jp-pb-badFormatting {\n  background: var(--jp-rendermime-error-background) !important;\n}\n\n.jp-pb-pluginstatus-header {\n  background: var(--jp-rendermime-error-background);\n  text-align: center;\n  padding: 5px 0;\n  min-height: 40px;\n}\n\n.jp-pb-pluginstatus-maintext {\n  color: var(--jp-error-color0);\n  font-weight: bold;\n}\n\n.jp-pb-pluginstatus-bottomtext {\n  color: var(--jp-content-font-color2);\n}\n\n.jp-pb-poorly-formed-export {\n  color: var(--jp-error-color0);\n  text-decoration-line: underline;\n  text-decoration-thickness: auto;\n  text-decoration-style: wavy;\n}\n\n.jp-pb-poorly-formed-export ::before {\n  content: '';\n}\n\n.jp-pb-poorly-formed-export-hover ::before {\n  content: 'Export Statement Poorly Formed, should look like:\\A \"export { var1 var2 var3 }\"';\n  visibility: hidden;\n  opacity: 0;\n  width: 40%;\n  background-color: var(--jp-layout-color1);\n  color: var(--jp-content-font-color0);\n  text-align: left;\n  border-radius: 5px;\n  padding: 5px;\n  white-space: pre-line;\n  border-color: var(--md-grey-700);\n\n  /* font-family: var(--jp-code-font-family-default); */\n  transition: opacity 1s ease-in-out;\n  position: absolute;\n  z-index: 1;\n  left: 0;\n  top: 110%;\n}\n\n.jp-pb-poorly-formed-export-hover :hover::before {\n  opacity: 1;\n  visibility: visible;\n}\n",""]);const r=i},646:(e,t,o)=>{o.d(t,{A:()=>d});var n=o(601),a=o.n(n),s=o(314),i=o.n(s),r=o(475),l=i()(a());l.i(r.A),l.push([e.id,"\n",""]);const d=l},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var o="",n=void 0!==t[5];return t[4]&&(o+="@supports (".concat(t[4],") {")),t[2]&&(o+="@media ".concat(t[2]," {")),n&&(o+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),o+=e(t),n&&(o+="}"),t[2]&&(o+="}"),t[4]&&(o+="}"),o})).join("")},t.i=function(e,o,n,a,s){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(n)for(var r=0;r<this.length;r++){var l=this[r][0];null!=l&&(i[l]=!0)}for(var d=0;d<e.length;d++){var c=[].concat(e[d]);n&&i[c[0]]||(void 0!==s&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=s),o&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=o):c[2]=o),a&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=a):c[4]="".concat(a)),t.push(c))}},t}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function o(e){for(var o=-1,n=0;n<t.length;n++)if(t[n].identifier===e){o=n;break}return o}function n(e,n){for(var s={},i=[],r=0;r<e.length;r++){var l=e[r],d=n.base?l[0]+n.base:l[0],c=s[d]||0,g="".concat(d," ").concat(c);s[d]=c+1;var u=o(g),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)t[u].references++,t[u].updater(p);else{var m=a(p,n);n.byIndex=r,t.splice(r,0,{identifier:g,updater:m,references:1})}i.push(g)}return i}function a(e,t){var o=t.domAPI(t);return o.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;o.update(e=t)}else o.remove()}}e.exports=function(e,a){var s=n(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<s.length;i++){var r=o(s[i]);t[r].references--}for(var l=n(e,a),d=0;d<s.length;d++){var c=o(s[d]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}s=l}}},659:e=>{var t={};e.exports=function(e,o){var n=function(e){if(void 0===t[e]){var o=document.querySelector(e);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}t[e]=o}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(o)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,o)=>{e.exports=function(e){var t=o.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(o){!function(e,t,o){var n="";o.supports&&(n+="@supports (".concat(o.supports,") {")),o.media&&(n+="@media ".concat(o.media," {"));var a=void 0!==o.layer;a&&(n+="@layer".concat(o.layer.length>0?" ".concat(o.layer):""," {")),n+=o.css,a&&(n+="}"),o.media&&(n+="}"),o.supports&&(n+="}");var s=o.sourceMap;s&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,o)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}}]);