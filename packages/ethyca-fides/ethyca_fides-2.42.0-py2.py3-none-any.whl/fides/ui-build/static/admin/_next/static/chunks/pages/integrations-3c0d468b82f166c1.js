(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[710],{9387:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/integrations",function(){return e(63944)}])},60136:function(n,t,e){"use strict";e.d(t,{D4:function(){return o.D4},MM:function(){return f},Ot:function(){return c},c6:function(){return r},cj:function(){return x},e$:function(){return l},fn:function(){return s},iC:function(){return g},nU:function(){return d},tB:function(){return u}});var i,r,o=e(41164);let a="An unexpected error occurred. Please try again.",l=function(n){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;if((0,o.Bw)(n)){if((0,o.hE)(n.data))return n.data.detail;if((0,o.cz)(n.data)){var e;let t=null===(e=n.data.detail)||void 0===e?void 0:e[0];return"".concat(null==t?void 0:t.msg,": ").concat(null==t?void 0:t.loc)}if(409===n.status&&(0,o.Dy)(n.data)||404===n.status&&(0,o.XD)(n.data))return"".concat(n.data.detail.error," (").concat(n.data.detail.fides_key,")")}return t};function s(n){return"object"==typeof n&&null!=n&&"status"in n}function c(n){return"object"==typeof n&&null!=n&&"data"in n&&"string"==typeof n.data.detail}function u(n){return"object"==typeof n&&null!=n&&"data"in n&&Array.isArray(n.data.detail)}let d=function(n){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{status:500,message:a};if((0,o.oK)(n))return{status:n.originalStatus,message:n.data};if((0,o.Bw)(n)){let{status:e}=n;return{status:e,message:l(n,t.message)}}return t},f=n=>Object.entries(n).map(n=>({value:n[1],label:n[1]}));(i=r||(r={})).GVL="gvl",i.AC="gacp",i.COMPASS="compass";let g={gvl:{label:"GVL",fullName:"Global Vendor List"},gacp:{label:"AC",fullName:"Google Additional Consent List"},compass:{label:"",fullName:""}},x=n=>{let t=n.split(".")[0];return"gacp"===t?"gacp":"gvl"===t?"gvl":"compass"}},63944:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return L}});var i,r,o,a,l=e(24246),s=e(58727),c=e(27378),u=e(36848),d=e(58665),f=e(43124),g=e(7564),x=e(91382),p=e(26953),m=e(42846),h=n=>{let{integrationType:t,onConfigure:e,onCancel:i}=n;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(m.Z,{integration:null==t?void 0:t.placeholder,onConfigureClick:e}),null==t?void 0:t.overview,(0,l.jsxs)(s.kCb,{children:[(0,l.jsx)(s.LZC,{}),(0,l.jsx)(s.zxk,{variant:"outline",onClick:i,size:"sm",children:"Cancel"})]})]})},v=e(3699);(i=o||(o={})).ALL="All",i.DATABASE="Database",i.DATA_WAREHOUSE="Data Warehouse";var j=n=>{var t;let e=Object.values(o),[i,r]=(0,c.useState)(0),a=e[i],[l,s]=(0,c.useState)(!1),u="All"!==a,d=null!==(t=null==n?void 0:n.filter(n=>!u||n.category===a))&&void 0!==t?t:[];return{tabs:e,tabIndex:i,anyFiltersApplied:u,isFiltering:l,onChangeFilter:n=>{s(!0),r(n),setTimeout(()=>s(!1),100)},filteredTypes:d}},y=n=>{let{onCancel:t,onDetailClick:e,onConfigureClick:i}=n,{tabIndex:r,onChangeFilter:o,isFiltering:a,filteredTypes:c,tabs:f}=j(v.FO);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.mQc,{index:r,onChange:o,mb:4,children:(0,l.jsx)(s.tdY,{children:f.map(n=>(0,l.jsx)(u.q,{label:n},n))})}),a?(0,l.jsx)(d.Z,{}):(0,l.jsx)(s.kCb,{direction:"column",children:c.map(n=>(0,l.jsx)(m.Z,{integration:n.placeholder,onConfigureClick:()=>i(n),otherButtons:(0,l.jsx)(s.zxk,{onClick:()=>e(n),variant:"outline",children:"Details"})},n.placeholder.key))}),(0,l.jsxs)(s.kCb,{children:[(0,l.jsx)(s.LZC,{}),(0,l.jsx)(s.zxk,{variant:"outline",onClick:t,size:"sm",children:"Cancel"})]})]})},C=e(44877);(r=a||(a={})).LIST_VIEW="list-view",r.DETAIL="detail",r.FORM="form";var b=n=>{let{isOpen:t,onClose:e}=n,[i,r]=(0,c.useState)("list-view"),[o,a]=(0,c.useState)(),s=(0,C.Z)(null==o?void 0:o.placeholder.connection_type),u=()=>{r("list-view"),a(void 0),e()},d=o?"".concat(o.placeholder.name," Integration"):"Add integration";return(0,l.jsxs)(x.Z,{isOpen:t,onClose:u,title:d,children:["list-view"===i&&(0,l.jsx)(y,{onCancel:u,onDetailClick:n=>{r("detail"),a(n)},onConfigureClick:n=>{r("form"),a(n)}}),"detail"===i&&(0,l.jsx)(h,{integrationType:o,onConfigure:()=>r("form"),onCancel:u}),"form"===i&&(0,l.jsx)(p.Z,{connectionOption:s,onCancel:u})]})},k=e(86677),A=e(11032),_=n=>{let{isFiltered:t,onOpenAddModal:e}=n;return(0,l.jsxs)(s.kCb,{direction:"column",alignItems:"center","data-testid":"empty-state",children:[(0,l.jsx)(s.xvT,{color:"gray.700",fontWeight:"semibold",fontSize:"md",children:"No integrations"}),(0,l.jsx)(s.xvT,{color:"gray.700",fontSize:"sm",marginTop:"8px",children:t?"No integrations match your filters":"You have not configured any integrations"}),(0,l.jsx)(s.xvT,{color:"gray.700",fontSize:"sm",children:'Click "Add integration" to connect and configure systems now.'}),(0,l.jsx)(s.zxk,{variant:"primary",size:"sm",marginTop:"16px",onClick:e,children:"Add integration"})]})},w=n=>{let{integrations:t,isFiltered:e,onOpenAddModal:i}=n,r=(0,k.useRouter)();return(0,l.jsx)(s.xuv,{marginTop:"24px",children:t.length?t.map(n=>(0,l.jsx)(m.Z,{integration:n,showTestNotice:!0,configureButtonLabel:"Manage",onConfigureClick:()=>r.push("".concat(A.KH,"/").concat(n.key))},n.key)):(0,l.jsx)(_,{onOpenAddModal:i,isFiltered:e})})},L=()=>{var n,t;let{data:e,isLoading:i}=(0,g.AZ)({connection_type:v.jq}),{onOpen:r,isOpen:o,onClose:a}=(0,s.qY0)(),{tabIndex:c,onChangeFilter:x,anyFiltersApplied:p,isFiltering:m,filteredTypes:h,tabs:y}=j(null==e?void 0:null===(n=e.items)||void 0===n?void 0:n.map(n=>(0,v.ZP)(n.connection_type))),C=null!==(t=null==e?void 0:e.items.filter(n=>h.some(t=>t.placeholder.connection_type===n.connection_type)))&&void 0!==t?t:[];return(0,l.jsxs)(f.Z,{title:"Integrations",children:[(0,l.jsx)(s.X6q,{mb:2,fontSize:"2xl",fontWeight:"semibold",children:"Integrations"}),(0,l.jsxs)(s.xuv,{"data-testid":"integration-tabs",display:"flex",children:[(0,l.jsx)(s.mQc,{index:c,onChange:x,w:"full",children:(0,l.jsx)(s.tdY,{children:y.map(n=>(0,l.jsx)(u.q,{label:n},n))})}),(0,l.jsx)(s.xuv,{borderBottom:"2px solid",borderColor:"gray.200",height:"fit-content",pr:"2",pb:"2",children:(0,l.jsxs)(s.zxk,{size:"sm",variant:"outline",onClick:r,"data-testid":"add-integration-btn",children:["Add Integration",(0,l.jsx)(s.xPt,{marginLeft:"8px"})]})})]}),i||m?(0,l.jsx)(d.Z,{}):(0,l.jsx)(w,{integrations:C,onOpenAddModal:r,isFiltered:p}),(0,l.jsx)(b,{isOpen:o,onClose:a})]})}},41164:function(n,t,e){"use strict";e.d(t,{Bw:function(){return a},D4:function(){return r},Dy:function(){return s},XD:function(){return c},cz:function(){return u},hE:function(){return l},oK:function(){return o}});var i=e(76649);let r=n=>"error"in n,o=n=>(0,i.Ln)({status:"string"},n)&&"PARSING_ERROR"===n.status,a=n=>(0,i.Ln)({status:"number",data:{}},n),l=n=>(0,i.Ln)({detail:"string"},n),s=n=>(0,i.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},n),c=n=>(0,i.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},n),u=n=>(0,i.Ln)({detail:[{loc:["string","number"],msg:"string",type:"string"}]},n)},76649:function(n,t,e){"use strict";e.d(t,{Ln:function(){return i},uX:function(){return a}});let i=(n,t)=>o(n,t),r=Symbol("SOME"),o=(n,t)=>"string"==typeof n?n===typeof t:Array.isArray(n)?r in n?n.some(n=>o(n,t)):!!Array.isArray(t)&&(0===n.length||t.every(t=>n.some(n=>o(n,t)))):"object"==typeof t&&null!==t&&Object.entries(n).every(([n,e])=>o(e,t[n])),a=n=>t=>i(n,t);class l{static narrow(n){return new l(t=>i(n,t))}constructor(n){this.NF=void 0,this.NF=n}satisfied(n){return this.NF(n)}build(n){return n}and(n){let t=this.NF,e=n instanceof l?n.NF:n instanceof Function?n:t=>i(n,t);return new l(n=>t(n)&&e(n))}}new l(n=>!0)}},function(n){n.O(0,[9308,2888,9774,179],function(){return n(n.s=9387)}),_N_E=n.O()}]);