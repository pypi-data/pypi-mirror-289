(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2828],{85082:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/organization",function(){return n(58208)}])},43124:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var i=n(24246),r=n(58727),a=n(88038),s=n.n(a),o=n(86677);n(27378);var u=n(11596),l=n(72247),c=n(11032),d=()=>{let e=(0,o.useRouter)();return(0,i.jsx)(r.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,i.jsxs)(r.xuv,{children:[(0,i.jsxs)(r.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,i.jsx)(r.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,i.jsx)(r.zxk,{size:"sm",variant:"outline",onClick:()=>{e.push(c.fz)},children:"Configure"})]}),(0,i.jsxs)(r.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},f=e=>{let{children:t,title:n,padded:a=!0,mainProps:c}=e,f=(0,u.hz)(),g=(0,o.useRouter)(),m="/privacy-requests"===g.pathname||"/datastore-connection"===g.pathname,p=!(f.flags.privacyRequestsConfiguration&&m),{data:h}=(0,l.JE)(void 0,{skip:p}),{data:y}=(0,l.PW)(void 0,{skip:p}),v=f.flags.privacyRequestsConfiguration&&(!h||!y)&&m;return(0,i.jsxs)(r.kCb,{"data-testid":n,direction:"column",h:"100vh",children:[(0,i.jsxs)(s(),{children:[(0,i.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,i.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsxs)(r.kCb,{as:"main",direction:"column",py:a?6:0,px:a?10:0,h:a?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto",...c,children:[v?(0,i.jsx)(d,{}):null,t]})]})}},60136:function(e,t,n){"use strict";n.d(t,{D4:function(){return a.D4},MM:function(){return f},Ot:function(){return l},c6:function(){return r},cj:function(){return m},e$:function(){return o},fn:function(){return u},iC:function(){return g},nU:function(){return d},tB:function(){return c}});var i,r,a=n(41164);let s="An unexpected error occurred. Please try again.",o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;if((0,a.Bw)(e)){if((0,a.hE)(e.data))return e.data.detail;if((0,a.cz)(e.data)){var n;let t=null===(n=e.data.detail)||void 0===n?void 0:n[0];return"".concat(null==t?void 0:t.msg,": ").concat(null==t?void 0:t.loc)}if(409===e.status&&(0,a.Dy)(e.data)||404===e.status&&(0,a.XD)(e.data))return"".concat(e.data.detail.error," (").concat(e.data.detail.fides_key,")")}return t};function u(e){return"object"==typeof e&&null!=e&&"status"in e}function l(e){return"object"==typeof e&&null!=e&&"data"in e&&"string"==typeof e.data.detail}function c(e){return"object"==typeof e&&null!=e&&"data"in e&&Array.isArray(e.data.detail)}let d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{status:500,message:s};if((0,a.oK)(e))return{status:e.originalStatus,message:e.data};if((0,a.Bw)(e)){let{status:n}=e;return{status:n,message:o(e,t.message)}}return t},f=e=>Object.entries(e).map(e=>({value:e[1],label:e[1]}));(i=r||(r={})).GVL="gvl",i.AC="gacp",i.COMPASS="compass";let g={gvl:{label:"GVL",fullName:"Global Vendor List"},gacp:{label:"AC",fullName:"Google Additional Consent List"},compass:{label:"",fullName:""}},m=e=>{let t=e.split(".")[0];return"gacp"===t?"gacp":"gvl"===t?"gvl":"compass"}},16781:function(e,t,n){"use strict";n.d(t,{MA:function(){return o},Vo:function(){return l},t5:function(){return u}});var i=n(24246),r=n(58727);let a=e=>{let{children:t}=e;return(0,i.jsxs)(r.xvT,{"data-testid":"toast-success-msg",children:[(0,i.jsx)("strong",{children:"Success:"})," ",t]})},s=e=>{let{children:t}=e;return(0,i.jsxs)(r.xvT,{"data-testid":"toast-error-msg",children:[(0,i.jsx)("strong",{children:"Error:"})," ",t]})},o={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},u=e=>{let t=(0,i.jsx)(a,{children:e});return{...o,description:t}},l=e=>{let t=(0,i.jsx)(s,{children:e});return{...o,description:t,status:"error"}}},58208:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var i=n(24246),r=n(58727),a=n(43124),s=n(36701),o=n(34090),u=n(27378),l=n(16310),c=n(34803),d=n(60136),f=n(16781);let g={description:"",fides_key:s.Av,name:""},m=e=>({...e}),p=e=>({description:e.description,fides_key:e.fides_key,name:e.name}),h=l.Ry().shape({description:l.Z_().required().label("Description"),fides_key:l.Z_().required().label("Organization Fides Key"),name:l.Z_().required().label("Name")}),y=e=>{let{organization:t,onSuccess:n}=e,[a,l]=(0,s.$f)(),y=(0,u.useMemo)(()=>t?m(t):g,[t]),v=(0,r.pmc)(),x=async(e,t)=>{let i=p(e);(r=>{if((0,d.D4)(r)){let e=(0,d.e$)(r.error,"An unexpected error occurred while editing the organization. Please try again.");v((0,f.Vo)(e))}else v((0,f.t5)("Organization configuration saved.")),t.resetForm({values:e}),n&&n(i)})(await a(i))},b=!t||l.isLoading;return(0,i.jsx)(o.J9,{initialValues:y,enableReinitialize:!0,onSubmit:x,validationSchema:h,children:e=>{let{dirty:t,isValid:n}=e;return(0,i.jsx)(o.l0,{"data-testid":"organization-form",children:(0,i.jsxs)(r.Kqy,{spacing:4,children:[(0,i.jsx)(c.j0,{id:"fides_key",name:"fides_key",label:"Fides Key",disabled:!0,tooltip:"A unique key that identifies your organization. Not editable via UI.",variant:"stacked"}),(0,i.jsx)(c.j0,{id:"name",name:"name",label:"Name",disabled:b,tooltip:"User-friendly name for your organization, used in messaging to end-users and other public locations.",variant:"stacked"}),(0,i.jsx)(c.j0,{id:"description",name:"description",label:"Description",disabled:b,tooltip:"Short description of your organization, your services, etc.",variant:"stacked"}),(0,i.jsx)(r.xuv,{textAlign:"right",children:(0,i.jsx)(r.zxk,{type:"submit",variant:"primary",size:"sm",isDisabled:b||!t||!n,isLoading:b,"data-testid":"save-btn",children:"Save"})})]})})}})};var v=()=>{let{data:e}=(0,s.GQ)(s.Av);return(0,i.jsx)(a.Z,{title:"Organization",children:(0,i.jsxs)(r.xuv,{"data-testid":"organization-management",children:[(0,i.jsx)(r.X6q,{marginBottom:4,fontSize:"2xl",children:"Organization Management"}),(0,i.jsxs)(r.xuv,{maxWidth:"600px",children:[(0,i.jsx)(r.xvT,{marginBottom:10,fontSize:"sm",children:"Please use this section to manage your organizationâ€˜s details, including key information that will be recorded in the RoPA (Record of Processing Activities)."}),(0,i.jsx)(r.xuv,{background:"gray.50",padding:2,children:(0,i.jsx)(y,{organization:e})})]})]})})}},41164:function(e,t,n){"use strict";n.d(t,{Bw:function(){return s},D4:function(){return r},Dy:function(){return u},XD:function(){return l},cz:function(){return c},hE:function(){return o},oK:function(){return a}});var i=n(76649);let r=e=>"error"in e,a=e=>(0,i.Ln)({status:"string"},e)&&"PARSING_ERROR"===e.status,s=e=>(0,i.Ln)({status:"number",data:{}},e),o=e=>(0,i.Ln)({detail:"string"},e),u=e=>(0,i.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e),l=e=>(0,i.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e),c=e=>(0,i.Ln)({detail:[{loc:["string","number"],msg:"string",type:"string"}]},e)},76649:function(e,t,n){"use strict";n.d(t,{Ln:function(){return i},uX:function(){return s}});let i=(e,t)=>a(e,t),r=Symbol("SOME"),a=(e,t)=>"string"==typeof e?e===typeof t:Array.isArray(e)?r in e?e.some(e=>a(e,t)):!!Array.isArray(t)&&(0===e.length||t.every(t=>e.some(e=>a(e,t)))):"object"==typeof t&&null!==t&&Object.entries(e).every(([e,n])=>a(n,t[e])),s=e=>t=>i(e,t);class o{static narrow(e){return new o(t=>i(e,t))}constructor(e){this.NF=void 0,this.NF=e}satisfied(e){return this.NF(e)}build(e){return e}and(e){let t=this.NF,n=e instanceof o?e.NF:e instanceof Function?e:t=>i(e,t);return new o(e=>t(e)&&n(e))}}new o(e=>!0)}},function(e){e.O(0,[2888,9774,179],function(){return e(e.s=85082)}),_N_E=e.O()}]);