import{s as V,e as d,i as $,d as f,w as g,P as N,o as O,f as h,g as k,h as v,j as E,r as T,C as U}from"../chunks/scheduler.8ceb707f.js";import{S as q,i as B,t as p,c as P,a as _,g as D,b as I,d as S,m as w,e as y}from"../chunks/index.07e72a31.js";import{g as W}from"../chunks/navigation.b8bafda2.js";import{p as C}from"../chunks/stores.1c112181.js";import{c as j,k as Q,g as F}from"../chunks/index.f8767d9e.js";import{S as H}from"../chunks/Spinner.73030589.js";import{T as M}from"../chunks/ToolkitEditor.08754052.js";import{e as b,x as z}from"../chunks/index.dae0e60c.js";import{o as A,d as G}from"../chunks/index.979f9ac4.js";import{a as u}from"../chunks/Toaster.svelte_svelte_type_style_lang.a1b53f72.js";function J(l){let e,t,o,s;return o=new H({}),{c(){e=h("div"),t=h("div"),I(o.$$.fragment),this.h()},l(n){e=k(n,"DIV",{class:!0});var a=v(e);t=k(a,"DIV",{class:!0});var m=v(t);S(o.$$.fragment,m),m.forEach(f),a.forEach(f),this.h()},h(){E(t,"class","pb-16"),E(e,"class","flex items-center justify-center h-full")},m(n,a){$(n,e,a),T(e,t),w(o,t,null),s=!0},p:U,i(n){s||(_(o.$$.fragment,n),s=!0)},o(n){p(o.$$.fragment,n),s=!1},d(n){n&&f(e),y(o)}}}function K(l){let e,t;return e=new M({props:{edit:!0,id:l[0].id,name:l[0].name,meta:l[0].meta,content:l[0].content}}),e.$on("save",l[3]),{c(){I(e.$$.fragment)},l(o){S(e.$$.fragment,o)},m(o,s){w(e,o,s),t=!0},p(o,s){const n={};s&1&&(n.id=o[0].id),s&1&&(n.name=o[0].name),s&1&&(n.meta=o[0].meta),s&1&&(n.content=o[0].content),e.$set(n)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){y(e,o)}}}function L(l){let e,t,o,s;const n=[K,J],a=[];function m(i,r){return i[0]?0:1}return e=m(l),t=a[e]=n[e](l),{c(){t.c(),o=d()},l(i){t.l(i),o=d()},m(i,r){a[e].m(i,r),$(i,o,r),s=!0},p(i,[r]){let c=e;e=m(i),e===c?a[e].p(i,r):(D(),p(a[c],1,1,()=>{a[c]=null}),P(),t=a[e],t?t.p(i,r):(t=a[e]=n[e](i),t.c()),_(t,1),t.m(o.parentNode,o))},i(i){s||(_(t),s=!0)},o(i){p(t),s=!1},d(i){i&&f(o),a[e].d(i)}}}function X(l,e,t){let o,s;g(l,C,r=>t(4,o=r));const n=N("i18n");g(l,n,r=>t(5,s=r));let a=null;const m=async r=>{console.log(r);const c=A(r.content);if(G((c==null?void 0:c.required_open_webui_version)??"0.0.0",b)){console.log("Version is lower than required"),u.error(s.t("Open WebUI version (v{{OPEN_WEBUI_VERSION}}) is lower than required version (v{{REQUIRED_VERSION}})",{OPEN_WEBUI_VERSION:b,REQUIRED_VERSION:(c==null?void 0:c.required_open_webui_version)??"0.0.0"}));return}await Q(localStorage.token,a.id,{id:r.id,name:r.name,meta:r.meta,content:r.content}).catch(R=>(u.error(R),null))&&(u.success(s.t("Tool updated successfully")),z.set(await F(localStorage.token)))};return O(async()=>{console.log("mounted");const r=o.url.searchParams.get("id");r&&(t(0,a=await j(localStorage.token,r).catch(c=>(u.error(c),W("/workspace/tools"),null))),console.log(a))}),[a,n,m,r=>{m(r.detail)}]}class le extends q{constructor(e){super(),B(this,e,X,L,V,{})}}export{le as component};
//# sourceMappingURL=24.8c79138e.js.map
