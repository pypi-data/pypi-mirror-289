import{s as Gt,p as zt,W as le,P as ue,w as Ft,o as de,f as _,l as X,a as B,g,h as p,m as Y,d as o,c as L,R as Ot,j as s,i as Q,r as a,Q as $t,u as ft,O as He,n as ut,v as se,z as yt,M as ze,A as Dt,C as fe,K as Ue,e as we}from"../chunks/scheduler.8ceb707f.js";import{S as ae,i as re,f as ne,b as Lt,d as Nt,m as Ct,a as ct,t as pt,e as Ht,g as Zt,c as te}from"../chunks/index.07e72a31.js";import{g as qe}from"../chunks/globals.7f7f1b26.js";import{e as ee}from"../chunks/each.0e379b97.js";import{a as St}from"../chunks/Toaster.svelte_svelte_type_style_lang.a1b53f72.js";import{f as Re}from"../chunks/FileSaver.min.898eb36f.js";import{w as Bt,S as Ae,B as Oe,W as Qe,n as Ge}from"../chunks/index.dae0e60c.js";import{u as Je,g as Ut,t as ke,d as ye,c as De}from"../chunks/index.05da3db3.js";import{i as We,p as Xe}from"../chunks/index.ca8b3d9d.js";import{k as Ye,t as Ke}from"../chunks/index.979f9ac4.js";import{C as je}from"../chunks/Checkbox.3d101069.js";import"../chunks/dayjs.min.1e504c00.js";import{M as Pe}from"../chunks/Modal.9e048b4e.js";import{T as Fe}from"../chunks/Tags.e31f633c.js";import"../chunks/sha256.65a6c54a.js";import{A as Ze}from"../chunks/AddFilesPlaceholder.685275a7.js";import{t as tl}from"../chunks/index.31e6c027.js";function el(e){let t,l,r,f=e[3].t("Edit Doc")+"",c,n,u,h='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',b,i,v,w,k,D,M,S=e[3].t("Name Tag")+"",E,G,y,N,K="#",mt,z,A,U,W,lt=e[3].t("Title")+"",it,Z,P,q,nt,ot,R,tt=e[3].t("Tags")+"",O,et,d,x,j,C,H=e[3].t("Save")+"",J,V,F,rt;return d=new Fe({props:{tags:e[1],addTag:e[6],deleteTag:e[7]}}),{c(){t=_("div"),l=_("div"),r=_("div"),c=X(f),n=B(),u=_("button"),u.innerHTML=h,b=B(),i=_("div"),v=_("div"),w=_("form"),k=_("div"),D=_("div"),M=_("div"),E=X(S),G=B(),y=_("div"),N=_("div"),N.textContent=K,mt=B(),z=_("input"),A=B(),U=_("div"),W=_("div"),it=X(lt),Z=B(),P=_("div"),q=_("input"),nt=B(),ot=_("div"),R=_("div"),O=X(tt),et=B(),Lt(d.$$.fragment),x=B(),j=_("div"),C=_("button"),J=X(H),this.h()},l(T){t=g(T,"DIV",{});var $=p(t);l=g($,"DIV",{class:!0});var _t=p(l);r=g(_t,"DIV",{class:!0});var It=p(r);c=Y(It,f),It.forEach(o),n=L(_t),u=g(_t,"BUTTON",{class:!0,"data-svelte-h":!0}),Ot(u)!=="svelte-745w2y"&&(u.innerHTML=h),_t.forEach(o),b=L($),i=g($,"DIV",{class:!0});var ht=p(i);v=g(ht,"DIV",{class:!0});var Et=p(v);w=g(Et,"FORM",{class:!0});var bt=p(w);k=g(bt,"DIV",{class:!0});var kt=p(k);D=g(kt,"DIV",{class:!0});var Tt=p(D);M=g(Tt,"DIV",{class:!0});var xt=p(M);E=Y(xt,S),xt.forEach(o),G=L(Tt),y=g(Tt,"DIV",{class:!0});var Vt=p(y);N=g(Vt,"DIV",{class:!0,"data-svelte-h":!0}),Ot(N)!=="svelte-1xdm6fj"&&(N.textContent=K),mt=L(Vt),z=g(Vt,"INPUT",{class:!0,type:!0,autocomplete:!0}),Vt.forEach(o),Tt.forEach(o),A=L(kt),U=g(kt,"DIV",{class:!0});var gt=p(U);W=g(gt,"DIV",{class:!0});var jt=p(W);it=Y(jt,lt),jt.forEach(o),Z=L(gt),P=g(gt,"DIV",{class:!0});var qt=p(P);q=g(qt,"INPUT",{class:!0,type:!0,autocomplete:!0}),qt.forEach(o),gt.forEach(o),nt=L(kt),ot=g(kt,"DIV",{class:!0});var st=p(ot);R=g(st,"DIV",{class:!0});var wt=p(R);O=Y(wt,tt),wt.forEach(o),et=L(st),Nt(d.$$.fragment,st),st.forEach(o),kt.forEach(o),x=L(bt),j=g(bt,"DIV",{class:!0});var Jt=p(j);C=g(Jt,"BUTTON",{class:!0,type:!0});var Rt=p(C);J=Y(Rt,H),Rt.forEach(o),Jt.forEach(o),bt.forEach(o),Et.forEach(o),ht.forEach(o),$.forEach(o),this.h()},h(){s(r,"class","text-lg font-medium self-center"),s(u,"class","self-center"),s(l,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),s(M,"class","mb-1 text-xs text-gray-500"),s(N,"class","bg-gray-200 dark:bg-gray-800 font-semibold px-3 py-0.5 border border-r-0 dark:border-gray-800 rounded-l-xl flex items-center"),s(z,"class","w-full rounded-r-xl py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 disabled:text-gray-500 dark:disabled:text-gray-500 outline-none svelte-1vx7r9s"),s(z,"type","text"),s(z,"autocomplete","off"),z.required=!0,s(y,"class","flex flex-1"),s(D,"class","flex flex-col w-full"),s(W,"class","mb-1 text-xs text-gray-500"),s(q,"class","w-full rounded-xl py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none svelte-1vx7r9s"),s(q,"type","text"),s(q,"autocomplete","off"),q.required=!0,s(P,"class","flex-1"),s(U,"class","flex flex-col w-full"),s(R,"class","mb-2 text-xs text-gray-500"),s(ot,"class","flex flex-col w-full"),s(k,"class","flex flex-col space-y-1.5"),s(C,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),s(C,"type","submit"),s(j,"class","flex justify-end pt-5 text-sm font-medium"),s(w,"class","flex flex-col w-full"),s(v,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),s(i,"class","flex flex-col md:flex-row w-full px-5 py-4 md:space-x-4 dark:text-gray-200")},m(T,$){Q(T,t,$),a(t,l),a(l,r),a(r,c),a(l,n),a(l,u),a(t,b),a(t,i),a(i,v),a(v,w),a(w,k),a(k,D),a(D,M),a(M,E),a(D,G),a(D,y),a(y,N),a(y,mt),a(y,z),$t(z,e[2].name),a(k,A),a(k,U),a(U,W),a(W,it),a(U,Z),a(U,P),a(P,q),$t(q,e[2].title),a(k,nt),a(k,ot),a(ot,R),a(R,O),a(ot,et),Ct(d,ot,null),a(w,x),a(w,j),a(j,C),a(C,J),V=!0,F||(rt=[ft(u,"click",e[9]),ft(z,"input",e[10]),ft(q,"input",e[11]),ft(w,"submit",He(e[12]))],F=!0)},p(T,$){(!V||$&8)&&f!==(f=T[3].t("Edit Doc")+"")&&ut(c,f),(!V||$&8)&&S!==(S=T[3].t("Name Tag")+"")&&ut(E,S),$&4&&z.value!==T[2].name&&$t(z,T[2].name),(!V||$&8)&&lt!==(lt=T[3].t("Title")+"")&&ut(it,lt),$&4&&q.value!==T[2].title&&$t(q,T[2].title),(!V||$&8)&&tt!==(tt=T[3].t("Tags")+"")&&ut(O,tt);const _t={};$&2&&(_t.tags=T[1]),d.$set(_t),(!V||$&8)&&H!==(H=T[3].t("Save")+"")&&ut(J,H)},i(T){V||(ct(d.$$.fragment,T),V=!0)},o(T){pt(d.$$.fragment,T),V=!1},d(T){T&&o(t),Ht(d),F=!1,se(rt)}}}function ll(e){let t,l,r;function f(n){e[13](n)}let c={size:"sm",$$slots:{default:[el]},$$scope:{ctx:e}};return e[0]!==void 0&&(c.show=e[0]),t=new Pe({props:c}),zt.push(()=>ne(t,"show",f)),{c(){Lt(t.$$.fragment)},l(n){Nt(t.$$.fragment,n)},m(n,u){Ct(t,n,u),r=!0},p(n,[u]){const h={};u&16399&&(h.$$scope={dirty:u,ctx:n}),!l&&u&1&&(l=!0,h.show=n[0],le(()=>l=!1)),t.$set(h)},i(n){r||(ct(t.$$.fragment,n),r=!0)},o(n){pt(t.$$.fragment,n),r=!1},d(n){Ht(t,n)}}}function sl(e,t,l){let r;const f=ue("i18n");Ft(e,f,E=>l(3,r=E));let{show:c=!1}=t,{selectedDoc:n}=t,u=[],h={name:"",title:"",content:null};const b=async()=>{await Je(localStorage.token,n.name,{title:h.title,name:h.name}).catch(G=>{St.error(G)})&&(l(0,c=!1),Bt.set(await Ut(localStorage.token)))},i=async E=>{!u.find(G=>G.name===E)&&E!==""?(l(1,u=[...u,{name:E}]),await ke(localStorage.token,h.name,{name:h.name,tags:u}),Bt.set(await Ut(localStorage.token))):console.log("tag already exists")},v=async E=>{l(1,u=u.filter(G=>G.name!==E)),await ke(localStorage.token,h.name,{name:h.name,tags:u}),Bt.set(await Ut(localStorage.token))};de(()=>{var E;n&&(l(2,h=JSON.parse(JSON.stringify(n))),l(1,u=((E=h==null?void 0:h.content)==null?void 0:E.tags)??[]))});const w=()=>{l(0,c=!1)};function k(){h.name=this.value,l(2,h)}function D(){h.title=this.value,l(2,h)}const M=()=>{b()};function S(E){c=E,l(0,c)}return e.$$set=E=>{"show"in E&&l(0,c=E.show),"selectedDoc"in E&&l(8,n=E.selectedDoc)},[c,u,h,r,f,b,i,v,n,w,k,D,M,S]}class al extends ae{constructor(t){super(),re(this,t,sl,ll,Gt,{show:0,selectedDoc:8})}}function rl(e){let t=e[4].t("Click here to select documents.")+"",l;return{c(){l=X(t)},l(r){l=Y(r,t)},m(r,f){Q(r,l,f)},p(r,f){f&16&&t!==(t=r[4].t("Click here to select documents.")+"")&&ut(l,t)},d(r){r&&o(l)}}}function nl(e){let t=e[2].length>0?`${e[2].length}`:"",l,r;return{c(){l=X(t),r=X(" document(s) selected.")},l(f){l=Y(f,t),r=Y(f," document(s) selected.")},m(f,c){Q(f,l,c),Q(f,r,c)},p(f,c){c&4&&t!==(t=f[2].length>0?`${f[2].length}`:"")&&ut(l,t)},d(f){f&&(o(l),o(r))}}}function ol(e){let t,l,r,f=e[4].t("Add Docs")+"",c,n,u,h='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',b,i,v,w,k,D,M,S,E,G,y,N,K=e[4].t("Tags")+"",mt,z,A,U,W,lt,it=e[4].t("Save")+"",Z,P,q,nt;function ot(O,et){return O[2]?nl:rl}let R=ot(e),tt=R(e);return A=new Fe({props:{tags:e[3],addTag:e[7],deleteTag:e[8]}}),{c(){t=_("div"),l=_("div"),r=_("div"),c=X(f),n=B(),u=_("button"),u.innerHTML=h,b=B(),i=_("div"),v=_("div"),w=_("form"),k=_("div"),D=_("input"),M=B(),S=_("button"),tt.c(),E=B(),G=_("div"),y=_("div"),N=_("div"),mt=X(K),z=B(),Lt(A.$$.fragment),U=B(),W=_("div"),lt=_("button"),Z=X(it),this.h()},l(O){t=g(O,"DIV",{});var et=p(t);l=g(et,"DIV",{class:!0});var d=p(l);r=g(d,"DIV",{class:!0});var x=p(r);c=Y(x,f),x.forEach(o),n=L(d),u=g(d,"BUTTON",{class:!0,"data-svelte-h":!0}),Ot(u)!=="svelte-745w2y"&&(u.innerHTML=h),d.forEach(o),b=L(et),i=g(et,"DIV",{class:!0});var j=p(i);v=g(j,"DIV",{class:!0});var C=p(v);w=g(C,"FORM",{class:!0});var H=p(w);k=g(H,"DIV",{class:!0});var J=p(k);D=g(J,"INPUT",{id:!0,type:!0,class:!0}),M=L(J),S=g(J,"BUTTON",{class:!0,type:!0});var V=p(S);tt.l(V),V.forEach(o),J.forEach(o),E=L(H),G=g(H,"DIV",{class:!0});var F=p(G);y=g(F,"DIV",{class:!0});var rt=p(y);N=g(rt,"DIV",{class:!0});var T=p(N);mt=Y(T,K),T.forEach(o),z=L(rt),Nt(A.$$.fragment,rt),rt.forEach(o),F.forEach(o),U=L(H),W=g(H,"DIV",{class:!0});var $=p(W);lt=g($,"BUTTON",{class:!0,type:!0});var _t=p(lt);Z=Y(_t,it),_t.forEach(o),$.forEach(o),H.forEach(o),C.forEach(o),j.forEach(o),et.forEach(o),this.h()},h(){s(r,"class","text-lg font-medium self-center"),s(u,"class","self-center"),s(l,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),s(D,"id","upload-doc-input"),D.hidden=!0,s(D,"type","file"),D.multiple=!0,s(D,"class","svelte-1vx7r9s"),s(S,"class","w-full text-sm font-medium py-3 bg-gray-100 hover:bg-gray-200 dark:bg-gray-850 dark:hover:bg-gray-800 text-center rounded-xl"),s(S,"type","button"),s(k,"class","mb-3 w-full"),s(N,"class","mb-1.5 text-xs text-gray-500"),s(y,"class","flex flex-col w-full"),s(G,"class","flex flex-col space-y-1.5"),s(lt,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),s(lt,"type","submit"),s(W,"class","flex justify-end pt-5 text-sm font-medium"),s(w,"class","flex flex-col w-full"),s(v,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),s(i,"class","flex flex-col md:flex-row w-full px-5 py-4 md:space-x-4 dark:text-gray-200")},m(O,et){Q(O,t,et),a(t,l),a(l,r),a(r,c),a(l,n),a(l,u),a(t,b),a(t,i),a(i,v),a(v,w),a(w,k),a(k,D),e[11](D),a(k,M),a(k,S),tt.m(S,null),a(w,E),a(w,G),a(G,y),a(y,N),a(N,mt),a(y,z),Ct(A,y,null),a(w,U),a(w,W),a(W,lt),a(lt,Z),P=!0,q||(nt=[ft(u,"click",e[10]),ft(D,"change",e[12]),ft(S,"click",e[13]),ft(w,"submit",He(e[14]))],q=!0)},p(O,et){(!P||et&16)&&f!==(f=O[4].t("Add Docs")+"")&&ut(c,f),R===(R=ot(O))&&tt?tt.p(O,et):(tt.d(1),tt=R(O),tt&&(tt.c(),tt.m(S,null))),(!P||et&16)&&K!==(K=O[4].t("Tags")+"")&&ut(mt,K);const d={};et&8&&(d.tags=O[3]),A.$set(d),(!P||et&16)&&it!==(it=O[4].t("Save")+"")&&ut(Z,it)},i(O){P||(ct(A.$$.fragment,O),P=!0)},o(O){pt(A.$$.fragment,O),P=!1},d(O){O&&o(t),e[11](null),tt.d(),Ht(A),q=!1,se(nt)}}}function il(e){let t,l,r;function f(n){e[15](n)}let c={size:"sm",$$slots:{default:[ol]},$$scope:{ctx:e}};return e[0]!==void 0&&(c.show=e[0]),t=new Pe({props:c}),zt.push(()=>ne(t,"show",f)),{c(){Lt(t.$$.fragment)},l(n){Nt(t.$$.fragment,n)},m(n,u){Ct(t,n,u),r=!0},p(n,[u]){const h={};u&131103&&(h.$$scope={dirty:u,ctx:n}),!l&&u&1&&(l=!0,h.show=n[0],le(()=>l=!1)),t.$set(h)},i(n){r||(ct(t.$$.fragment,n),r=!0)},o(n){pt(t.$$.fragment,n),r=!1},d(n){Ht(t,n)}}}function cl(e,t,l){let r;const f=ue("i18n");Ft(e,f,y=>l(4,r=y));let{show:c=!1}=t,{uploadDoc:n}=t,u,h,b=[];const i=async()=>{if(h&&h.length>0){for(const y of h)console.log(y,y.name.split(".").at(-1)),Ae.includes(y.type)||Oe.includes(y.name.split(".").at(-1))||St.error(`Unknown File Type '${y.type}', but accepting and treating as plain text`),n(y,b);l(2,h=null),l(1,u.value="",u)}else St.error(r.t("File not found."));l(0,c=!1),Bt.set(await Ut(localStorage.token))},v=async y=>{!b.find(N=>N.name===y)&&y!==""?l(3,b=[...b,{name:y}]):console.log("tag already exists")},w=async y=>{l(3,b=b.filter(N=>N.name!==y))};de(()=>{});const k=()=>{l(0,c=!1)};function D(y){zt[y?"unshift":"push"](()=>{u=y,l(1,u)})}function M(){h=this.files,l(2,h)}const S=()=>{u.click()},E=()=>{i()};function G(y){c=y,l(0,c)}return e.$$set=y=>{"show"in y&&l(0,c=y.show),"uploadDoc"in y&&l(9,n=y.uploadDoc)},[c,u,h,b,r,f,i,v,w,n,k,D,M,S,E,G]}class ul extends ae{constructor(t){super(),re(this,t,cl,il,Gt,{show:0,uploadDoc:9})}}const{document:ce}=qe;function xe(e,t,l){const r=e.slice();return r[35]=t[l],r[36]=t,r[37]=l,r}function Ee(e,t,l){const r=e.slice();return r[38]=t[l],r}function Ie(e){let t,l,r,f,c,n,u;return c=new Ze({props:{$$slots:{default:[dl]},$$scope:{ctx:e}}}),{c(){t=_("div"),l=_("div"),r=_("div"),f=_("div"),Lt(c.$$.fragment),this.h()},l(h){t=g(h,"DIV",{class:!0,id:!0,role:!0,"aria-label":!0});var b=p(t);l=g(b,"DIV",{class:!0});var i=p(l);r=g(i,"DIV",{class:!0});var v=p(r);f=g(v,"DIV",{class:!0});var w=p(f);Nt(c.$$.fragment,w),w.forEach(o),v.forEach(o),i.forEach(o),b.forEach(o),this.h()},h(){s(f,"class","max-w-md"),s(r,"class","m-auto pt-64 flex flex-col justify-center"),s(l,"class","absolute w-full h-full backdrop-blur bg-gray-800/40 flex justify-center"),s(t,"class",n="fixed "+(e[13]?"left-0 md:left-[260px] md:w-[calc(100%-260px)]":"left-0")+" w-full h-full flex z-50 touch-none pointer-events-none"),s(t,"id","dropzone"),s(t,"role","region"),s(t,"aria-label","Drag and Drop Container")},m(h,b){Q(h,t,b),a(t,l),a(l,r),a(r,f),Ct(c,f,null),u=!0},p(h,b){const i={};b[1]&1024&&(i.$$scope={dirty:b,ctx:h}),c.$set(i),(!u||b[0]&8192&&n!==(n="fixed "+(h[13]?"left-0 md:left-[260px] md:w-[calc(100%-260px)]":"left-0")+" w-full h-full flex z-50 touch-none pointer-events-none"))&&s(t,"class",n)},i(h){u||(ct(c.$$.fragment,h),u=!0)},o(h){pt(c.$$.fragment,h),u=!1},d(h){h&&o(t),Ht(c)}}}function dl(e){let t,l="Drop any files here to add to my documents";return{c(){t=_("div"),t.textContent=l,this.h()},l(r){t=g(r,"DIV",{class:!0,"data-svelte-h":!0}),Ot(t)!=="svelte-19eg75t"&&(t.textContent=l),this.h()},h(){s(t,"class","mt-2 text-center text-sm dark:text-gray-200 w-full")},m(r,f){Q(r,t,f)},p:fe,d(r){r&&o(t)}}}function Te(e){let t,l,r;function f(n){e[19](n)}let c={selectedDoc:e[8]};return e[7]!==void 0&&(c.show=e[7]),t=new al({props:c}),zt.push(()=>ne(t,"show",f)),{c(){Lt(t.$$.fragment)},l(n){Nt(t.$$.fragment,n)},m(n,u){Ct(t,n,u),r=!0},p(n,u){const h={};u[0]&256&&(h.selectedDoc=n[8]),!l&&u[0]&128&&(l=!0,h.show=n[7],le(()=>l=!1)),t.$set(h)},i(n){r||(ct(t.$$.fragment,n),r=!0)},o(n){pt(t.$$.fragment,n),r=!1},d(n){Ht(t,n)}}}function Ve(e){let t,l,r,f,c,n;r=new je({props:{state:e[10].filter(Be).length===e[10].length?"checked":"unchecked",indeterminate:e[10].filter(Le).length>0&&e[10].filter(Ne).length!==e[10].length}}),r.$on("change",e[23]);function u(i,v){return v[0]&1024&&(c=null),c==null&&(c=i[10].filter(_l).length===0),c?hl:fl}let h=u(e,[-1,-1]),b=h(e);return{c(){t=_("div"),l=_("div"),Lt(r.$$.fragment),f=B(),b.c(),this.h()},l(i){t=g(i,"DIV",{class:!0});var v=p(t);l=g(v,"DIV",{class:!0});var w=p(l);Nt(r.$$.fragment,w),w.forEach(o),f=L(v),b.l(v),v.forEach(o),this.h()},h(){s(l,"class","ml-0.5 pr-3 my-auto flex items-center"),s(t,"class","px-2.5 pt-1 flex gap-1 flex-wrap")},m(i,v){Q(i,t,v),a(t,l),Ct(r,l,null),a(t,f),b.m(t,null),n=!0},p(i,v){const w={};v[0]&1024&&(w.state=i[10].filter(Be).length===i[10].length?"checked":"unchecked"),v[0]&1024&&(w.indeterminate=i[10].filter(Le).length>0&&i[10].filter(Ne).length!==i[10].length),r.$set(w),h===(h=u(i,v))&&b?b.p(i,v):(b.d(1),b=h(i),b&&(b.c(),b.m(t,null)))},i(i){n||(ct(r.$$.fragment,i),n=!0)},o(i){pt(r.$$.fragment,i),n=!1},d(i){i&&o(t),Ht(r),b.d()}}}function fl(e){let t,l,r=e[10].filter(Ce).length+"",f,c,n,u,h,b,i=e[11].t("delete")+"",v,w,k;return{c(){t=_("div"),l=_("div"),f=X(r),c=X(" Selected"),n=B(),u=_("div"),h=_("button"),b=_("div"),v=X(i),this.h()},l(D){t=g(D,"DIV",{class:!0});var M=p(t);l=g(M,"DIV",{class:!0});var S=p(l);f=Y(S,r),c=Y(S," Selected"),S.forEach(o),n=L(M),u=g(M,"DIV",{class:!0});var E=p(u);h=g(E,"BUTTON",{class:!0});var G=p(h);b=g(G,"DIV",{class:!0});var y=p(b);v=Y(y,i),y.forEach(o),G.forEach(o),E.forEach(o),M.forEach(o),this.h()},h(){s(l,"class","text-xs font-medium py-0.5 self-center mr-1"),s(b,"class","text-xs font-medium self-center line-clamp-1"),s(h,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white"),s(u,"class","flex gap-1"),s(t,"class","flex-1 flex w-full justify-between items-center")},m(D,M){Q(D,t,M),a(t,l),a(l,f),a(l,c),a(t,n),a(t,u),a(u,h),a(h,b),a(b,v),w||(k=ft(h,"click",e[26]),w=!0)},p(D,M){M[0]&1024&&r!==(r=D[10].filter(Ce).length+"")&&ut(f,r),M[0]&2048&&i!==(i=D[11].t("delete")+"")&&ut(v,i)},d(D){D&&o(t),w=!1,k()}}}function hl(e){let t,l,r=e[11].t("all")+"",f,c,n,u,h,b=ee(e[5]),i=[];for(let v=0;v<b.length;v+=1)i[v]=Me(Ee(e,b,v));return{c(){t=_("button"),l=_("div"),f=X(r),c=B();for(let v=0;v<i.length;v+=1)i[v].c();n=we(),this.h()},l(v){t=g(v,"BUTTON",{class:!0});var w=p(t);l=g(w,"DIV",{class:!0});var k=p(l);f=Y(k,r),k.forEach(o),w.forEach(o),c=L(v);for(let D=0;D<i.length;D+=1)i[D].l(v);n=we(),this.h()},h(){s(l,"class","text-xs font-medium self-center line-clamp-1"),s(t,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white")},m(v,w){Q(v,t,w),a(t,l),a(l,f),Q(v,c,w);for(let k=0;k<i.length;k+=1)i[k]&&i[k].m(v,w);Q(v,n,w),u||(h=ft(t,"click",e[24]),u=!0)},p(v,w){if(w[0]&2048&&r!==(r=v[11].t("all")+"")&&ut(f,r),w[0]&34){b=ee(v[5]);let k;for(k=0;k<b.length;k+=1){const D=Ee(v,b,k);i[k]?i[k].p(D,w):(i[k]=Me(D),i[k].c(),i[k].m(n.parentNode,n))}for(;k<i.length;k+=1)i[k].d(1);i.length=b.length}},d(v){v&&(o(t),o(c),o(n)),Ue(i,v),u=!1,h()}}}function Me(e){let t,l,r,f=e[38]+"",c,n,u,h;function b(){return e[25](e[38])}return{c(){t=_("button"),l=_("div"),r=X("#"),c=X(f),n=B(),this.h()},l(i){t=g(i,"BUTTON",{class:!0});var v=p(t);l=g(v,"DIV",{class:!0});var w=p(l);r=Y(w,"#"),c=Y(w,f),w.forEach(o),n=L(v),v.forEach(o),this.h()},h(){s(l,"class","text-xs font-medium self-center line-clamp-1"),s(t,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white")},m(i,v){Q(i,t,v),a(t,l),a(l,r),a(l,c),a(t,n),u||(h=ft(t,"click",b),u=!0)},p(i,v){e=i,v[0]&32&&f!==(f=e[38]+"")&&ut(c,f)},d(i){i&&o(t),u=!1,h()}}}function ml(e){let t,l,r,f,c,n;return{c(){t=yt("svg"),l=yt("style"),r=X(`.spinner_qM83 {
										animation: spinner_8HQG 1.05s infinite;
									}
									.spinner_oXPr {
										animation-delay: 0.1s;
									}
									.spinner_ZTLf {
										animation-delay: 0.2s;
									}
									@keyframes spinner_8HQG {
										0%,
										57.14% {
											animation-timing-function: cubic-bezier(0.33, 0.66, 0.66, 1);
											transform: translate(0);
										}
										28.57% {
											animation-timing-function: cubic-bezier(0.33, 0, 0.66, 0.33);
											transform: translateY(-6px);
										}
										100% {
											transform: translate(0);
										}
									}
								`),f=yt("circle"),c=yt("circle"),n=yt("circle"),this.h()},l(u){t=Dt(u,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var h=p(t);l=Dt(h,"style",{});var b=p(l);r=Y(b,`.spinner_qM83 {
										animation: spinner_8HQG 1.05s infinite;
									}
									.spinner_oXPr {
										animation-delay: 0.1s;
									}
									.spinner_ZTLf {
										animation-delay: 0.2s;
									}
									@keyframes spinner_8HQG {
										0%,
										57.14% {
											animation-timing-function: cubic-bezier(0.33, 0.66, 0.66, 1);
											transform: translate(0);
										}
										28.57% {
											animation-timing-function: cubic-bezier(0.33, 0, 0.66, 0.33);
											transform: translateY(-6px);
										}
										100% {
											transform: translate(0);
										}
									}
								`),b.forEach(o),f=Dt(h,"circle",{class:!0,cx:!0,cy:!0,r:!0}),p(f).forEach(o),c=Dt(h,"circle",{class:!0,cx:!0,cy:!0,r:!0}),p(c).forEach(o),n=Dt(h,"circle",{class:!0,cx:!0,cy:!0,r:!0}),p(n).forEach(o),h.forEach(o),this.h()},h(){s(f,"class","spinner_qM83"),s(f,"cx","4"),s(f,"cy","12"),s(f,"r","2.5"),s(c,"class","spinner_qM83 spinner_oXPr"),s(c,"cx","12"),s(c,"cy","12"),s(c,"r","2.5"),s(n,"class","spinner_qM83 spinner_ZTLf"),s(n,"cx","20"),s(n,"cy","12"),s(n,"r","2.5"),s(t,"class","w-6 h-6 translate-y-[0.5px]"),s(t,"fill","currentColor"),s(t,"viewBox","0 0 24 24"),s(t,"xmlns","http://www.w3.org/2000/svg")},m(u,h){Q(u,t,h),a(t,l),a(l,r),a(t,f),a(t,c),a(t,n)},d(u){u&&o(t)}}}function vl(e){let t,l,r;return{c(){t=yt("svg"),l=yt("path"),r=yt("path"),this.h()},l(f){t=Dt(f,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var c=p(t);l=Dt(c,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(l).forEach(o),r=Dt(c,"path",{d:!0}),p(r).forEach(o),c.forEach(o),this.h()},h(){s(l,"fill-rule","evenodd"),s(l,"d","M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z"),s(l,"clip-rule","evenodd"),s(r,"d","M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"),s(t,"xmlns","http://www.w3.org/2000/svg"),s(t,"viewBox","0 0 24 24"),s(t,"fill","currentColor"),s(t,"class","w-6 h-6")},m(f,c){Q(f,t,c),a(t,l),a(t,r)},d(f){f&&o(t)}}}function Se(e){var J;let t,l,r,f,c,n,u,h,b,i,v,w=e[35].name+"",k,D,M=e[35].filename+"",S,E,G,y,N=e[35].title+"",K,mt,z,A,U,W,lt,it,Z,P,q,nt,ot,R,tt,O;r=new je({props:{state:((J=e[35])==null?void 0:J.selected)??"unchecked"}});function et(V,F){return V[35]?vl:ml}let d=et(e),x=d(e);function j(...V){return e[27](e[35],...V)}function C(...V){return e[28](e[35],...V)}function H(){return e[29](e[35],e[36],e[37])}return{c(){t=_("button"),l=_("div"),Lt(r.$$.fragment),f=B(),c=_("div"),n=_("div"),u=_("div"),x.c(),h=B(),b=_("div"),i=_("div"),v=X("#"),k=X(w),D=X(" ("),S=X(M),E=X(")"),G=B(),y=_("div"),K=X(N),mt=B(),z=_("div"),A=_("button"),U=yt("svg"),W=yt("path"),it=B(),Z=_("button"),P=yt("svg"),q=yt("path"),ot=B(),this.h()},l(V){t=g(V,"BUTTON",{class:!0});var F=p(t);l=g(F,"DIV",{class:!0});var rt=p(l);Nt(r.$$.fragment,rt),rt.forEach(o),f=L(F),c=g(F,"DIV",{class:!0});var T=p(c);n=g(T,"DIV",{class:!0});var $=p(n);u=g($,"DIV",{class:!0});var _t=p(u);x.l(_t),_t.forEach(o),h=L($),b=g($,"DIV",{class:!0});var It=p(b);i=g(It,"DIV",{class:!0});var ht=p(i);v=Y(ht,"#"),k=Y(ht,w),D=Y(ht," ("),S=Y(ht,M),E=Y(ht,")"),ht.forEach(o),G=L(It),y=g(It,"DIV",{class:!0});var Et=p(y);K=Y(Et,N),Et.forEach(o),It.forEach(o),$.forEach(o),T.forEach(o),mt=L(F),z=g(F,"DIV",{class:!0});var bt=p(z);A=g(bt,"BUTTON",{class:!0,type:!0,"aria-label":!0});var kt=p(A);U=Dt(kt,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var Tt=p(U);W=Dt(Tt,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),p(W).forEach(o),Tt.forEach(o),kt.forEach(o),it=L(bt),Z=g(bt,"BUTTON",{class:!0,type:!0,"aria-label":!0});var xt=p(Z);P=Dt(xt,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var Vt=p(P);q=Dt(Vt,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),p(q).forEach(o),Vt.forEach(o),xt.forEach(o),bt.forEach(o),ot=L(F),F.forEach(o),this.h()},h(){s(l,"class","my-auto flex items-center"),s(u,"class","p-2.5 bg-red-400 text-white rounded-lg"),s(i,"class","font-semibold line-clamp-1"),s(y,"class","text-xs overflow-hidden text-ellipsis line-clamp-1"),s(b,"class","self-center flex-1"),s(n,"class","flex items-center space-x-3"),s(c,"class","flex flex-1 space-x-4 cursor-pointer w-full"),s(W,"stroke-linecap","round"),s(W,"stroke-linejoin","round"),s(W,"d","M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"),s(U,"xmlns","http://www.w3.org/2000/svg"),s(U,"fill","none"),s(U,"viewBox","0 0 24 24"),s(U,"stroke-width","1.5"),s(U,"stroke","currentColor"),s(U,"class","w-4 h-4"),s(A,"class","self-center w-fit text-sm z-20 px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),s(A,"type","button"),s(A,"aria-label",lt=e[11].t("Edit Doc")),s(q,"stroke-linecap","round"),s(q,"stroke-linejoin","round"),s(q,"d","M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"),s(P,"xmlns","http://www.w3.org/2000/svg"),s(P,"fill","none"),s(P,"viewBox","0 0 24 24"),s(P,"stroke-width","1.5"),s(P,"stroke","currentColor"),s(P,"class","w-4 h-4"),s(Z,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),s(Z,"type","button"),s(Z,"aria-label",nt=e[11].t("Delete Doc")),s(z,"class","flex flex-row space-x-1 self-center"),s(t,"class","flex space-x-4 cursor-pointer text-left w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-xl")},m(V,F){Q(V,t,F),a(t,l),Ct(r,l,null),a(t,f),a(t,c),a(c,n),a(n,u),x.m(u,null),a(n,h),a(n,b),a(b,i),a(i,v),a(i,k),a(i,D),a(i,S),a(i,E),a(b,G),a(b,y),a(y,K),a(t,mt),a(t,z),a(z,A),a(A,U),a(U,W),a(z,it),a(z,Z),a(Z,P),a(P,q),a(t,ot),R=!0,tt||(O=[ft(A,"click",j),ft(Z,"click",C),ft(t,"click",H)],tt=!0)},p(V,F){var T;e=V;const rt={};F[0]&1024&&(rt.state=((T=e[35])==null?void 0:T.selected)??"unchecked"),r.$set(rt),d!==(d=et(e))&&(x.d(1),x=d(e),x&&(x.c(),x.m(u,null))),(!R||F[0]&1024)&&w!==(w=e[35].name+"")&&ut(k,w),(!R||F[0]&1024)&&M!==(M=e[35].filename+"")&&ut(S,M),(!R||F[0]&1024)&&N!==(N=e[35].title+"")&&ut(K,N),(!R||F[0]&2048&&lt!==(lt=e[11].t("Edit Doc")))&&s(A,"aria-label",lt),(!R||F[0]&2048&&nt!==(nt=e[11].t("Delete Doc")))&&s(Z,"aria-label",nt)},i(V){R||(ct(r.$$.fragment,V),R=!0)},o(V){pt(r.$$.fragment,V),R=!1},d(V){V&&o(t),Ht(r),x.d(),tt=!1,se(O)}}}function pl(e){let t,l,r,f=e[8],c,n,u,h,b,i,v,w=e[11].t("Documents")+"",k,D,M,S,E,G='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',y,N,K,mt,z,A,U,W,lt,it,Z,P,q,nt,ot,R,tt,O=e[11].t("Use '#' in the prompt input to load and select your documents.")+"",et,d,x,j,C,H,J,V,F=e[11].t("Import Documents Mapping")+"",rt,T,$,_t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',It,ht,Et,bt=e[11].t("Export Documents Mapping")+"",kt,Tt,xt,Vt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',gt,jt,qt;ce.title=t=`
		`+e[11].t("Documents")+" | "+e[12]+`
	`;let st=e[9]&&Ie(e),wt=Te(e);function Jt(m){e[20](m)}let Rt={uploadDoc:e[18]};e[6]!==void 0&&(Rt.show=e[6]),n=new ul({props:Rt}),zt.push(()=>ne(n,"show",Jt));let dt=e[5].length>0&&Ve(e),At=ee(e[10]),at=[];for(let m=0;m<At.length;m+=1)at[m]=Se(xe(e,At,m));const $e=m=>pt(at[m],1,1,()=>{at[m]=null});return{c(){l=B(),st&&st.c(),r=B(),wt.c(),c=B(),Lt(n.$$.fragment),h=B(),b=_("div"),i=_("div"),v=_("div"),k=X(w),D=B(),M=_("div"),S=_("div"),E=_("div"),E.innerHTML=G,y=B(),N=_("input"),mt=B(),z=_("div"),A=_("button"),U=yt("svg"),W=yt("path"),it=B(),Z=_("hr"),P=B(),dt&&dt.c(),q=B(),nt=_("div");for(let m=0;m<at.length;m+=1)at[m].c();ot=B(),R=_("div"),tt=X("ⓘ "),et=X(O),d=B(),x=_("div"),j=_("div"),C=_("input"),H=B(),J=_("button"),V=_("div"),rt=X(F),T=B(),$=_("div"),$.innerHTML=_t,It=B(),ht=_("button"),Et=_("div"),kt=X(bt),Tt=B(),xt=_("div"),xt.innerHTML=Vt,this.h()},l(m){ze("svelte-vxyf60",ce.head).forEach(o),l=L(m),st&&st.l(m),r=L(m),wt.l(m),c=L(m),Nt(n.$$.fragment,m),h=L(m),b=g(m,"DIV",{class:!0});var Mt=p(b);i=g(Mt,"DIV",{class:!0});var vt=p(i);v=g(vt,"DIV",{class:!0});var Qt=p(v);k=Y(Qt,w),Qt.forEach(o),vt.forEach(o),Mt.forEach(o),D=L(m),M=g(m,"DIV",{class:!0});var Wt=p(M);S=g(Wt,"DIV",{class:!0});var Xt=p(S);E=g(Xt,"DIV",{class:!0,"data-svelte-h":!0}),Ot(E)!=="svelte-v38fm1"&&(E.innerHTML=G),y=L(Xt),N=g(Xt,"INPUT",{class:!0,placeholder:!0}),Xt.forEach(o),mt=L(Wt),z=g(Wt,"DIV",{});var he=p(z);A=g(he,"BUTTON",{class:!0,"aria-label":!0});var me=p(A);U=Dt(me,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var ve=p(U);W=Dt(ve,"path",{d:!0}),p(W).forEach(o),ve.forEach(o),me.forEach(o),he.forEach(o),Wt.forEach(o),it=L(m),Z=g(m,"HR",{class:!0}),P=L(m),dt&&dt.l(m),q=L(m),nt=g(m,"DIV",{class:!0});var pe=p(nt);for(let ie=0;ie<at.length;ie+=1)at[ie].l(pe);pe.forEach(o),ot=L(m),R=g(m,"DIV",{class:!0});var oe=p(R);tt=Y(oe,"ⓘ "),et=Y(oe,O),oe.forEach(o),d=L(m),x=g(m,"DIV",{class:!0});var _e=p(x);j=g(_e,"DIV",{class:!0});var Pt=p(j);C=g(Pt,"INPUT",{id:!0,type:!0,accept:!0}),H=L(Pt),J=g(Pt,"BUTTON",{class:!0});var Yt=p(J);V=g(Yt,"DIV",{class:!0});var ge=p(V);rt=Y(ge,F),ge.forEach(o),T=L(Yt),$=g(Yt,"DIV",{class:!0,"data-svelte-h":!0}),Ot($)!=="svelte-aqr4dt"&&($.innerHTML=_t),Yt.forEach(o),It=L(Pt),ht=g(Pt,"BUTTON",{class:!0});var Kt=p(ht);Et=g(Kt,"DIV",{class:!0});var be=p(Et);kt=Y(be,bt),be.forEach(o),Tt=L(Kt),xt=g(Kt,"DIV",{class:!0,"data-svelte-h":!0}),Ot(xt)!=="svelte-1n7zye"&&(xt.innerHTML=Vt),Kt.forEach(o),Pt.forEach(o),_e.forEach(o),this.h()},h(){s(v,"class","text-lg font-semibold self-center"),s(i,"class","flex justify-between items-center"),s(b,"class","mb-3"),s(E,"class","self-center ml-1 mr-3"),s(N,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent"),s(N,"placeholder",K=e[11].t("Search Documents")),s(S,"class","flex flex-1"),s(W,"d","M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"),s(U,"xmlns","http://www.w3.org/2000/svg"),s(U,"viewBox","0 0 16 16"),s(U,"fill","currentColor"),s(U,"class","w-4 h-4"),s(A,"class","px-2 py-2 rounded-xl border border-gray-200 dark:border-gray-600 dark:border-0 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 transition font-medium text-sm flex items-center space-x-1"),s(A,"aria-label",lt=e[11].t("Add Docs")),s(M,"class","flex w-full space-x-2"),s(Z,"class","dark:border-gray-850 my-2.5"),s(nt,"class","my-3 mb-5"),s(R,"class","text-gray-500 text-xs mt-1 mb-2"),s(C,"id","documents-import-input"),s(C,"type","file"),s(C,"accept",".json"),C.hidden=!0,s(V,"class","self-center mr-2 font-medium line-clamp-1"),s($,"class","self-center"),s(J,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),s(Et,"class","self-center mr-2 font-medium line-clamp-1"),s(xt,"class","self-center"),s(ht,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),s(j,"class","flex space-x-2"),s(x,"class","flex justify-end w-full mb-2")},m(m,I){Q(m,l,I),st&&st.m(m,I),Q(m,r,I),wt.m(m,I),Q(m,c,I),Ct(n,m,I),Q(m,h,I),Q(m,b,I),a(b,i),a(i,v),a(v,k),Q(m,D,I),Q(m,M,I),a(M,S),a(S,E),a(S,y),a(S,N),$t(N,e[0]),a(M,mt),a(M,z),a(z,A),a(A,U),a(U,W),Q(m,it,I),Q(m,Z,I),Q(m,P,I),dt&&dt.m(m,I),Q(m,q,I),Q(m,nt,I);for(let Mt=0;Mt<at.length;Mt+=1)at[Mt]&&at[Mt].m(nt,null);Q(m,ot,I),Q(m,R,I),a(R,tt),a(R,et),Q(m,d,I),Q(m,x,I),a(x,j),a(j,C),e[30](C),a(j,H),a(j,J),a(J,V),a(V,rt),a(J,T),a(J,$),a(j,It),a(j,ht),a(ht,Et),a(Et,kt),a(ht,Tt),a(ht,xt),gt=!0,jt||(qt=[ft(N,"input",e[21]),ft(A,"click",e[22]),ft(C,"change",e[31]),ft(C,"change",e[32]),ft(J,"click",e[33]),ft(ht,"click",e[34])],jt=!0)},p(m,I){(!gt||I[0]&6144)&&t!==(t=`
		`+m[11].t("Documents")+" | "+m[12]+`
	`)&&(ce.title=t),m[9]?st?(st.p(m,I),I[0]&512&&ct(st,1)):(st=Ie(m),st.c(),ct(st,1),st.m(r.parentNode,r)):st&&(Zt(),pt(st,1,1,()=>{st=null}),te()),I[0]&256&&Gt(f,f=m[8])?(Zt(),pt(wt,1,1,fe),te(),wt=Te(m),wt.c(),ct(wt,1),wt.m(c.parentNode,c)):wt.p(m,I);const Mt={};if(!u&&I[0]&64&&(u=!0,Mt.show=m[6],le(()=>u=!1)),n.$set(Mt),(!gt||I[0]&2048)&&w!==(w=m[11].t("Documents")+"")&&ut(k,w),(!gt||I[0]&2048&&K!==(K=m[11].t("Search Documents")))&&s(N,"placeholder",K),I[0]&1&&N.value!==m[0]&&$t(N,m[0]),(!gt||I[0]&2048&&lt!==(lt=m[11].t("Add Docs")))&&s(A,"aria-label",lt),m[5].length>0?dt?(dt.p(m,I),I[0]&32&&ct(dt,1)):(dt=Ve(m),dt.c(),ct(dt,1),dt.m(q.parentNode,q)):dt&&(Zt(),pt(dt,1,1,()=>{dt=null}),te()),I[0]&68992){At=ee(m[10]);let vt;for(vt=0;vt<At.length;vt+=1){const Qt=xe(m,At,vt);at[vt]?(at[vt].p(Qt,I),ct(at[vt],1)):(at[vt]=Se(Qt),at[vt].c(),ct(at[vt],1),at[vt].m(nt,null))}for(Zt(),vt=At.length;vt<at.length;vt+=1)$e(vt);te()}(!gt||I[0]&2048)&&O!==(O=m[11].t("Use '#' in the prompt input to load and select your documents.")+"")&&ut(et,O),(!gt||I[0]&2048)&&F!==(F=m[11].t("Import Documents Mapping")+"")&&ut(rt,F),(!gt||I[0]&2048)&&bt!==(bt=m[11].t("Export Documents Mapping")+"")&&ut(kt,bt)},i(m){if(!gt){ct(st),ct(wt),ct(n.$$.fragment,m),ct(dt);for(let I=0;I<At.length;I+=1)ct(at[I]);gt=!0}},o(m){pt(st),pt(wt),pt(n.$$.fragment,m),pt(dt),at=at.filter(Boolean);for(let I=0;I<at.length;I+=1)pt(at[I]);gt=!1},d(m){m&&(o(l),o(r),o(c),o(h),o(b),o(D),o(M),o(it),o(Z),o(P),o(q),o(nt),o(ot),o(R),o(d),o(x)),st&&st.d(m),wt.d(m),Ht(n,m),dt&&dt.d(m),Ue(at,m),e[30](null),jt=!1,se(qt)}}}const _l=e=>(e==null?void 0:e.selected)==="checked",Be=e=>(e==null?void 0:e.selected)==="checked",Le=e=>(e==null?void 0:e.selected)==="checked",Ne=e=>(e==null?void 0:e.selected)==="checked",Ce=e=>(e==null?void 0:e.selected)==="checked";function gl(e,t,l){let r,f,c,n;Ft(e,Bt,d=>l(2,r=d)),Ft(e,Qe,d=>l(12,c=d)),Ft(e,Ge,d=>l(13,n=d));const{saveAs:u}=Re,h=ue("i18n");Ft(e,h,d=>l(11,f=d));let b="",i="",v,w=[],k=!1,D=!1,M,S="",E=!1;const G=async d=>{await ye(localStorage.token,d),await Bt.set(await Ut(localStorage.token))},y=async d=>{await Promise.all(d.map(async x=>await ye(localStorage.token,x.name))),await Bt.set(await Ut(localStorage.token))},N=async(d,x)=>{if(console.log(d),["audio/mpeg","audio/wav"].includes(d.type)){const H=await tl(localStorage.token,d).catch(J=>(St.error(J),null));if(H){console.log(H);const J=new Blob([H.text],{type:"text/plain"});d=Ye(J,`${d.name}.txt`)}}const j=await We(localStorage.token,d).catch(H=>(St.error(H),null)),C=await Xe(localStorage.token,j.id).catch(H=>(St.error(H),null));C&&(await De(localStorage.token,C.collection_name,C.filename,Ke(C.filename),C.filename,(x==null?void 0:x.length)>0?{tags:x}:null).catch(H=>(St.error(H),null)),await Bt.set(await Ut(localStorage.token)))};de(()=>{Bt.subscribe(H=>{l(5,w=H.reduce((J,V,F,rt)=>{var T;return[...new Set([...J,...(((T=V==null?void 0:V.content)==null?void 0:T.tags)??[]).map($=>$.name)])]},[]))});const d=document.querySelector("body"),x=H=>{H.preventDefault(),l(9,E=!0)},j=()=>{l(9,E=!1)},C=async H=>{var J,V;if(H.preventDefault(),(J=H.dataTransfer)!=null&&J.files){let F=new FileReader;F.onload=T=>{files=[...files,{type:"image",url:`${T.target.result}`}]};const rt=(V=H.dataTransfer)==null?void 0:V.files;if(rt&&rt.length>0)for(const T of rt)console.log(T,T.name.split(".").at(-1)),Ae.includes(T.type)||Oe.includes(T.name.split(".").at(-1))||St.error(`Unknown File Type '${T.type}', but accepting and treating as plain text`),N(T);else St.error(f.t("File not found."))}l(9,E=!1)};return d==null||d.addEventListener("dragover",x),d==null||d.addEventListener("drop",C),d==null||d.addEventListener("dragleave",j),()=>{d==null||d.removeEventListener("dragover",x),d==null||d.removeEventListener("drop",C),d==null||d.removeEventListener("dragleave",j)}});let K;function mt(d){D=d,l(7,D)}function z(d){k=d,l(6,k)}function A(){i=this.value,l(0,i)}const U=()=>{l(6,k=!0)},W=d=>{d.detail==="checked"?l(10,K=K.map(x=>({...x,selected:"checked"}))):d.detail==="unchecked"&&l(10,K=K.map(x=>({...x,selected:"unchecked"})))},lt=async()=>{l(1,S="")},it=async d=>{l(1,S=d)},Z=async()=>{y(K.filter(d=>d.selected==="checked"))},P=async(d,x)=>{x.stopPropagation(),l(7,D=!D),l(8,M=d)},q=(d,x)=>{x.stopPropagation(),G(d.name)},nt=(d,x,j)=>{(d==null?void 0:d.selected)==="checked"?l(10,x[j].selected="unchecked",K):l(10,x[j].selected="checked",K)};function ot(d){zt[d?"unshift":"push"](()=>{v=d,l(4,v)})}function R(){b=this.files,l(3,b)}const tt=()=>{console.log(b);const d=new FileReader;d.onload=async x=>{const j=JSON.parse(x.target.result);console.log(j);for(const C of j)await De(localStorage.token,C.collection_name,C.filename,C.name,C.title,C.content).catch(H=>(St.error(H),null));await Bt.set(await Ut(localStorage.token))},d.readAsText(b[0])},O=()=>{v.click()},et=async()=>{let d=new Blob([JSON.stringify(r)],{type:"application/json"});u(d,`documents-mapping-export-${Date.now()}.json`)};return e.$$.update=()=>{e.$$.dirty[0]&7&&l(10,K=r.filter(d=>{var x;return(S===""||(((x=d==null?void 0:d.content)==null?void 0:x.tags)??[]).map(j=>j.name).includes(S))&&(i===""||d.name.includes(i))}))},[i,S,r,b,v,w,k,D,M,E,K,f,c,n,u,h,G,y,N,mt,z,A,U,W,lt,it,Z,P,q,nt,ot,R,tt,O,et]}class bl extends ae{constructor(t){super(),re(this,t,gl,pl,Gt,{},null,[-1,-1])}}function wl(e){let t,l;return t=new bl({}),{c(){Lt(t.$$.fragment)},l(r){Nt(t.$$.fragment,r)},m(r,f){Ct(t,r,f),l=!0},p:fe,i(r){l||(ct(t.$$.fragment,r),l=!0)},o(r){pt(t.$$.fragment,r),l=!1},d(r){Ht(t,r)}}}class Ol extends ae{constructor(t){super(),re(this,t,null,wl,Gt,{})}}export{Ol as component};
//# sourceMappingURL=12.46cd0f01.js.map
