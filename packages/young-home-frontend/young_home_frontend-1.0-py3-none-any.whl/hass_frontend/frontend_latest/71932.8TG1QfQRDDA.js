export const id=71932;export const ids=[71932];export const modules={30454:(e,i,s)=>{s.d(i,{$W:()=>u,Dp:()=>h,EC:()=>o,HB:()=>f,S9:()=>v,XF:()=>r,b1:()=>g,bV:()=>n,lB:()=>a,lg:()=>c,mX:()=>p,oj:()=>l,rY:()=>y,vH:()=>m});s(21950),s(8339);var t=s(28825);const o="single",n=10,r=e=>{if("condition"in e&&Array.isArray(e.condition))return{condition:"and",conditions:e.condition};for(const i of["and","or","not"])if(i in e)return{condition:i,conditions:e[i]};return e},a=(e,i)=>{e.callService("automation","trigger",{entity_id:i,skip_condition:!0})},c=(e,i)=>e.callApi("DELETE",`config/automation/config/${i}`);let d;const l=(e,i)=>e.callApi("GET",`config/automation/config/${i}`),u=(e,i)=>e.callWS({type:"automation/config",entity_id:i}),g=(e,i,s)=>e.callApi("POST",`config/automation/config/${i}`,s),f=e=>{for(const i of["trigger","condition","action"]){const s=e[i];s&&!Array.isArray(s)&&(e[i]=[s])}return e},p=e=>{d=e,(0,t.o)("/config/automation/edit/new")},m=e=>{p({...e,id:void 0,alias:void 0})},y=()=>{const e=d;return d=void 0,e},h=(e,i,s,t)=>e.connection.subscribeMessage(i,{type:"subscribe_trigger",trigger:s,variables:t}),v=(e,i,s)=>e.callWS({type:"test_condition",condition:i,variables:s})},71932:(e,i,s)=>{s.r(i),s.d(i,{addExternalBarCodeListener:()=>c,attachExternalToApp:()=>a});s(21950),s(66274),s(84531),s(15445),s(24483),s(13478),s(46355),s(14612),s(53691),s(48455),s(8339);var t=s(77664),o=s(51150),n=s(30454);const r=new Set,a=e=>{window.addEventListener("haptic",(i=>e.hass.auth.external.fireMessage({type:"haptic",payload:{hapticType:i.detail}}))),e.hass.auth.external.addCommandHandler((i=>d(e,i)))},c=e=>(r.add(e),()=>{r.delete(e)}),d=(e,i)=>{const s=e.hass.auth.external;if("restart"===i.command)e.hass.connection.reconnect(!0),s.fireMessage({id:i.id,type:"result",success:!0,result:null});else if("notifications/show"===i.command)(0,t.r)(e,"hass-show-notifications"),s.fireMessage({id:i.id,type:"result",success:!0,result:null});else if("sidebar/toggle"===i.command){var a;if(null!==(a=o.G.history.state)&&void 0!==a&&a.open)return s.fireMessage({id:i.id,type:"result",success:!1,error:{code:"not_allowed",message:"dialog open"}}),!0;(0,t.r)(e,"hass-toggle-menu"),s.fireMessage({id:i.id,type:"result",success:!0,result:null})}else if("sidebar/show"===i.command){var c;if(null!==(c=o.G.history.state)&&void 0!==c&&c.open)return s.fireMessage({id:i.id,type:"result",success:!1,error:{code:"not_allowed",message:"dialog open"}}),!0;(0,t.r)(e,"hass-toggle-menu",{open:!0}),s.fireMessage({id:i.id,type:"result",success:!0,result:null})}else if("automation/editor/show"===i.command){var d;(0,n.mX)(null===(d=i.payload)||void 0===d?void 0:d.config),s.fireMessage({id:i.id,type:"result",success:!0,result:null})}else if("bar_code/scan_result"===i.command)r.forEach((e=>e(i))),s.fireMessage({id:i.id,type:"result",success:!0,result:null});else{if("bar_code/aborted"!==i.command)return!1;r.forEach((e=>e(i))),s.fireMessage({id:i.id,type:"result",success:!0,result:null})}return!0}}};
//# sourceMappingURL=71932.8TG1QfQRDDA.js.map