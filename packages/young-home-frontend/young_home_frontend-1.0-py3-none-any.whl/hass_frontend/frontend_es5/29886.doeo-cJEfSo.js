"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[29886],{29886:function(e,i,t){t.r(i);var n=t(94881),s=t(1781),r=t(36683),o=t(89231),a=t(29864),d=t(83647),h=t(8364),c=t(76504),l=t(80792),u=(t(27934),t(77052),t(21950),t(68113),t(55888),t(56262),t(8339),t(196)),f=t(77664),v=t(40068),k=t(3414);(0,h.A)([(0,u.EM)("hui-conditional-card")],(function(e,i){var h,u=function(i){function t(){var i;(0,o.A)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return i=(0,a.A)(this,t,[].concat(s)),e(i),i}return(0,d.A)(t,i),(0,r.A)(t)}(i);return{F:u,d:[{kind:"method",static:!0,key:"getConfigElement",value:(h=(0,s.A)((0,n.A)().mark((function e(){return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(27311),t.e(88201),t.e(49774),t.e(35894),t.e(47420),t.e(22984),t.e(20593),t.e(38716),t.e(62223),t.e(92717),t.e(13952),t.e(33066),t.e(20520),t.e(64841),t.e(67915),t.e(93930),t.e(45819),t.e(68639),t.e(34)]).then(t.bind(t,46937));case 2:return e.abrupt("return",document.createElement("hui-conditional-card-editor"));case 3:case"end":return e.stop()}}),e)}))),function(){return h.apply(this,arguments)})},{kind:"method",static:!0,key:"getStubConfig",value:function(){return{type:"conditional",conditions:[],card:{}}}},{kind:"method",key:"setConfig",value:function(e){if(this.validateConfig(e),!e.card)throw new Error("No card configured");this._element=this._createCardElement(e.card)}},{kind:"method",key:"getCardSize",value:function(){return(0,v.Z)(this._element)}},{kind:"method",key:"_createCardElement",value:function(e){var i=document.createElement("hui-card");return i.hass=this.hass,i.preview=this.preview,i.config=e,i.load(),i}},{kind:"method",key:"setVisibility",value:function(e){var i=this.preview||e,t=this.hidden;(0,c.A)((0,l.A)(u.prototype),"setVisibility",this).call(this,e),t!==this.hidden&&(0,f.r)(this,"card-visibility-changed",{value:i})}}]}}),k.E)},3414:function(e,i,t){t.d(i,{E:function(){return v}});var n=t(36683),s=t(89231),r=t(29864),o=t(83647),a=t(8364),d=t(76504),h=t(80792),c=(t(86176),t(27934),t(77052),t(69466),t(68113),t(66274),t(85038),t(84531),t(34290),t(40924)),l=t(196),u=t(61314),f=t(60368),v=(0,a.A)([(0,l.EM)("hui-conditional-base")],(function(e,i){var t=function(i){function t(){var i;(0,s.A)(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return i=(0,r.A)(this,t,[].concat(o)),e(i),i}return(0,o.A)(t,i),(0,n.A)(t)}(i);return{F:t,d:[{kind:"field",decorators:[(0,l.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,l.MZ)({type:Boolean})],key:"preview",value:function(){return!1}},{kind:"field",decorators:[(0,l.wk)()],key:"_config",value:void 0},{kind:"field",key:"_element",value:void 0},{kind:"field",key:"_listeners",value:function(){return[]}},{kind:"field",key:"_mediaQueries",value:function(){return[]}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"validateConfig",value:function(e){if(!e.conditions)throw new Error("No conditions configured");if(!Array.isArray(e.conditions))throw new Error("Conditions need to be an array");if(!(0,f.db)(e.conditions))throw new Error("Conditions are invalid");this.lastChild&&this.removeChild(this.lastChild),this._config=e}},{kind:"method",key:"disconnectedCallback",value:function(){(0,d.A)((0,h.A)(t.prototype),"disconnectedCallback",this).call(this),this._clearMediaQueries()}},{kind:"method",key:"connectedCallback",value:function(){(0,d.A)((0,h.A)(t.prototype),"connectedCallback",this).call(this),this._listenMediaQueries(),this._updateVisibility()}},{kind:"method",key:"_clearMediaQueries",value:function(){this._listeners.forEach((function(e){return e()})),this._listeners=[]}},{kind:"method",key:"_listenMediaQueries",value:function(){var e=this;if(this._config&&this.hass){var i=this._config.conditions.filter((function(e){return"condition"in e})),t=(0,f.gW)(i);if(!(0,u.b)(t,this._mediaQueries)){this._clearMediaQueries();var n=this._config.conditions,s=1===n.length&&"condition"in n[0]&&"screen"===n[0].condition&&!!n[0].media_query;this._listeners=(0,f.CZ)(i,(function(i){s?e.setVisibility(i):e._updateVisibility()}))}}}},{kind:"method",key:"update",value:function(e){(0,d.A)((0,h.A)(t.prototype),"update",this).call(this,e),(e.has("_element")||e.has("_config")||e.has("hass")||e.has("preview"))&&(this._listenMediaQueries(),this._updateVisibility())}},{kind:"method",key:"_updateVisibility",value:function(){if(this._element&&this.hass&&this._config){this._element.preview=this.preview;var e=(0,f.XH)(this._config.conditions,this.hass);this.setVisibility(e)}}},{kind:"method",key:"setVisibility",value:function(e){if(this._element&&this.hass){var i=this.preview||e;this.hidden!==!i&&(this.toggleAttribute("hidden",!i),this.style.setProperty("display",i?"":"none")),i?(this._element.hass=this.hass,this._element.parentElement||this.appendChild(this._element)):this._element.parentElement&&this.removeChild(this._element)}}}]}}),c.mN)}}]);
//# sourceMappingURL=29886.doeo-cJEfSo.js.map