"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[93930],{4596:function(e,t,i){i.r(t),i.d(t,{HaCircularProgress:function(){return g}});var a,r=i(6238),n=i(61780),o=i(36683),s=i(89231),l=i(29864),d=i(83647),u=i(8364),c=i(76504),h=i(80792),v=(i(77052),i(57305)),p=i(40924),m=i(196),g=(0,u.A)([(0,m.EM)("ha-circular-progress")],(function(e,t){var i=function(t){function i(){var t;(0,s.A)(this,i);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return t=(0,l.A)(this,i,[].concat(r)),e(t),t}return(0,d.A)(i,t),(0,o.A)(i)}(t);return{F:i,d:[{kind:"field",decorators:[(0,m.MZ)({attribute:"aria-label",type:String})],key:"ariaLabel",value:function(){return"Loading"}},{kind:"field",decorators:[(0,m.MZ)()],key:"size",value:function(){return"medium"}},{kind:"method",key:"updated",value:function(e){if((0,c.A)((0,h.A)(i.prototype),"updated",this).call(this,e),e.has("size"))switch(this.size){case"tiny":this.style.setProperty("--md-circular-progress-size","16px");break;case"small":this.style.setProperty("--md-circular-progress-size","28px");break;case"medium":this.style.setProperty("--md-circular-progress-size","48px");break;case"large":this.style.setProperty("--md-circular-progress-size","68px")}}},{kind:"field",static:!0,key:"styles",value:function(){return[].concat((0,n.A)((0,c.A)((0,h.A)(i),"styles",this)),[(0,p.AH)(a||(a=(0,r.A)([":host{--md-sys-color-primary:var(--primary-color);--md-circular-progress-size:48px}"])))])}}]}}),v.U)},90743:function(e,t,i){var a=i(1781).A,r=i(94881).A;i.a(e,function(){var e=a(r().mark((function e(t,a){var n,o,s,l,d,u,c,h,v,p,m,g,f,y,k,b,_,A,w,x,M,E,C,L,V;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=i(6238),o=i(94881),s=i(1781),l=i(36683),d=i(89231),u=i(29864),c=i(83647),h=i(8364),v=i(76504),p=i(80792),m=i(77052),g=i(75658),f=i(36724),y=i(71936),i(48339),i(38716),k=i(40924),b=i(196),_=i(50308),A=i(67915),i(15296),i(49523),!(w=t([_])).then){e.next=35;break}return e.next=31,w;case 31:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=36;break;case 35:e.t0=w;case 36:_=e.t0[0],(0,h.A)([(0,b.EM)("hui-card-element-editor")],(function(e,t){var i,a,r=function(t){function i(){var t;(0,d.A)(this,i);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return t=(0,u.A)(this,i,[].concat(r)),e(t),t}return(0,c.A)(i,t),(0,l.A)(i)}(t);return{F:r,d:[{kind:"field",decorators:[(0,b.wk)()],key:"_curTab",value:function(){return"config"}},{kind:"field",decorators:[(0,b.MZ)({type:Boolean,attribute:"show-visibility-tab"})],key:"showVisibilityTab",value:function(){return!1}},{kind:"field",decorators:[(0,b.MZ)({type:Boolean,attribute:"show-layout-tab"})],key:"showLayoutTab",value:function(){return!1}},{kind:"method",key:"getConfigElement",value:(a=(0,s.A)((0,o.A)().mark((function e(){var t;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.dY)(this.configElementType);case 2:if(!(t=e.sent)||!t.getConfigElement){e.next=5;break}return e.abrupt("return",t.getConfigElement());case 5:return e.abrupt("return",void 0);case 6:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{kind:"method",key:"getConfigForm",value:(i=(0,s.A)((0,o.A)().mark((function e(){var t;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.dY)(this.configElementType);case 2:if(!(t=e.sent)||!t.getConfigForm){e.next=5;break}return e.abrupt("return",t.getConfigForm());case 5:return e.abrupt("return",void 0);case 6:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{kind:"method",key:"_handleTabSelected",value:function(e){e.detail.value&&(this._curTab=e.detail.value.id)}},{kind:"method",key:"_configChanged",value:function(e){e.stopPropagation(),this.value=e.detail.value}},{kind:"method",key:"renderConfigElement",value:function(){var e=this,t=["config"];if(this.showVisibilityTab&&t.push("visibility"),this.showLayoutTab&&t.push("layout"),1===t.length)return(0,v.A)((0,p.A)(r.prototype),"renderConfigElement",this).call(this);var i=k.s6;switch(this._curTab){case"config":i=(0,k.qy)(x||(x=(0,n.A)(["",""])),(0,v.A)((0,p.A)(r.prototype),"renderConfigElement",this).call(this));break;case"visibility":i=(0,k.qy)(M||(M=(0,n.A)([' <hui-card-visibility-editor .hass="','" .config="','" @value-changed="','"></hui-card-visibility-editor> '])),this.hass,this.value,this._configChanged);break;case"layout":i=(0,k.qy)(E||(E=(0,n.A)([' <hui-card-layout-editor .hass="','" .config="','" @value-changed="','"> </hui-card-layout-editor> '])),this.hass,this.value,this._configChanged)}return(0,k.qy)(C||(C=(0,n.A)([' <paper-tabs scrollable hide-scroll-buttons .selected="','" @selected-item-changed="','"> '," </paper-tabs> "," "])),t.indexOf(this._curTab),this._handleTabSelected,t.map((function(t,i){return(0,k.qy)(L||(L=(0,n.A)([' <paper-tab id="','" .dialogInitialFocus="','"> '," </paper-tab> "])),t,0===i,e.hass.localize("ui.panel.lovelace.editor.edit_card.tab_".concat(t)))})),i)}},{kind:"get",static:!0,key:"styles",value:function(){return[A.m.styles,(0,k.AH)(V||(V=(0,n.A)(["paper-tabs{--paper-tabs-selection-bar-color:var(--primary-color);color:var(--primary-text-color);text-transform:uppercase;margin-bottom:16px;border-bottom:1px solid var(--divider-color)}"])))]}}]}}),A.m),a(),e.next=44;break;case 41:e.prev=41,e.t2=e.catch(0),a(e.t2);case 44:case"end":return e.stop()}}),e,null,[[0,41]])})));return function(t,i){return e.apply(this,arguments)}}())},15296:function(e,t,i){var a,r,n,o,s,l,d,u,c,h,v,p,m,g=i(94881),f=i(1781),y=i(6238),k=i(36683),b=i(89231),_=i(29864),A=i(83647),w=i(8364),x=i(76504),M=i(80792),E=(i(77052),i(43859),i(1158),i(40924)),C=i(196),L=i(45081),V=i(77664),z=i(26507),P=i(48962),Z=(i(99535),i(59151),i(23141)),T=(i(99585),i(36724),i(650),i(98168),i(12731),i(21950),i(68113),i(58971),i(57733),i(56262),i(15445),i(24483),i(13478),i(46355),i(14612),i(53691),i(48455),i(8339),i(9540)),O=i(69760),F=i(80204),q=new Set(["ArrowRight","ArrowUp","ArrowLeft","ArrowDown","PageUp","PageDown","Home","End"]),D=((0,w.A)([(0,C.EM)("ha-grid-layout-slider")],(function(e,t){var i=function(t){function i(){var t;(0,b.A)(this,i);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return t=(0,_.A)(this,i,[].concat(r)),e(t),t}return(0,A.A)(i,t),(0,k.A)(i)}(t);return{F:i,d:[{kind:"field",decorators:[(0,C.MZ)({type:Boolean,reflect:!0})],key:"disabled",value:function(){return!1}},{kind:"field",decorators:[(0,C.MZ)({type:Boolean,reflect:!0})],key:"vertical",value:function(){return!1}},{kind:"field",decorators:[(0,C.MZ)({attribute:"touch-action"})],key:"touchAction",value:void 0},{kind:"field",decorators:[(0,C.MZ)({type:Number})],key:"value",value:void 0},{kind:"field",decorators:[(0,C.MZ)({type:Number})],key:"step",value:function(){return 1}},{kind:"field",decorators:[(0,C.MZ)({type:Number})],key:"min",value:function(){return 1}},{kind:"field",decorators:[(0,C.MZ)({type:Number})],key:"max",value:function(){return 4}},{kind:"field",decorators:[(0,C.MZ)({type:Number})],key:"range",value:void 0},{kind:"field",decorators:[(0,C.wk)()],key:"pressed",value:function(){return!1}},{kind:"field",key:"_mc",value:void 0},{kind:"get",key:"_range",value:function(){var e;return null!==(e=this.range)&&void 0!==e?e:this.max}},{kind:"method",key:"_valueToPercentage",value:function(e){return this._boundedValue(e)/this._range}},{kind:"method",key:"_percentageToValue",value:function(e){return this._range*e}},{kind:"method",key:"_steppedValue",value:function(e){return Math.round(e/this.step)*this.step}},{kind:"method",key:"_boundedValue",value:function(e){return Math.min(Math.max(e,this.min),this.max)}},{kind:"method",key:"firstUpdated",value:function(e){(0,x.A)((0,M.A)(i.prototype),"firstUpdated",this).call(this,e),this.setupListeners(),this.setAttribute("role","slider"),this.hasAttribute("tabindex")||this.setAttribute("tabindex","0")}},{kind:"method",key:"updated",value:function(e){if((0,x.A)((0,M.A)(i.prototype),"updated",this).call(this,e),e.has("value")){var t,a=this._steppedValue(null!==(t=this.value)&&void 0!==t?t:0);this.setAttribute("aria-valuenow",a.toString()),this.setAttribute("aria-valuetext",a.toString())}if(e.has("min")&&this.setAttribute("aria-valuemin",this.min.toString()),e.has("max")&&this.setAttribute("aria-valuemax",this.max.toString()),e.has("vertical")){var r=this.vertical?"vertical":"horizontal";this.setAttribute("aria-orientation",r)}}},{kind:"method",key:"connectedCallback",value:function(){(0,x.A)((0,M.A)(i.prototype),"connectedCallback",this).call(this),this.setupListeners()}},{kind:"method",key:"disconnectedCallback",value:function(){(0,x.A)((0,M.A)(i.prototype),"disconnectedCallback",this).call(this),this.destroyListeners()}},{kind:"field",decorators:[(0,C.P)("#slider")],key:"slider",value:void 0},{kind:"method",key:"setupListeners",value:function(){var e,t,i=this;this.slider&&!this._mc&&(this._mc=new T.mS(this.slider,{touchAction:null!==(e=this.touchAction)&&void 0!==e?e:this.vertical?"pan-x":"pan-y"}),this._mc.add(new T.uq({threshold:10,direction:T.ge,enable:!0})),this._mc.add(new T.Cx({event:"singletap"})),this._mc.on("panstart",(function(){i.disabled||(i.pressed=!0,t=i.value)})),this._mc.on("pancancel",(function(){i.disabled||(i.pressed=!1,i.value=t)})),this._mc.on("panmove",(function(e){if(!i.disabled){var t=i._getPercentageFromEvent(e);i.value=i._percentageToValue(t);var a=i._steppedValue(i._boundedValue(i.value));(0,V.r)(i,"slider-moved",{value:a})}})),this._mc.on("panend",(function(e){if(!i.disabled){i.pressed=!1;var t=i._getPercentageFromEvent(e),a=i._percentageToValue(t);i.value=i._steppedValue(i._boundedValue(a)),(0,V.r)(i,"slider-moved",{value:void 0}),(0,V.r)(i,"value-changed",{value:i.value})}})),this._mc.on("singletap",(function(e){if(!i.disabled){var t=i._getPercentageFromEvent(e),a=i._percentageToValue(t);i.value=i._steppedValue(i._boundedValue(a)),(0,V.r)(i,"value-changed",{value:i.value})}})),this.addEventListener("keydown",this._handleKeyDown),this.addEventListener("keyup",this._handleKeyUp))}},{kind:"method",key:"destroyListeners",value:function(){this._mc&&(this._mc.destroy(),this._mc=void 0),this.removeEventListener("keydown",this._handleKeyDown),this.removeEventListener("keyup",this._handleKeyUp)}},{kind:"get",key:"_tenPercentStep",value:function(){return Math.max(this.step,(this.max-this.min)/10)}},{kind:"method",key:"_handleKeyDown",value:function(e){var t,i,a,r;if(q.has(e.code)){switch(e.preventDefault(),e.code){case"ArrowRight":case"ArrowUp":this.value=this._boundedValue((null!==(t=this.value)&&void 0!==t?t:0)+this.step);break;case"ArrowLeft":case"ArrowDown":this.value=this._boundedValue((null!==(i=this.value)&&void 0!==i?i:0)-this.step);break;case"PageUp":this.value=this._steppedValue(this._boundedValue((null!==(a=this.value)&&void 0!==a?a:0)+this._tenPercentStep));break;case"PageDown":this.value=this._steppedValue(this._boundedValue((null!==(r=this.value)&&void 0!==r?r:0)-this._tenPercentStep));break;case"Home":this.value=this.min;break;case"End":this.value=this.max}(0,V.r)(this,"slider-moved",{value:this.value})}}},{kind:"method",key:"_handleKeyUp",value:function(e){q.has(e.code)&&(e.preventDefault(),(0,V.r)(this,"value-changed",{value:this.value}))}},{kind:"field",key:"_getPercentageFromEvent",value:function(){var e=this;return function(t){if(e.vertical){var i=t.center.y,a=t.target.getBoundingClientRect().top,r=t.target.clientHeight;return Math.max(Math.min(1,(i-a)/r),0)}var n=t.center.x,o=t.target.getBoundingClientRect().left,s=t.target.clientWidth;return Math.max(Math.min(1,(n-o)/s),0)}}},{kind:"method",key:"render",value:function(){var e;return(0,E.qy)(a||(a=(0,y.A)([' <div class="container','" style="','"> <div id="slider" class="slider"> <div class="track"> <div class="background"> <div class="active" style="','"></div> </div> </div> '," </div> </div> "])),(0,O.H)({pressed:this.pressed}),(0,F.W)({"--value":"".concat(this._valueToPercentage(null!==(e=this.value)&&void 0!==e?e:0))}),(0,F.W)({"--min":"".concat(this.min/this._range),"--max":"".concat(1-this.max/this._range)}),void 0!==this.value?(0,E.qy)(r||(r=(0,y.A)(['<div class="handle"></div>']))):E.s6)}},{kind:"get",static:!0,key:"styles",value:function(){return(0,E.AH)(n||(n=(0,y.A)([':host{display:block;--grid-layout-slider:48px;height:var(--grid-layout-slider);width:100%;outline:0;transition:box-shadow 180ms ease-in-out}:host(:focus-visible){box-shadow:0 0 0 2px var(--primary-color)}:host([vertical]){width:var(--grid-layout-slider);height:100%}.container{position:relative;height:100%;width:100%}.slider{position:relative;height:100%;width:100%;transform:translateZ(0);overflow:visible;cursor:pointer}.slider *{pointer-events:none}.track{position:absolute;inset:0;margin:auto;height:16px;width:100%;border-radius:8px;overflow:hidden}:host([vertical]) .track{width:16px;height:100%}.background{position:absolute;inset:0;background:var(--disabled-color);opacity:.5}.active{position:absolute;background:grey;top:0;right:calc(var(--max) * 100%);bottom:0;left:calc(var(--min) * 100%)}:host([vertical]) .active{top:calc(var(--min) * 100%);right:0;bottom:calc(var(--max) * 100%);left:0}.handle{position:absolute;top:0;height:100%;width:16px;transform:translate(-50%,0);background:var(--card-background-color);left:calc(var(--value,0%) * 100%);transition:left 180ms ease-in-out,top 180ms ease-in-out}:host([vertical]) .handle{transform:translate(0,-50%);left:0;top:calc(var(--value,0%) * 100%);height:16px;width:100%}.handle::after{position:absolute;inset:0;width:4px;border-radius:2px;height:100%;margin:auto;background:grey;content:""}:host([vertical]) .handle::after{height:4px;width:100%}:host(:disabled) .slider{cursor:not-allowed}.pressed .handle{transition:none}'])))}}]}}),E.WF),(0,w.A)([(0,C.EM)("ha-grid-size-picker")],(function(e,t){var i=function(t){function i(){var t;(0,b.A)(this,i);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return t=(0,_.A)(this,i,[].concat(r)),e(t),t}return(0,A.A)(i,t),(0,k.A)(i)}(t);return{F:i,d:[{kind:"field",decorators:[(0,C.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,C.MZ)({attribute:!1})],key:"value",value:void 0},{kind:"field",decorators:[(0,C.MZ)({attribute:!1})],key:"rows",value:function(){return 6}},{kind:"field",decorators:[(0,C.MZ)({attribute:!1})],key:"columns",value:function(){return 4}},{kind:"field",decorators:[(0,C.MZ)({attribute:!1})],key:"rowMin",value:void 0},{kind:"field",decorators:[(0,C.MZ)({attribute:!1})],key:"rowMax",value:void 0},{kind:"field",decorators:[(0,C.MZ)({attribute:!1})],key:"columnMin",value:void 0},{kind:"field",decorators:[(0,C.MZ)({attribute:!1})],key:"columnMax",value:void 0},{kind:"field",decorators:[(0,C.MZ)({attribute:!1})],key:"isDefault",value:void 0},{kind:"field",decorators:[(0,C.wk)()],key:"_localValue",value:function(){}},{kind:"method",key:"willUpdate",value:function(e){e.has("value")&&(this._localValue=this.value)}},{kind:"method",key:"render",value:function(){var e,t,i,a,r,n,d,u,c=this;return(0,E.qy)(o||(o=(0,y.A)([' <div class="grid"> <ha-grid-layout-slider aria-label="','" id="columns" .min="','" .max="','" .range="','" .value="','" @value-changed="','" @slider-moved="','"></ha-grid-layout-slider> <ha-grid-layout-slider aria-label="','" id="rows" .min="','" .max="','" .range="','" vertical .value="','" @value-changed="','" @slider-moved="','"></ha-grid-layout-slider> ',' <div class="preview" style="','"> <div> ',' </div> <div class="selected"> <div class="cell"></div> </div> </div> </div> '])),this.hass.localize("ui.components.grid-size-picker.columns"),null!==(e=this.columnMin)&&void 0!==e?e:1,null!==(t=this.columnMax)&&void 0!==t?t:this.columns,this.columns,null===(i=this.value)||void 0===i?void 0:i.columns,this._valueChanged,this._sliderMoved,this.hass.localize("ui.components.grid-size-picker.rows"),null!==(a=this.rowMin)&&void 0!==a?a:1,null!==(r=this.rowMax)&&void 0!==r?r:this.rows,this.rows,null===(n=this.value)||void 0===n?void 0:n.rows,this._valueChanged,this._sliderMoved,this.isDefault?E.s6:(0,E.qy)(s||(s=(0,y.A)([' <ha-icon-button @click="','" class="reset" .path="','" label="','" title="','"> </ha-icon-button> '])),this._reset,"M13,3A9,9 0 0,0 4,12H1L4.89,15.89L4.96,16.03L9,12H6A7,7 0 0,1 13,5A7,7 0 0,1 20,12A7,7 0 0,1 13,19C11.07,19 9.32,18.21 8.06,16.94L6.64,18.36C8.27,20 10.5,21 13,21A9,9 0 0,0 22,12A9,9 0 0,0 13,3Z",this.hass.localize("ui.components.grid-size-picker.reset_default"),this.hass.localize("ui.components.grid-size-picker.reset_default")),(0,F.W)({"--total-rows":this.rows,"--total-columns":this.columns,"--rows":null===(d=this._localValue)||void 0===d?void 0:d.rows,"--columns":null===(u=this._localValue)||void 0===u?void 0:u.columns}),Array(this.rows*this.columns).fill(0).map((function(e,t){var i=Math.floor(t/c.columns)+1,a=t%c.columns+1,r=void 0!==c.rowMin&&i<c.rowMin||void 0!==c.rowMax&&i>c.rowMax||void 0!==c.columnMin&&a<c.columnMin||void 0!==c.columnMax&&a>c.columnMax;return(0,E.qy)(l||(l=(0,y.A)([' <div class="cell" data-row="','" data-column="','" ?disabled="','" @click="','"></div> '])),i,a,r,c._cellClick)})))}},{kind:"method",key:"_cellClick",value:function(e){var t=e.currentTarget;if(null===t.getAttribute("disabled")){var i=Number(t.getAttribute("data-row")),a=Number(t.getAttribute("data-column"));(0,V.r)(this,"value-changed",{value:{rows:i,columns:a}})}}},{kind:"method",key:"_valueChanged",value:function(e){e.stopPropagation();var t=e.currentTarget.id,i=Object.assign(Object.assign({},this.value),{},(0,Z.A)({},t,e.detail.value));(0,V.r)(this,"value-changed",{value:i})}},{kind:"method",key:"_reset",value:function(e){e.stopPropagation(),(0,V.r)(this,"value-changed",{value:{rows:void 0,columns:void 0}})}},{kind:"method",key:"_sliderMoved",value:function(e){e.stopPropagation();var t=e.currentTarget.id;void 0!==e.detail.value&&(this._localValue=Object.assign(Object.assign({},this.value),{},(0,Z.A)({},t,e.detail.value)))}},{kind:"field",static:!0,key:"styles",value:function(){return[(0,E.AH)(d||(d=(0,y.A)(['.grid{display:grid;grid-template-areas:"reset column-slider" "row-slider preview";grid-template-rows:auto 1fr;grid-template-columns:auto 1fr;gap:8px}#columns{grid-area:column-slider}#rows{grid-area:row-slider}.reset{grid-area:reset}.preview{position:relative;grid-area:preview;aspect-ratio:1/1}.preview>div{position:absolute;width:100%;height:100%;top:0;left:0;display:grid;grid-template-columns:repeat(var(--total-columns),1fr);grid-template-rows:repeat(var(--total-rows),1fr);gap:4px}.preview .cell{background-color:var(--disabled-color);grid-column:span 1;grid-row:span 1;border-radius:4px;opacity:.2;cursor:pointer}.preview .cell[disabled]{opacity:.05;cursor:initial}.selected{pointer-events:none}.selected .cell{background-color:var(--primary-color);grid-column:1/span var(--columns,0);grid-row:1/span var(--rows,0);opacity:.5}'])))]}}]}}),E.WF),i(39335),i(84754),i(1683),i(20520),i(14126)),S=i(45819),U="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z";(0,w.A)([(0,C.EM)("hui-card-layout-editor")],(function(e,t){var i,a,r=function(t){function i(){var t;(0,b.A)(this,i);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return t=(0,_.A)(this,i,[].concat(r)),e(t),t}return(0,A.A)(i,t),(0,k.A)(i)}(t);return{F:r,d:[{kind:"field",decorators:[(0,C.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,C.MZ)({attribute:!1})],key:"config",value:void 0},{kind:"field",decorators:[(0,C.wk)()],key:"_defaultLayoutOptions",value:void 0},{kind:"field",decorators:[(0,C.wk)()],key:"_yamlMode",value:function(){return!1}},{kind:"field",decorators:[(0,C.wk)()],key:"_uiAvailable",value:function(){return!0}},{kind:"field",decorators:[(0,C.P)("ha-yaml-editor")],key:"_yamlEditor",value:void 0},{kind:"field",key:"_cardElement",value:void 0},{kind:"field",key:"_gridSizeValue",value:function(){return(0,L.A)((function(e,t){var i,a,r,n;return{rows:null!==(i=null!==(a=null==e?void 0:e.grid_rows)&&void 0!==a?a:null==t?void 0:t.grid_rows)&&void 0!==i?i:S.Q.grid_rows,columns:null!==(r=null!==(n=null==e?void 0:e.grid_columns)&&void 0!==n?n:null==t?void 0:t.grid_columns)&&void 0!==r?r:S.Q.grid_columns}}))}},{kind:"field",key:"_isDefault",value:function(){return(0,L.A)((function(e){return void 0===(null==e?void 0:e.grid_columns)&&void 0===(null==e?void 0:e.grid_rows)}))}},{kind:"method",key:"render",value:function(){return(0,E.qy)(u||(u=(0,y.A)([' <div class="header"> <p class="intro"> ',' </p> <ha-button-menu slot="icons" @action="','" @click="','" @closed="','" fixed .corner="','" .menuCorner="','"> <ha-icon-button slot="trigger" .label="','" .path="','"> </ha-icon-button> <ha-list-item graphic="icon" .disabled="','"> '," ",' </ha-list-item> <ha-list-item graphic="icon"> '," "," </ha-list-item> </ha-button-menu> </div> "," "])),this.hass.localize("ui.panel.lovelace.editor.edit_card.layout.explanation"),this._handleAction,z.w,P.d,"BOTTOM_END","END",this.hass.localize("ui.common.menu"),"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",!this._uiAvailable,this.hass.localize("ui.panel.lovelace.editor.edit_card.edit_ui"),this._yamlMode?E.s6:(0,E.qy)(c||(c=(0,y.A)([' <ha-svg-icon class="selected_menu_item" slot="graphic" .path="','"></ha-svg-icon> '])),U),this.hass.localize("ui.panel.lovelace.editor.edit_card.edit_yaml"),this._yamlMode?(0,E.qy)(h||(h=(0,y.A)([' <ha-svg-icon class="selected_menu_item" slot="graphic" .path="','"></ha-svg-icon> '])),U):E.s6,this._yamlMode?(0,E.qy)(v||(v=(0,y.A)([' <ha-yaml-editor .hass="','" .defaultValue="','" @value-changed="','"></ha-yaml-editor> '])),this.hass,this.config.layout_options,this._valueChanged):(0,E.qy)(p||(p=(0,y.A)([' <ha-grid-size-picker .hass="','" .value="','" .isDefault="','" @value-changed="','"></ha-grid-size-picker> '])),this.hass,this._gridSizeValue(this.config.layout_options,this._defaultLayoutOptions),this._isDefault(this.config.layout_options),this._gridSizeChanged))}},{kind:"method",key:"firstUpdated",value:function(e){var t=this;(0,x.A)((0,M.A)(r.prototype),"firstUpdated",this).call(this,e);try{this._cardElement=document.createElement("hui-card"),this._cardElement.hass=this.hass,this._cardElement.preview=!0,this._cardElement.config=this.config,this._cardElement.addEventListener("card-updated",(function(e){var i;e.stopPropagation(),t._defaultLayoutOptions=null===(i=t._cardElement)||void 0===i?void 0:i.getElementLayoutOptions()})),this._cardElement.load(),this._defaultLayoutOptions=this._cardElement.getElementLayoutOptions()}catch(i){console.error(i)}}},{kind:"method",key:"updated",value:function(e){(0,x.A)((0,M.A)(r.prototype),"updated",this).call(this,e),this._cardElement&&(e.has("hass")&&(this._cardElement.hass=this.hass),e.has("config")&&(this._cardElement.config=this.config))}},{kind:"method",key:"_handleAction",value:(a=(0,f.A)((0,g.A)().mark((function e(t){return(0,g.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.detail.index,e.next=0===e.t0?3:1===e.t0?5:2===e.t0?7:9;break;case 3:return this._yamlMode=!1,e.abrupt("break",9);case 5:return this._yamlMode=!0,e.abrupt("break",9);case 7:return this._reset(),e.abrupt("break",9);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{kind:"method",key:"_reset",value:(i=(0,f.A)((0,g.A)().mark((function e(){var t,i;return(0,g.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete(i=Object.assign({},this.config)).layout_options,null===(t=this._yamlEditor)||void 0===t||t.setValue({}),(0,V.r)(this,"value-changed",{value:i});case 4:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{kind:"method",key:"_gridSizeChanged",value:function(e){e.stopPropagation();var t=e.detail.value,i=Object.assign(Object.assign({},this.config),{},{layout_options:Object.assign(Object.assign({},this.config.layout_options),{},{grid_columns:t.columns,grid_rows:t.rows})});void 0===i.layout_options.grid_columns&&delete i.layout_options.grid_columns,void 0===i.layout_options.grid_rows&&delete i.layout_options.grid_rows,0===Object.keys(i.layout_options).length&&delete i.layout_options,(0,V.r)(this,"value-changed",{value:i})}},{kind:"method",key:"_valueChanged",value:function(e){e.stopPropagation();var t=e.detail.value,i=Object.assign(Object.assign({},this.config),{},{layout_options:t});(0,V.r)(this,"value-changed",{value:i})}},{kind:"field",static:!0,key:"styles",value:function(){return[D.RF,(0,E.AH)(m||(m=(0,y.A)([".header{display:flex;flex-direction:row;align-items:flex-start}.header .intro{flex:1;margin:0;color:var(--secondary-text-color)}.header ha-button-menu{--mdc-theme-text-primary-on-background:var(--primary-text-color);margin-top:-8px}.selected_menu_item{color:var(--primary-color)}.disabled{opacity:.5;pointer-events:none}ha-grid-size-picker{display:block;max-width:250px;margin:16px auto}ha-yaml-editor{display:block;margin:16px 0}"])))]}}]}}),E.WF)}}]);
//# sourceMappingURL=93930.3ic9Waz7W8M.js.map