{% extends "core/base.html" %}

{% load material_form i18n static %}
{% load render_table from django_tables2 %}

{% block page_title %}{{ object }}{% endblock %}
{% block browser_title %}{{ object }}{% endblock %}

{% block content %}
<a class="btn colour-primary waves-effect waves-light" href="{% url 'client_by_pk' object.client.pk %}">{% trans "Back" %}</a>

<div class="card">
  <div class="card-content">
    <div class="card-title">{% trans "Filter invoices" %}</div>
    <form method="get">
      {% form form=filter.form %}{% endform %}
      {% trans "Search" as caption %}
      {% include "core/partials/save_button.html" with caption=caption icon="search" %}
      <button type="reset" class="btn red waves-effect waves-light">
        <i class="material-icons left">clear</i>
        {% trans "Clear" %}
      </button>
    </form>
  </div>
</div>

<div class="card">
  <div class="card-content">
    <form action="" method="post">
      {% csrf_token %}
      <div class="row">
        <div class="col s12 {% if action_form %}m4 l4 xl6{% endif %}">
          <div class="card-title">{% trans "Selected invoices" %}</div>
        </div>
        {% if action_form %}
        <div class="col s12 m8 l8 xl6">
          <div class="col s12 m8">
            {% form form=action_form %}{% endform %}
          </div>
          <div class="col s12 m4">
            <button type="submit" class="btn waves-effect waves-primary">
              {% trans "Execute" %}
              <i class="material-icons right">send</i>
            </button>
          </div>
        </div>
        {% endif %}
      </div>

      {% render_table invoices_table %}
    </form>
  </div>
</div>
<script src="{% static "js/multi_select.js" %}"></script>
{% endblock %}
