import{a9 as K,bW as ke,bX as he,ac as J,ak as ue,au as Te,r as H,bY as Z,H as L,ae as ee,af as ge,bZ as ce,O as B,z as v,bj as ye,aM as re,b_ as xe,aT as Ve,bD as be,a6 as $,bC as Ce,bp as M,F as de,j as F,b$ as we,bv as ae,c0 as Ie,b6 as Ae,bG as De,bd as Re,at as Ee,c1 as Fe,ax as G,o as Be,c2 as Le,b5 as Oe,c3 as Me,aa as _e,c4 as He,c5 as Ue,aE as qe,c6 as ze,c7 as Ke,aP as ve,aR as Ne,S as $e,T as fe,bQ as je,a1 as We,Q as me,c8 as Qe,$ as Xe,B as Ye,c9 as pe,aC as Ge}from"./83qOXOD1.js";const Ze=K({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...ke({origin:"center center",scrollStrategy:"block",transition:{component:he},zIndex:2400})},"VDialog"),vt=J()({name:"VDialog",props:Ze(),emits:{"update:modelValue":e=>!0,afterLeave:()=>!0},setup(e,f){let{emit:n,slots:i}=f;const o=ue(e,"modelValue"),{scopeId:m}=Te(),d=H();function u(h){var g,b;const T=h.relatedTarget,r=h.target;if(T!==r&&((g=d.value)!=null&&g.contentEl)&&((b=d.value)!=null&&b.globalTop)&&![document,d.value.contentEl].includes(r)&&!d.value.contentEl.contains(r)){const y=xe(d.value.contentEl);if(!y.length)return;const c=y[0],x=y[y.length-1];T===c?x.focus():c.focus()}}Z&&L(()=>o.value&&e.retainFocus,h=>{h?document.addEventListener("focusin",u):document.removeEventListener("focusin",u)},{immediate:!0});function a(){var h;(h=d.value)!=null&&h.contentEl&&!d.value.contentEl.contains(document.activeElement)&&d.value.contentEl.focus({preventScroll:!0})}function S(){n("afterLeave")}return L(o,async h=>{var T;h||(await re(),(T=d.value.activatorEl)==null||T.focus({preventScroll:!0}))}),ee(()=>{const h=ce.filterProps(e),T=B({"aria-haspopup":"dialog","aria-expanded":String(o.value)},e.activatorProps),r=B({tabindex:-1},e.contentProps);return v(ce,B({ref:d,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},h,{modelValue:o.value,"onUpdate:modelValue":g=>o.value=g,"aria-modal":"true",activatorProps:T,contentProps:r,role:"dialog",onAfterEnter:a,onAfterLeave:S},m),{activator:i.activator,default:function(){for(var g=arguments.length,b=new Array(g),y=0;y<g;y++)b[y]=arguments[y];return v(ye,{root:"VDialog"},{default:()=>{var c;return[(c=i.default)==null?void 0:c.call(i,...b)]}})}})}),ge({},d)}}),Je=K({renderless:Boolean,...Ve()},"VVirtualScrollItem"),et=J()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Je(),emits:{"update:height":e=>!0},setup(e,f){let{attrs:n,emit:i,slots:o}=f;const{resizeRef:m,contentRect:d}=be(void 0,"border");L(()=>{var u;return(u=d.value)==null?void 0:u.height},u=>{u!=null&&i("update:height",u)}),ee(()=>{var u,a;return e.renderless?v($,null,[(u=o.default)==null?void 0:u.call(o,{itemRef:m})]):v("div",B({ref:m,class:["v-virtual-scroll__item",e.class],style:e.style},n),[(a=o.default)==null?void 0:a.call(o)])})}}),tt=-1,lt=1,oe=100,nt=K({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function at(e,f){const n=Ce(),i=M(0);de(()=>{i.value=parseFloat(e.itemHeight||0)});const o=M(0),m=M(Math.ceil((parseInt(e.height)||n.height.value)/(i.value||16))||1),d=M(0),u=M(0),a=H(),S=H();let h=0;const{resizeRef:T,contentRect:r}=be();de(()=>{T.value=a.value});const g=F(()=>{var t;return a.value===document.documentElement?n.height.value:((t=r.value)==null?void 0:t.height)||parseInt(e.height)||0}),b=F(()=>!!(a.value&&S.value&&g.value&&i.value));let y=Array.from({length:f.value.length}),c=Array.from({length:f.value.length});const x=M(0);let R=-1;function j(t){return y[t]||i.value}const E=Ie(()=>{const t=performance.now();c[0]=0;const s=f.value.length;for(let P=1;P<=s-1;P++)c[P]=(c[P-1]||0)+j(P-1);x.value=Math.max(x.value,performance.now()-t)},x),W=L(b,t=>{t&&(W(),h=S.value.offsetTop,E.immediate(),O(),~R&&re(()=>{Z&&window.requestAnimationFrame(()=>{Y(R),R=-1})}))});we(()=>{E.clear()});function te(t,s){const P=y[t],w=i.value;i.value=w?Math.min(i.value,s):s,(P!==s||w!==i.value)&&(y[t]=s,E())}function C(t){return t=ae(t,0,f.value.length-1),c[t]||0}function Q(t){return ot(c,t)}let U=0,_=0,N=0;L(g,(t,s)=>{s&&(O(),t<s&&requestAnimationFrame(()=>{_=0,O()}))});function le(){if(!a.value||!S.value)return;const t=a.value.scrollTop,s=performance.now();s-N>500?(_=Math.sign(t-U),h=S.value.offsetTop):_=t-U,U=t,N=s,O()}function q(){!a.value||!S.value||(_=0,N=0,O())}let X=-1;function O(){cancelAnimationFrame(X),X=requestAnimationFrame(ne)}function ne(){if(!a.value||!g.value)return;const t=U-h,s=Math.sign(_),P=Math.max(0,t-oe),w=ae(Q(P),0,f.value.length),p=t+g.value+oe,k=ae(Q(p)+1,w+1,f.value.length);if((s!==tt||w<o.value)&&(s!==lt||k>m.value)){const V=C(o.value)-C(w),I=C(k)-C(m.value);Math.max(V,I)>oe?(o.value=w,m.value=k):(w<=0&&(o.value=w),k>=f.value.length&&(m.value=k))}d.value=C(o.value),u.value=C(f.value.length)-C(m.value)}function Y(t){const s=C(t);!a.value||t&&!s?R=t:a.value.scrollTop=s}const l=F(()=>f.value.slice(o.value,m.value).map((t,s)=>({raw:t,index:s+o.value})));return L(f,()=>{y=Array.from({length:f.value.length}),c=Array.from({length:f.value.length}),E.immediate(),O()},{deep:!0}),{containerRef:a,markerRef:S,computedItems:l,paddingTop:d,paddingBottom:u,scrollToIndex:Y,handleScroll:le,handleScrollend:q,handleItemResize:te}}function ot(e,f){let n=e.length-1,i=0,o=0,m=null,d=-1;if(e[n]<f)return n;for(;i<=n;)if(o=i+n>>1,m=e[o],m>f)n=o-1;else if(m<f)d=o,i=o+1;else return m===f?o:i;return d}const ut=K({items:{type:Array,default:()=>[]},renderless:Boolean,...nt(),...Ve(),...Ae()},"VVirtualScroll"),rt=J()({name:"VVirtualScroll",props:ut(),setup(e,f){let{slots:n}=f;const i=De("VVirtualScroll"),{dimensionStyles:o}=Re(e),{containerRef:m,markerRef:d,handleScroll:u,handleScrollend:a,handleItemResize:S,scrollToIndex:h,paddingTop:T,paddingBottom:r,computedItems:g}=at(e,Ee(e,"items"));return Fe(()=>e.renderless,()=>{function b(){var x,R;const c=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";m.value===document.documentElement?(document[c]("scroll",u,{passive:!0}),document[c]("scrollend",a)):((x=m.value)==null||x[c]("scroll",u,{passive:!0}),(R=m.value)==null||R[c]("scrollend",a))}Be(()=>{m.value=Le(i.vnode.el,!0),b(!0)}),we(b)}),ee(()=>{const b=g.value.map(y=>v(et,{key:y.index,renderless:e.renderless,"onUpdate:height":c=>S(y.index,c)},{default:c=>{var x;return(x=n.default)==null?void 0:x.call(n,{item:y.raw,index:y.index,...c})}}));return e.renderless?v($,null,[v("div",{ref:d,class:"v-virtual-scroll__spacer",style:{paddingTop:G(T.value)}},null),b,v("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:G(r.value)}},null)]):v("div",{ref:m,class:["v-virtual-scroll",e.class],onScrollPassive:u,onScrollend:a,style:[o.value,e.style]},[v("div",{ref:d,class:"v-virtual-scroll__container",style:{paddingTop:G(T.value),paddingBottom:G(r.value)}},[b])])}),{scrollToIndex:h}}});function st(e,f){const n=M(!1);let i;function o(u){cancelAnimationFrame(i),n.value=!0,i=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{n.value=!1})})}async function m(){await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>{if(n.value){const a=L(n,()=>{a(),u()})}else u()})}async function d(u){var h,T;if(u.key==="Tab"&&((h=f.value)==null||h.focus()),!["PageDown","PageUp","Home","End"].includes(u.key))return;const a=(T=e.value)==null?void 0:T.$el;if(!a)return;(u.key==="Home"||u.key==="End")&&a.scrollTo({top:u.key==="Home"?0:a.scrollHeight,behavior:"smooth"}),await m();const S=a.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(u.key==="PageDown"||u.key==="Home"){const r=a.getBoundingClientRect().top;for(const g of S)if(g.getBoundingClientRect().top>=r){g.focus();break}}else{const r=a.getBoundingClientRect().bottom;for(const g of[...S].reverse())if(g.getBoundingClientRect().bottom<=r){g.focus();break}}}return{onListScroll:o,onListKeydown:d}}const it=K({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Oe,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...Me({itemChildren:!1})},"Select"),ct=K({...it(),..._e(He({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Ue({transition:{component:he}})},"VSelect"),ft=J()({name:"VSelect",props:ct(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,f){let{slots:n}=f;const{t:i}=qe(),o=H(),m=H(),d=H(),u=ue(e,"menu"),a=F({get:()=>u.value,set:l=>{var t;u.value&&!l&&((t=m.value)!=null&&t.Î¨openChildren)||(u.value=l)}}),{items:S,transformIn:h,transformOut:T}=ze(e),r=ue(e,"modelValue",[],l=>h(l===null?[null]:Ge(l)),l=>{const t=T(l);return e.multiple?t:t[0]??null}),g=F(()=>typeof e.counterValue=="function"?e.counterValue(r.value):typeof e.counterValue=="number"?e.counterValue:r.value.length),b=Ke(),y=F(()=>r.value.map(l=>l.value)),c=M(!1),x=F(()=>a.value?e.closeText:e.openText);let R="",j;const E=F(()=>e.hideSelected?S.value.filter(l=>!r.value.some(t=>e.valueComparator(t,l))):S.value),W=F(()=>e.hideNoData&&!E.value.length||e.readonly||(b==null?void 0:b.isReadonly.value)),te=F(()=>{var l;return{...e.menuProps,activatorProps:{...((l=e.menuProps)==null?void 0:l.activatorProps)||{},"aria-haspopup":"listbox"}}}),C=H(),{onListScroll:Q,onListKeydown:U}=st(C,o);function _(l){e.openOnClear&&(a.value=!0)}function N(){W.value||(a.value=!a.value)}function le(l){var p,k;if(!l.key||e.readonly||b!=null&&b.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(l.key)&&l.preventDefault(),["Enter","ArrowDown"," "].includes(l.key)&&(a.value=!0),["Escape","Tab"].includes(l.key)&&(a.value=!1),l.key==="Home"?(p=C.value)==null||p.focus("first"):l.key==="End"&&((k=C.value)==null||k.focus("last"));const t=1e3;function s(V){const I=V.key.length===1,A=!V.ctrlKey&&!V.metaKey&&!V.altKey;return I&&A}if(e.multiple||!s(l))return;const P=performance.now();P-j>t&&(R=""),R+=l.key.toLowerCase(),j=P;const w=S.value.find(V=>V.title.toLowerCase().startsWith(R));if(w!==void 0){r.value=[w];const V=E.value.indexOf(w);Z&&window.requestAnimationFrame(()=>{var I;V>=0&&((I=d.value)==null||I.scrollToIndex(V))})}}function q(l){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!l.props.disabled)if(e.multiple){const s=r.value.findIndex(w=>e.valueComparator(w.value,l.value)),P=t??!~s;if(~s){const w=P?[...r.value,l]:[...r.value];w.splice(s,1),r.value=w}else P&&(r.value=[...r.value,l])}else{const s=t!==!1;r.value=s?[l]:[],re(()=>{a.value=!1})}}function X(l){var t;(t=C.value)!=null&&t.$el.contains(l.relatedTarget)||(a.value=!1)}function O(){var l;c.value&&((l=o.value)==null||l.focus())}function ne(l){c.value=!0}function Y(l){if(l==null)r.value=[];else if(pe(o.value,":autofill")||pe(o.value,":-webkit-autofill")){const t=S.value.find(s=>s.title===l);t&&q(t)}else o.value&&(o.value.value="")}return L(a,()=>{if(!e.hideSelected&&a.value&&r.value.length){const l=E.value.findIndex(t=>r.value.some(s=>e.valueComparator(s.value,t.value)));Z&&window.requestAnimationFrame(()=>{var t;l>=0&&((t=d.value)==null||t.scrollToIndex(l))})}}),L(()=>e.items,(l,t)=>{a.value||c.value&&!t.length&&l.length&&(a.value=!0)}),ee(()=>{const l=!!(e.chips||n.chip),t=!!(!e.hideNoData||E.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),s=r.value.length>0,P=ve.filterProps(e),w=s||!c.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return v(ve,B({ref:o},P,{modelValue:r.value.map(p=>p.props.value).join(", "),"onUpdate:modelValue":Y,focused:c.value,"onUpdate:focused":p=>c.value=p,validationValue:r.externalValue,counterValue:g.value,dirty:s,class:["v-select",{"v-select--active-menu":a.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":r.value.length,"v-select--selection-slot":!!n.selection},e.class],style:e.style,inputmode:"none",placeholder:w,"onClick:clear":_,"onMousedown:control":N,onBlur:X,onKeydown:le,"aria-label":i(x.value),title:i(x.value)}),{...n,default:()=>v($,null,[v(Ne,B({ref:m,modelValue:a.value,"onUpdate:modelValue":p=>a.value=p,activator:"parent",contentClass:"v-select__content",disabled:W.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:O},te.value),{default:()=>[t&&v($e,B({ref:C,selected:y.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:p=>p.preventDefault(),onKeydown:U,onFocusin:ne,onScrollPassive:Q,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},e.listProps),{default:()=>{var p,k,V;return[(p=n["prepend-item"])==null?void 0:p.call(n),!E.value.length&&!e.hideNoData&&(((k=n["no-data"])==null?void 0:k.call(n))??v(fe,{title:i(e.noDataText)},null)),v(rt,{ref:d,renderless:!0,items:E.value},{default:I=>{var ie;let{item:A,index:z,itemRef:D}=I;const se=B(A.props,{ref:D,key:z,onClick:()=>q(A,null)});return((ie=n.item)==null?void 0:ie.call(n,{item:A,index:z,props:se}))??v(fe,B(se,{role:"option"}),{prepend:Se=>{let{isSelected:Pe}=Se;return v($,null,[e.multiple&&!e.hideSelected?v(je,{key:A.value,modelValue:Pe,ripple:!1,tabindex:"-1"},null):void 0,A.props.prependAvatar&&v(We,{image:A.props.prependAvatar},null),A.props.prependIcon&&v(me,{icon:A.props.prependIcon},null)])}})}}),(V=n["append-item"])==null?void 0:V.call(n)]}})]}),r.value.map((p,k)=>{function V(D){D.stopPropagation(),D.preventDefault(),q(p,!1)}const I={"onClick:close":V,onKeydown(D){D.key!=="Enter"&&D.key!==" "||(D.preventDefault(),D.stopPropagation(),V(D))},onMousedown(D){D.preventDefault(),D.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},A=l?!!n.chip:!!n.selection,z=A?Qe(l?n.chip({item:p,index:k,props:I}):n.selection({item:p,index:k})):void 0;if(!(A&&!z))return v("div",{key:p.value,class:"v-select__selection"},[l?n.chip?v(ye,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:p.title}}},{default:()=>[z]}):v(Xe,B({key:"chip",closable:e.closableChips,size:"small",text:p.title,disabled:p.props.disabled},I),null):z??v("span",{class:"v-select__selection-text"},[p.title,e.multiple&&k<r.value.length-1&&v("span",{class:"v-select__selection-comma"},[Ye(",")])])])})]),"append-inner":function(){var I;for(var p=arguments.length,k=new Array(p),V=0;V<p;V++)k[V]=arguments[V];return v($,null,[(I=n["append-inner"])==null?void 0:I.call(n,...k),e.menuIcon?v(me,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),ge({isFocused:c,menu:a,select:q},o)}});export{vt as V,ft as a};
